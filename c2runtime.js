// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,da,ea,fa,ga,ha,w,ia,ja,la,ma,na,oa,E,pa,ra,ta,ua,va,ya,za,Aa,Da,Ea,Fa,H,Ga,Ha,Ia,Ja,Ka,Q,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,R,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc={},gc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(d){return d.__proto__}:function(d){return d.constructor.prototype});
(function(){function d(a,c,b,g){this.set(a,c,b,g)}function n(){this.pb=this.ob=this.rb=this.qb=this.zb=this.yb=this.Ya=this.Xa=0}function m(a,c,b,g){a<c?b<g?(p=a<b?a:b,z=c>g?c:g):(p=a<g?a:g,z=c>b?c:b):b<g?(p=c<b?c:b,z=a>g?a:g):(p=c<g?c:g,z=a>b?a:b)}function h(){this.items=this.Ka=null;this.dh=0;C&&(this.Ka=new Set);this.qg=[];this.ge=!0}function t(a){sa[ka++]=a}function v(){this.X=this.Zj=this.y=this.Ak=0}function r(a){this.Ja=[];this.di=this.fi=this.gi=this.ei=0;this.Ih(a)}function b(a,c){this.Fk=
a;this.Ek=c;this.cells={}}function f(a,c){this.Fk=a;this.Ek=c;this.cells={}}function e(a,c,b){var g;return N.length?(g=N.pop(),g.sl=a,g.x=c,g.y=b,g):new ba(a,c,b)}function a(a,c,b){this.sl=a;this.x=c;this.y=b;this.eb=new ca}function c(a,c,b){var g;return A.length?(g=A.pop(),g.sl=a,g.x=c,g.y=b,g):new da(a,c,b)}function g(a,c,b){this.sl=a;this.x=c;this.y=b;this.eb=[];this.Wf=!0;this.vd=new ca;this.wg=!1}function k(a,c){return a.dd-c.dd}ea=function(a){window.console&&window.console.log&&window.console.log(a)};
fa=function(a){window.console&&window.console.error&&window.console.error(a)};aa=function(a){return a};ga=function(a){return"undefined"===typeof a};ha=function(a){return"number"===typeof a};w=function(a){return"string"===typeof a};ia=function(a){return 0<a&&0===(a-1&a)};ja=function(a){--a;for(var c=1;32>c;c<<=1)a=a|a>>c;return a+1};la=function(a){return 0>a?-a:a};ma=function(a,c){return a>c?a:c};na=function(a,c){return a<c?a:c};oa=Math.PI;E=function(a){return 0<=a?a|0:(a|0)-1};pa=function(a){var c=
a|0;return c===a?c:c+1};ra=function(a,c,b,g,e,f,k,l){var x,y,F,u;a<b?(y=a,x=b):(y=b,x=a);e<k?(u=e,F=k):(u=k,F=e);if(x<u||y>F)return!1;c<g?(y=c,x=g):(y=g,x=c);f<l?(u=f,F=l):(u=l,F=f);if(x<u||y>F)return!1;x=e-a+k-b;y=f-c+l-g;a=b-a;c=g-c;e=k-e;f=l-f;l=la(c*e-f*a);return la(e*y-f*x)>l?!1:la(a*y-c*x)<=l};d.prototype.set=function(a,c,b,g){this.left=a;this.top=c;this.right=b;this.bottom=g};d.prototype.Cg=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};d.prototype.width=
function(){return this.right-this.left};d.prototype.height=function(){return this.bottom-this.top};d.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};d.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};d.prototype.El=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};d.prototype.Fl=
function(a,c,b){return!(a.right+c<this.left||a.bottom+b<this.top||a.left+c>this.right||a.top+b>this.bottom)};d.prototype.Za=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};d.prototype.Ig=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};ta=d;n.prototype.Ad=function(a){this.Xa=a.left;this.Ya=a.top;this.yb=a.right;this.zb=a.top;this.qb=a.right;this.rb=a.bottom;this.ob=a.left;this.pb=a.bottom};n.prototype.Nq=function(a,
c){if(0===c)this.Ad(a);else{var b=Math.sin(c),g=Math.cos(c),e=a.left*b,f=a.top*b,k=a.right*b,b=a.bottom*b,l=a.left*g,x=a.top*g,y=a.right*g,g=a.bottom*g;this.Xa=l-f;this.Ya=x+e;this.yb=y-f;this.zb=x+k;this.qb=y-b;this.rb=g+k;this.ob=l-b;this.pb=g+e}};n.prototype.offset=function(a,c){this.Xa+=a;this.Ya+=c;this.yb+=a;this.zb+=c;this.qb+=a;this.rb+=c;this.ob+=a;this.pb+=c;return this};var p=0,z=0;n.prototype.ko=function(a){m(this.Xa,this.yb,this.qb,this.ob);a.left=p;a.right=z;m(this.Ya,this.zb,this.rb,
this.pb);a.top=p;a.bottom=z};n.prototype.Za=function(a,c){var b=this.Xa,g=this.Ya,e=this.yb-b,f=this.zb-g,k=this.qb-b,l=this.rb-g,x=a-b,y=c-g,F=e*e+f*f,u=e*k+f*l,f=e*x+f*y,p=k*k+l*l,q=k*x+l*y,d=1/(F*p-u*u),e=(p*f-u*q)*d,F=(F*q-u*f)*d;if(0<=e&&0<F&&1>e+F)return!0;e=this.ob-b;f=this.pb-g;F=e*e+f*f;u=e*k+f*l;f=e*x+f*y;d=1/(F*p-u*u);e=(p*f-u*q)*d;F=(F*q-u*f)*d;return 0<=e&&0<F&&1>e+F};n.prototype.rc=function(a,c){if(c)switch(a){case 0:return this.Xa;case 1:return this.yb;case 2:return this.qb;case 3:return this.ob;
case 4:return this.Xa;default:return this.Xa}else switch(a){case 0:return this.Ya;case 1:return this.zb;case 2:return this.rb;case 3:return this.pb;case 4:return this.Ya;default:return this.Ya}};n.prototype.Wp=function(){return(this.Xa+this.yb+this.qb+this.ob)/4};n.prototype.Xp=function(){return(this.Ya+this.zb+this.rb+this.pb)/4};n.prototype.Yg=function(a,c,b,g){if(this.Za(a,c)||this.Za(b,g))return!0;var e,f,k,l,x;for(x=0;4>x;x++)if(e=this.rc(x,!0),f=this.rc(x,!1),k=this.rc(x+1,!0),l=this.rc(x+1,
!1),ra(a,c,b,g,e,f,k,l))return!0;return!1};n.prototype.Dl=function(a){var c=a.Wp(),b=a.Xp();if(this.Za(c,b))return!0;c=this.Wp();b=this.Xp();if(a.Za(c,b))return!0;var g,e,f,k,l,x,y,u;for(y=0;4>y;y++)for(u=0;4>u;u++)if(c=this.rc(y,!0),b=this.rc(y,!1),g=this.rc(y+1,!0),e=this.rc(y+1,!1),f=a.rc(u,!0),k=a.rc(u,!1),l=a.rc(u+1,!0),x=a.rc(u+1,!1),ra(c,b,g,e,f,k,l,x))return!0;return!1};ua=n;va=function(a,c,b){return Math.max(Math.min(a,255),0)|Math.max(Math.min(c,255),0)<<8|Math.max(Math.min(b,255),0)<<16};
ya=function(a){return a&255};za=function(a){return(a&65280)>>8};Aa=function(a){return(a&16711680)>>16};Da=function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a};Ea=function(a,c){var b,g;c=E(c);if(!(0>c||c>=a.length)){b=c;for(g=a.length-1;b<g;b++)a[b]=a[b+1];Fa(a,g)}};Fa=function(a,c){a.length=c};H=function(a){Fa(a,0)};Ga=function(a,c){H(a);var b,g;b=0;for(g=c.length;b<g;++b)a[b]=c[b]};Ha=function(a,c){a.push.apply(a,c)};Ia=function(a,c){var b,g;b=0;for(g=a.length;b<g;++b)if(a[b]===
c)return b;return-1};Ja=function(a,c){var b=Ia(a,c);-1!==b&&Ea(a,b)};Ka=function(a,c,b){return a<c?c:a>b?b:a};Q=function(a){return a/(180/oa)};La=function(a){return 180/oa*a};Ma=function(a){a%=360;0>a&&(a+=360);return a};Na=function(a){a%=2*oa;0>a&&(a+=2*oa);return a};Oa=function(a){return Ma(La(a))};Pa=function(a){return Na(Q(a))};Qa=function(a,c,b,g){return Math.atan2(g-c,b-a)};Ra=function(a,c){if(a===c)return 0;var b=Math.sin(a),g=Math.cos(a),e=Math.sin(c),f=Math.cos(c),b=b*e+g*f;return 1<=b?0:
-1>=b?oa:Math.acos(b)};Sa=function(a,c,b){var g=Math.sin(a),e=Math.cos(a),f=Math.sin(c),k=Math.cos(c);return Math.acos(g*f+e*k)>b?0<e*f-g*k?Na(a+b):Na(a-b):Na(c)};Ta=function(a,c){var b=Math.sin(a),g=Math.cos(a),e=Math.sin(c),f=Math.cos(c);return 0>=g*e-b*f};R=function(a,c,b,g){a=b-a;c=g-c;return Math.sqrt(a*a+c*c)};Ua=function(a,c){return!a!==!c};Va=function(a,c,b){return a===c?0:(b-a)/(c-a)};Wa=function(a,c,b){var g=Ra(a,c);return Ta(c,a)?a+g*b:a-g*b};Xa=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;
return!1};Ya=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var q=+new Date;Za=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-q};var l=!1,u=l=!1,W=!1;"undefined"!==typeof window&&(l=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
l=!l&&/safari/i.test(navigator.userAgent),u=/(iphone|ipod|ipad)/i.test(navigator.userAgent),W=window.c2ejecta);var C=!l&&!W&&!u&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;h.prototype.contains=function(a){return this.Pd()?!1:C?this.Ka.has(a):this.items&&this.items.hasOwnProperty(a)};h.prototype.add=function(a){if(C)this.Ka.has(a)||(this.Ka.add(a),this.ge=!1);else{var c=a.toString(),b=this.items;b?b.hasOwnProperty(c)||(b[c]=a,this.dh++,this.ge=!1):(this.items={},this.items[c]=
a,this.dh=1,this.ge=!1)}};h.prototype.remove=function(a){if(!this.Pd())if(C)this.Ka.has(a)&&(this.Ka["delete"](a),this.ge=!1);else if(this.items){a=a.toString();var c=this.items;c.hasOwnProperty(a)&&(delete c[a],this.dh--,this.ge=!1)}};h.prototype.clear=function(){this.Pd()||(C?this.Ka.clear():(this.items=null,this.dh=0),H(this.qg),this.ge=!0)};h.prototype.Pd=function(){return 0===this.count()};h.prototype.count=function(){return C?this.Ka.size:this.dh};var sa=null,ka=0;h.prototype.Nx=function(){if(!this.ge){if(C)H(this.qg),
sa=this.qg,ka=0,this.Ka.forEach(t),sa=null,ka=0;else{var a=this.qg;H(a);var c,b=0,g=this.items;if(g)for(c in g)g.hasOwnProperty(c)&&(a[b++]=g[c])}this.ge=!0}};h.prototype.qc=function(){this.Nx();return this.qg};ca=h;var K=new ca;$a=function(a){var c,b;c=0;for(b=a.length;c<b;++c)K.add(a[c]);Ga(a,K.qc());K.clear()};ab=function(a,c){C?bb(a,c.Ka):cb(a,c.qc())};bb=function(a,c){var b,g,e,f;g=b=0;for(e=a.length;b<e;++b)f=a[b],c.has(f)||(a[g++]=f);Fa(a,g)};cb=function(a,c){var b,g,e,f;g=b=0;for(e=a.length;b<
e;++b)f=a[b],-1===Ia(c,f)&&(a[g++]=f);Fa(a,g)};v.prototype.add=function(a){this.y=a-this.Ak;this.Zj=this.X+this.y;this.Ak=this.Zj-this.X-this.y;this.X=this.Zj};v.prototype.reset=function(){this.X=this.Zj=this.y=this.Ak=0};db=v;fb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};r.prototype.Ih=function(a){this.vq=a;this.nc=a.length/2;this.Ja.length=a.length;this.ji=this.ki=-1;this.oo=0};r.prototype.od=function(){return!this.vq.length};r.prototype.U=function(){for(var a=this.Ja,c=a[0],
b=c,g=a[1],e=g,f,k,l=1,x=this.nc;l<x;++l)k=2*l,f=a[k],k=a[k+1],f<c&&(c=f),f>b&&(b=f),k<g&&(g=k),k>e&&(e=k);this.ei=c;this.fi=b;this.gi=g;this.di=e};r.prototype.Ad=function(a,c,b){this.Ja.length=8;this.nc=4;var g=this.Ja;g[0]=a.left-c;g[1]=a.top-b;g[2]=a.right-c;g[3]=a.top-b;g[4]=a.right-c;g[5]=a.bottom-b;g[6]=a.left-c;g[7]=a.bottom-b;this.ki=a.right-a.left;this.ji=a.bottom-a.top;this.U()};r.prototype.Ud=function(a,c,b,g,e){this.Ja.length=8;this.nc=4;var f=this.Ja;f[0]=a.Xa-c;f[1]=a.Ya-b;f[2]=a.yb-
c;f[3]=a.zb-b;f[4]=a.qb-c;f[5]=a.rb-b;f[6]=a.ob-c;f[7]=a.pb-b;this.ki=g;this.ji=e;this.U()};r.prototype.Mq=function(a){this.nc=a.nc;Ga(this.Ja,a.Ja);this.ei=a.ei;this.gi-a.gi;this.fi=a.fi;this.di=a.di};r.prototype.jd=function(a,c,b){if(this.ki!==a||this.ji!==c||this.oo!==b){this.ki=a;this.ji=c;this.oo=b;var g,e,f,k,l,x=0,y=1,u=this.vq,p=this.Ja;0!==b&&(x=Math.sin(b),y=Math.cos(b));b=0;for(f=this.nc;b<f;b++)g=2*b,e=g+1,k=u[g]*a,l=u[e]*c,p[g]=k*y-l*x,p[e]=l*y+k*x;this.U()}};r.prototype.Za=function(a,
c){var b=this.Ja;if(a===b[0]&&c===b[1])return!0;var g,e,f,k=this.nc,l=this.ei-110,x=this.gi-101,y=this.fi+131,u=this.di+120,p,q,d=0,z=0;for(g=0;g<k;g++)e=2*g,f=(g+1)%k*2,p=b[e],e=b[e+1],q=b[f],f=b[f+1],ra(l,x,a,c,p,e,q,f)&&d++,ra(y,u,a,c,p,e,q,f)&&z++;return 1===d%2||1===z%2};r.prototype.ef=function(a,c,b){var g=a.Ja,e=this.Ja;if(this.Za(g[0]+c,g[1]+b)||a.Za(e[0]-c,e[1]-b))return!0;var f,k,l,x,y,u,p,q,d,z,r,h;f=0;for(x=this.nc;f<x;f++)for(k=2*f,l=(f+1)%x*2,q=e[k],k=e[k+1],d=e[l],z=e[l+1],l=0,p=a.nc;l<
p;l++)if(y=2*l,u=(l+1)%p*2,r=g[y]+c,y=g[y+1]+b,h=g[u]+c,u=g[u+1]+b,ra(q,k,d,z,r,y,h,u))return!0;return!1};r.prototype.Yg=function(a,c,b,g,e,f){var k=this.Ja;if(this.Za(b-a,g-c))return!0;var l,x,y,u,p,q;l=0;for(x=this.nc;l<x;l++)if(y=2*l,u=(l+1)%x*2,p=k[y]+a,y=k[y+1]+c,q=k[u]+a,u=k[u+1]+c,ra(b,g,e,f,p,y,q,u))return!0;return!1};gb=r;b.prototype.qe=function(a,c,b){var g;g=this.cells[a];return g?(g=g[c])?g:b?(g=e(this,a,c),this.cells[a][c]=g):null:b?(g=e(this,a,c),this.cells[a]={},this.cells[a][c]=g):
null};b.prototype.Db=function(a){return E(a/this.Fk)};b.prototype.Eb=function(a){return E(a/this.Ek)};b.prototype.update=function(a,c,b){var g,e,f,k,l;if(c)for(g=c.left,e=c.right;g<=e;++g)for(f=c.top,k=c.bottom;f<=k;++f)if(!b||!b.Za(g,f))if(l=this.qe(g,f,!1))l.remove(a),l.Pd()&&(l.eb.clear(),1E3>N.length&&N.push(l),this.cells[g][f]=null);if(b)for(g=b.left,e=b.right;g<=e;++g)for(f=b.top,k=b.bottom;f<=k;++f)c&&c.Za(g,f)||this.qe(g,f,!0).Al(a)};b.prototype.Cj=function(a,c){var b,g,f,e,k,l;b=this.Db(a.left);
f=this.Eb(a.top);g=this.Db(a.right);for(k=this.Eb(a.bottom);b<=g;++b)for(e=f;e<=k;++e)(l=this.qe(b,e,!1))&&l.dump(c)};hb=b;f.prototype.qe=function(a,b,g){var f;f=this.cells[a];return f?(f=f[b])?f:g?(f=c(this,a,b),this.cells[a][b]=f):null:g?(f=c(this,a,b),this.cells[a]={},this.cells[a][b]=f):null};f.prototype.Db=function(a){return E(a/this.Fk)};f.prototype.Eb=function(a){return E(a/this.Ek)};f.prototype.update=function(a,c,b){var g,f,e,k,l;if(c)for(g=c.left,f=c.right;g<=f;++g)for(e=c.top,k=c.bottom;e<=
k;++e)if(!b||!b.Za(g,e))if(l=this.qe(g,e,!1))l.remove(a),l.Pd()&&(l.reset(),1E3>A.length&&A.push(l),this.cells[g][e]=null);if(b)for(g=b.left,f=b.right;g<=f;++g)for(e=b.top,k=b.bottom;e<=k;++e)c&&c.Za(g,e)||this.qe(g,e,!0).Al(a)};f.prototype.Cj=function(a,c,b,g,f){var e,k;a=this.Db(a);c=this.Eb(c);b=this.Db(b);for(e=this.Eb(g);a<=b;++a)for(g=c;g<=e;++g)(k=this.qe(a,g,!1))&&k.dump(f)};f.prototype.vw=function(a){var c,b,g,f,e;c=a.left;g=a.top;b=a.right;for(f=a.bottom;c<=b;++c)for(a=g;a<=f;++a)if(e=this.qe(c,
a,!1))e.Wf=!1};ib=f;var N=[];a.prototype.Pd=function(){return this.eb.Pd()};a.prototype.Al=function(a){this.eb.add(a)};a.prototype.remove=function(a){this.eb.remove(a)};a.prototype.dump=function(a){Ha(a,this.eb.qc())};ba=a;var A=[];g.prototype.Pd=function(){if(!this.eb.length)return!0;if(this.eb.length>this.vd.count())return!1;this.el();return!0};g.prototype.Al=function(a){this.vd.contains(a)?(this.vd.remove(a),this.vd.Pd()&&(this.wg=!1)):this.eb.length?(this.eb[this.eb.length-1].nd()>a.nd()&&(this.Wf=
!1),this.eb.push(a)):(this.eb.push(a),this.Wf=!0)};g.prototype.remove=function(a){this.vd.add(a);this.wg=!0;30<=this.vd.count()&&this.el()};g.prototype.el=function(){this.wg&&(this.vd.count()===this.eb.length?this.reset():(ab(this.eb,this.vd),this.vd.clear(),this.wg=!1))};g.prototype.Cu=function(){this.Wf||(this.eb.sort(k),this.Wf=!0)};g.prototype.reset=function(){H(this.eb);this.Wf=!0;this.vd.clear();this.wg=!1};g.prototype.dump=function(a){this.el();this.Cu();this.eb.length&&a.push(this.eb)};da=
g;var M="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");jb=function(a){return 0>=a||11<=a?"source-over":M[a-1]};kb=function(a,c,b){if(b)switch(a.ub=b.ONE,a.sb=b.ONE_MINUS_SRC_ALPHA,c){case 1:a.ub=b.ONE;a.sb=b.ONE;break;case 3:a.ub=b.ONE;a.sb=b.ZERO;break;case 4:a.ub=b.ONE_MINUS_DST_ALPHA;a.sb=b.ONE;break;case 5:a.ub=b.DST_ALPHA;a.sb=b.ZERO;break;case 6:a.ub=b.ZERO;a.sb=b.SRC_ALPHA;break;case 7:a.ub=b.ONE_MINUS_DST_ALPHA;
a.sb=b.ZERO;break;case 8:a.ub=b.ZERO;a.sb=b.ONE_MINUS_SRC_ALPHA;break;case 9:a.ub=b.DST_ALPHA;a.sb=b.ONE_MINUS_SRC_ALPHA;break;case 10:a.ub=b.ONE_MINUS_DST_ALPHA,a.sb=b.SRC_ALPHA}};lb=function(a){return Math.round(1E6*a)/1E6};mb=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};nb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||mb(a.tagName,"canvas")?!0:!1}})();
var hc="undefined"!==typeof Float32Array?Float32Array:Array;function ic(d){var n=new hc(3);d&&(n[0]=d[0],n[1]=d[1],n[2]=d[2]);return n}function jc(d){var n=new hc(16);d&&(n[0]=d[0],n[1]=d[1],n[2]=d[2],n[3]=d[3],n[4]=d[4],n[5]=d[5],n[6]=d[6],n[7]=d[7],n[8]=d[8],n[9]=d[9],n[10]=d[10],n[11]=d[11],n[12]=d[12],n[13]=d[13],n[14]=d[14],n[15]=d[15]);return n}
function kc(d,n){n[0]=d[0];n[1]=d[1];n[2]=d[2];n[3]=d[3];n[4]=d[4];n[5]=d[5];n[6]=d[6];n[7]=d[7];n[8]=d[8];n[9]=d[9];n[10]=d[10];n[11]=d[11];n[12]=d[12];n[13]=d[13];n[14]=d[14];n[15]=d[15]}function lc(d,n){var m=n[0],h=n[1];n=n[2];d[0]*=m;d[1]*=m;d[2]*=m;d[3]*=m;d[4]*=h;d[5]*=h;d[6]*=h;d[7]*=h;d[8]*=n;d[9]*=n;d[10]*=n;d[11]*=n}
function mc(d,n,m,h){h||(h=jc());var t,v,r,b,f,e,a,c,g=d[0],k=d[1];d=d[2];v=m[0];r=m[1];t=m[2];m=n[1];e=n[2];g===n[0]&&k===m&&d===e?(d=h,d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1):(m=g-n[0],e=k-n[1],a=d-n[2],c=1/Math.sqrt(m*m+e*e+a*a),m*=c,e*=c,a*=c,n=r*a-t*e,t=t*m-v*a,v=v*e-r*m,(c=Math.sqrt(n*n+t*t+v*v))?(c=1/c,n*=c,t*=c,v*=c):v=t=n=0,r=e*v-a*t,b=a*n-m*v,f=m*t-e*n,(c=Math.sqrt(r*r+b*b+f*f))?(c=1/c,r*=c,b*=c,f*=c):f=b=r=0,
h[0]=n,h[1]=r,h[2]=m,h[3]=0,h[4]=t,h[5]=b,h[6]=e,h[7]=0,h[8]=v,h[9]=f,h[10]=a,h[11]=0,h[12]=-(n*g+t*k+v*d),h[13]=-(r*g+b*k+f*d),h[14]=-(m*g+e*k+a*d),h[15]=1)}
(function(){function d(b,f,e){this.ve=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.pa=!!e;this.Qi=this.Zg=!1;this.si=0;this.ok=1;this.wn=1E3;this.Tx=(this.wn-this.ok)/32768;this.Ck=ic([0,0,100]);this.Ep=ic([0,0,0]);this.jr=ic([0,1,0]);this.Yh=ic([1,1,1]);this.Io=!0;this.nj=jc();this.lc=jc();this.Rl=jc();this.Pk=jc();this.B=b;this.version=0===this.B.getParameter(this.B.VERSION).indexOf("WebGL 2")?2:1;this.ip()}function n(b,f,e){this.B=b;this.Jh=
f;this.name=e;this.wc=b.getAttribLocation(f,"aPos");this.Fe=b.getAttribLocation(f,"aTex");this.Cp=b.getUniformLocation(f,"matP");this.ij=b.getUniformLocation(f,"matMV");this.dg=b.getUniformLocation(f,"opacity");this.cm=b.getUniformLocation(f,"colorFill");this.Dp=b.getUniformLocation(f,"samplerFront");this.nh=b.getUniformLocation(f,"samplerBack");this.nf=b.getUniformLocation(f,"destStart");this.mf=b.getUniformLocation(f,"destEnd");this.ph=b.getUniformLocation(f,"seconds");this.em=b.getUniformLocation(f,
"pixelWidth");this.dm=b.getUniformLocation(f,"pixelHeight");this.mh=b.getUniformLocation(f,"layerScale");this.lh=b.getUniformLocation(f,"layerAngle");this.qh=b.getUniformLocation(f,"viewOrigin");this.oh=b.getUniformLocation(f,"scrollPos");this.Vv=!!(this.em||this.dm||this.ph||this.nh||this.nf||this.mf||this.mh||this.lh||this.qh||this.oh);this.Mp=this.Np=-999;this.mj=1;this.Ip=this.Hp=0;this.Kp=this.Gp=this.Fp=1;this.Qp=this.Pp=this.Op=this.Sp=this.Rp=this.Jp=0;this.Ql=[];this.Lp=jc();this.dg&&b.uniform1f(this.dg,
1);this.cm&&b.uniform4f(this.cm,1,1,1,1);this.Dp&&b.uniform1i(this.Dp,0);this.nh&&b.uniform1i(this.nh,1);this.nf&&b.uniform2f(this.nf,0,0);this.mf&&b.uniform2f(this.mf,1,1);this.mh&&b.uniform1f(this.mh,1);this.lh&&b.uniform1f(this.lh,0);this.qh&&b.uniform2f(this.qh,0,0);this.oh&&b.uniform2f(this.oh,0,0);this.ph&&b.uniform1f(this.ph,0);this.cf=!1}function m(b,f){return b[0]===f[0]&&b[1]===f[1]&&b[2]===f[2]&&b[3]===f[3]&&b[4]===f[4]&&b[5]===f[5]&&b[6]===f[6]&&b[7]===f[7]&&b[8]===f[8]&&b[9]===f[9]&&
b[10]===f[10]&&b[11]===f[11]&&b[12]===f[12]&&b[13]===f[13]&&b[14]===f[14]&&b[15]===f[15]}function h(b,f){this.type=b;this.n=f;this.B=f.B;this.jc=this.wb=this.nq=0;this.V=this.Fc=null;this.Oq=[]}var t=jc();d.prototype.ip=function(){var b=this.B,f;this.wp=1;this.jf=this.ze=null;this.ri=1;b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);b.enable(b.BLEND);b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA);b.disable(b.CULL_FACE);b.disable(b.STENCIL_TEST);b.disable(b.DITHER);this.pa?(b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL)):
b.disable(b.DEPTH_TEST);this.xp=b.ONE;this.tp=b.ONE_MINUS_SRC_ALPHA;this.Xh=new Float32Array(8E3*(this.pa?3:2));this.Qh=new Float32Array(16E3);this.sq=new Float32Array(32E3);this.vm=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,this.vm);b.bufferData(b.ARRAY_BUFFER,this.sq.byteLength,b.DYNAMIC_DRAW);this.Wh=Array(4);this.Ph=Array(4);for(f=0;4>f;f++)this.Wh[f]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.Wh[f]),b.bufferData(b.ARRAY_BUFFER,this.Xh.byteLength,b.DYNAMIC_DRAW),this.Ph[f]=b.createBuffer(),
b.bindBuffer(b.ARRAY_BUFFER,this.Ph[f]),b.bufferData(b.ARRAY_BUFFER,this.Qh.byteLength,b.DYNAMIC_DRAW);this.Gd=0;this.Yv=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.Yv);for(var e=new Uint16Array(12E3),a=f=0;12E3>f;)e[f++]=a,e[f++]=a+1,e[f++]=a+2,e[f++]=a,e[f++]=a+2,e[f++]=a+3,a+=4;b.bufferData(b.ELEMENT_ARRAY_BUFFER,e,b.STATIC_DRAW);this.wm=this.Oe=this.Ic=0;this.Ha=[];f=this.pa?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";e=this.Dg({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},f,"<default>");this.Ha.push(e);e=this.Dg({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ha.push(e);e=this.Dg({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},f,"<earlyz>");this.Ha.push(e);e=this.Dg({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
f,"<fill>");this.Ha.push(e);for(var c in nc)nc.hasOwnProperty(c)&&this.Ha.push(this.Dg(nc[c],f,c));b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,null);this.hd=[];this.Nc=0;this.$a=!1;this.Bo=this.eh=-1;this.Kf=null;this.dl=b.createFramebuffer();this.vi=this.Gj=null;this.ho=!1;this.pa&&(this.vi=b.createRenderbuffer());this.Pe=ic([0,0,0]);this.Tp=b.getParameter(b.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Tp&&(this.Tp=2048);this.Ob(0)};n.prototype.qn=function(b){m(this.Lp,b)||(kc(b,this.Lp),this.B.uniformMatrix4fv(this.ij,
!1,b))};d.prototype.Dg=function(b,f,e){var a=this.B,c=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(c,b.src);a.compileShader(c);if(!a.getShaderParameter(c,a.COMPILE_STATUS))throw b=a.getShaderInfoLog(c),a.deleteShader(c),Error("error compiling fragment shader: "+b);var g=a.createShader(a.VERTEX_SHADER);a.shaderSource(g,f);a.compileShader(g);if(!a.getShaderParameter(g,a.COMPILE_STATUS))throw b=a.getShaderInfoLog(g),a.deleteShader(c),a.deleteShader(g),Error("error compiling vertex shader: "+b);f=
a.createProgram();a.attachShader(f,c);a.attachShader(f,g);a.linkProgram(f);if(!a.getProgramParameter(f,a.LINK_STATUS))throw b=a.getProgramInfoLog(f),a.deleteShader(c),a.deleteShader(g),a.deleteProgram(f),Error("error linking shader program: "+b);a.useProgram(f);a.deleteShader(c);a.deleteShader(g);c=new n(a,f,e);c.bl=b.bl||0;c.cl=b.cl||0;c.Ao=!!b.Ao;c.Zc=!!b.Zc;c.eo=!!b.eo;c.W=b.W||[];b=0;for(g=c.W.length;b<g;b++)c.W[b][1]=a.getUniformLocation(f,c.W[b][0]),c.Ql.push(0),a.uniform1f(c.W[b][1],0);return c};
d.prototype.pl=function(b){var f,e;f=0;for(e=this.Ha.length;f<e;f++)if(this.Ha[f].name===b)return f;return-1};d.prototype.uq=function(b,f,e){var a=this.lc,c=this.nj,g=[0,0,0,0,0,0,0,0];g[0]=a[0]*b+a[4]*f+a[12];g[1]=a[1]*b+a[5]*f+a[13];g[2]=a[2]*b+a[6]*f+a[14];g[3]=a[3]*b+a[7]*f+a[15];g[4]=c[0]*g[0]+c[4]*g[1]+c[8]*g[2]+c[12]*g[3];g[5]=c[1]*g[0]+c[5]*g[1]+c[9]*g[2]+c[13]*g[3];g[6]=c[2]*g[0]+c[6]*g[1]+c[10]*g[2]+c[14]*g[3];g[7]=-g[2];0!==g[7]&&(g[7]=1/g[7],g[4]*=g[7],g[5]*=g[7],g[6]*=g[7],e[0]=(.5*g[4]+
.5)*this.width,e[1]=(.5*g[5]+.5)*this.height)};d.prototype.wf=function(b,f,e){if(this.width!==b||this.height!==f||e){this.Kd();e=this.B;this.width=b;this.height=f;e.viewport(0,0,b,f);mc(this.Ck,this.Ep,this.jr,this.lc);if(this.pa){var a=-b/2;b=b/2;var c=f/2;f=-f/2;var g=this.ok,k=this.wn,p=this.nj;p||(p=jc());var d=b-a,q=f-c,l=k-g;p[0]=2/d;p[1]=0;p[2]=0;p[3]=0;p[4]=0;p[5]=2/q;p[6]=0;p[7]=0;p[8]=0;p[9]=0;p[10]=-2/l;p[11]=0;p[12]=-(a+b)/d;p[13]=-(f+c)/q;p[14]=-(k+g)/l;p[15]=1;this.Yh[0]=1;this.Yh[1]=
1}else f=b/f,a=this.ok,b=this.wn,p=this.nj,k=a*Math.tan(45*Math.PI/360),f*=k,c=-f,g=-k,p||(p=jc()),d=f-c,q=k-g,l=b-a,p[0]=2*a/d,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=2*a/q,p[6]=0,p[7]=0,p[8]=(f+c)/d,p[9]=(k+g)/q,p[10]=-(b+a)/l,p[11]=-1,p[12]=0,p[13]=0,p[14]=-(b*a*2)/l,p[15]=0,a=[0,0],b=[0,0],this.uq(0,0,a),this.uq(1,1,b),this.Yh[0]=1/(b[0]-a[0]),this.Yh[1]=-1/(b[1]-a[1]);a=0;for(b=this.Ha.length;a<b;a++)c=this.Ha[a],c.cf=!1,c.Cp&&(e.useProgram(c.Jh),e.uniformMatrix4fv(c.Cp,!1,this.nj));e.useProgram(this.Ha[this.eh].Jh);
e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE1);e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE0);this.jf=this.ze=null;this.vi&&(e.bindFramebuffer(e.FRAMEBUFFER,this.dl),e.bindRenderbuffer(e.RENDERBUFFER,this.vi),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.width,this.height),this.ho||(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.vi),this.ho=!0),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),
this.Gj=null)}};d.prototype.Bc=function(){mc(this.Ck,this.Ep,this.jr,this.lc);lc(this.lc,this.Yh)};d.prototype.translate=function(b,f){if(0!==b||0!==f){this.Pe[0]=b;this.Pe[1]=f;this.Pe[2]=0;var e=this.lc,a=this.Pe,c=a[0],g=a[1],a=a[2];e[12]=e[0]*c+e[4]*g+e[8]*a+e[12];e[13]=e[1]*c+e[5]*g+e[9]*a+e[13];e[14]=e[2]*c+e[6]*g+e[10]*a+e[14];e[15]=e[3]*c+e[7]*g+e[11]*a+e[15]}};d.prototype.scale=function(b,f){if(1!==b||1!==f)this.Pe[0]=b,this.Pe[1]=f,this.Pe[2]=1,lc(this.lc,this.Pe)};d.prototype.Jj=function(b){if(0!==
b){var f=this.lc,e,a=Math.sin(b);b=Math.cos(b);var c=f[0],g=f[1],k=f[2],p=f[3],d=f[4],q=f[5],l=f[6],u=f[7];e?f!==e&&(e[8]=f[8],e[9]=f[9],e[10]=f[10],e[11]=f[11],e[12]=f[12],e[13]=f[13],e[14]=f[14],e[15]=f[15]):e=f;e[0]=c*b+d*a;e[1]=g*b+q*a;e[2]=k*b+l*a;e[3]=p*b+u*a;e[4]=c*-a+d*b;e[5]=g*-a+q*b;e[6]=k*-a+l*b;e[7]=p*-a+u*b}};d.prototype.oc=function(){if(!m(this.Rl,this.lc)){var b=this.Mb();b.type=5;b.V?kc(this.lc,b.V):b.V=jc(this.lc);kc(this.lc,this.Rl);this.$a=!1}};d.prototype.Nj=function(b){this.pa&&
(32760<b&&(b=32760),this.si=this.Ck[2]-this.ok-b*this.Tx)};h.prototype.lu=function(){var b=this.B,f=this.n;0!==this.wb?(b.depthMask(!0),b.colorMask(!1,!1,!1,!1),b.disable(b.BLEND),b.bindFramebuffer(b.FRAMEBUFFER,f.dl),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.clear(b.DEPTH_BUFFER_BIT),b.bindFramebuffer(b.FRAMEBUFFER,null),f.Qi=!0):(b.depthMask(!1),b.colorMask(!0,!0,!0,!0),b.enable(b.BLEND),f.Qi=!1)};h.prototype.pu=function(){this.B.bindTexture(this.B.TEXTURE_2D,
this.Fc)};h.prototype.qu=function(){var b=this.B;b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,this.Fc);b.activeTexture(b.TEXTURE0)};h.prototype.mu=function(){var b=this.nq,f=this.n;f.ri=b;f=f.Kf;f.dg&&f.mj!==b&&(f.mj=b,this.B.uniform1f(f.dg,b))};h.prototype.gu=function(){this.B.drawElements(this.B.TRIANGLES,this.jc,this.B.UNSIGNED_SHORT,this.wb)};h.prototype.iu=function(){this.B.blendFunc(this.wb,this.jc)};h.prototype.ru=function(){var b,f,e,a=this.n.Ha,c=this.n.Bo;b=0;for(f=a.length;b<
f;b++)e=a[b],b===c&&e.ij?(e.qn(this.V),e.cf=!0):e.cf=!1;kc(this.V,this.n.Pk)};h.prototype.hu=function(){var b=this.B,f=this.n;this.Fc?(f.jf===this.Fc&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,null),f.jf=null,b.activeTexture(b.TEXTURE0)),b.bindFramebuffer(b.FRAMEBUFFER,f.dl),f.Qi||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.Fc,0)):(f.pa||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.bindFramebuffer(b.FRAMEBUFFER,null))};
h.prototype.cu=function(){var b=this.B,f=this.wb;0===f?(b.clearColor(this.V[0],this.V[1],this.V[2],this.V[3]),b.clear(b.COLOR_BUFFER_BIT)):1===f?(b.enable(b.SCISSOR_TEST),b.scissor(this.V[0],this.V[1],this.V[2],this.V[3]),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.disable(b.SCISSOR_TEST)):b.clear(b.DEPTH_BUFFER_BIT)};h.prototype.ku=function(){var b=this.B;0!==this.wb?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)};h.prototype.fu=function(){var b=this.B,f=this.n;f.pa&&b.disable(b.DEPTH_TEST);
var e=f.Ha[1];b.useProgram(e.Jh);!e.cf&&e.ij&&(e.qn(f.Pk),e.cf=!0);b.enableVertexAttribArray(e.wc);b.bindBuffer(b.ARRAY_BUFFER,f.vm);b.vertexAttribPointer(e.wc,4,b.FLOAT,!1,0,0);b.drawArrays(b.POINTS,this.wb/4,this.jc);e=f.Kf;b.useProgram(e.Jh);0<=e.wc&&(b.enableVertexAttribArray(e.wc),b.bindBuffer(b.ARRAY_BUFFER,f.Wh[f.Gd]),b.vertexAttribPointer(e.wc,f.pa?3:2,b.FLOAT,!1,0,0));0<=e.Fe&&(b.enableVertexAttribArray(e.Fe),b.bindBuffer(b.ARRAY_BUFFER,f.Ph[f.Gd]),b.vertexAttribPointer(e.Fe,2,b.FLOAT,!1,
0,0));f.pa&&b.enable(b.DEPTH_TEST)};h.prototype.nu=function(){var b=this.B,f=this.n,e=f.Ha[this.wb];f.Bo=this.wb;f.Kf=e;b.useProgram(e.Jh);!e.cf&&e.ij&&(e.qn(f.Pk),e.cf=!0);e.dg&&e.mj!==f.ri&&(e.mj=f.ri,b.uniform1f(e.dg,f.ri));0<=e.wc&&(b.enableVertexAttribArray(e.wc),b.bindBuffer(b.ARRAY_BUFFER,f.Wh[f.Gd]),b.vertexAttribPointer(e.wc,f.pa?3:2,b.FLOAT,!1,0,0));0<=e.Fe&&(b.enableVertexAttribArray(e.Fe),b.bindBuffer(b.ARRAY_BUFFER,f.Ph[f.Gd]),b.vertexAttribPointer(e.Fe,2,b.FLOAT,!1,0,0))};h.prototype.ju=
function(){var b=this.V;this.B.uniform4f(this.n.Kf.cm,b[0],b[1],b[2],b[3])};h.prototype.ou=function(){var b,f,e=this.n.Kf,a=this.B;b=this.V;e.nh&&this.n.jf!==this.Fc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this.Fc),this.n.jf=this.Fc,a.activeTexture(a.TEXTURE0));var c=b[0];e.em&&c!==e.Np&&(e.Np=c,a.uniform1f(e.em,c));c=b[1];e.dm&&c!==e.Mp&&(e.Mp=c,a.uniform1f(e.dm,c));c=b[2];f=b[3];!e.nf||c===e.Hp&&f===e.Ip||(e.Hp=c,e.Ip=f,a.uniform2f(e.nf,c,f));c=b[4];f=b[5];!e.mf||c===e.Fp&&f===
e.Gp||(e.Fp=c,e.Gp=f,a.uniform2f(e.mf,c,f));c=b[6];e.mh&&c!==e.Kp&&(e.Kp=c,a.uniform1f(e.mh,c));c=b[7];e.lh&&c!==e.Jp&&(e.Jp=c,a.uniform1f(e.lh,c));c=b[8];f=b[9];!e.qh||c===e.Rp&&f===e.Sp||(e.Rp=c,e.Sp=f,a.uniform2f(e.qh,c,f));c=b[10];f=b[11];!e.oh||c===e.Op&&f===e.Pp||(e.Op=c,e.Pp=f,a.uniform2f(e.oh,c,f));c=b[12];e.ph&&c!==e.Qp&&(e.Qp=c,a.uniform1f(e.ph,c));if(e.W.length)for(b=0,f=e.W.length;b<f;b++)c=this.Oq[b],c!==e.Ql[b]&&(e.Ql[b]=c,a.uniform1f(e.W[b][1],c))};d.prototype.Mb=function(){this.Nc===
this.hd.length&&this.hd.push(new h(0,this));return this.hd[this.Nc++]};d.prototype.Kd=function(){if(0!==this.Nc&&!this.B.isContextLost()){var b=this.B;0<this.wm&&(b.bindBuffer(b.ARRAY_BUFFER,this.vm),b.bufferSubData(b.ARRAY_BUFFER,0,this.sq.subarray(0,this.wm)),f&&0<=f.wc&&"<point>"===f.name&&b.vertexAttribPointer(f.wc,4,b.FLOAT,!1,0,0));if(0<this.Ic){var f=this.Kf;b.bindBuffer(b.ARRAY_BUFFER,this.Wh[this.Gd]);b.bufferSubData(b.ARRAY_BUFFER,0,this.Xh.subarray(0,this.Ic));f&&0<=f.wc&&"<point>"!==f.name&&
b.vertexAttribPointer(f.wc,this.pa?3:2,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,this.Ph[this.Gd]);b.bufferSubData(b.ARRAY_BUFFER,0,this.Qh.subarray(0,this.Oe));f&&0<=f.Fe&&"<point>"!==f.name&&b.vertexAttribPointer(f.Fe,2,b.FLOAT,!1,0,0)}for(var e,b=0,f=this.Nc;b<f;b++)switch(e=this.hd[b],e.type){case 1:e.gu();break;case 2:e.pu();break;case 3:e.mu();break;case 4:e.iu();break;case 5:e.ru();break;case 6:e.hu();break;case 7:e.cu();break;case 8:e.fu();break;case 9:e.nu();break;case 10:e.ou();break;
case 11:e.qu();break;case 12:e.ju();break;case 13:e.ku();break;case 14:e.lu()}this.wm=this.Oe=this.Ic=this.Nc=0;this.Qi=this.$a=!1;this.Gd++;4<=this.Gd&&(this.Gd=0)}};d.prototype.Me=function(b){if(b!==this.wp&&!this.Zg){var f=this.Mb();f.type=3;this.wp=f.nq=b;this.$a=!1}};d.prototype.Wa=function(b){if(b!==this.ze){var f=this.Mb();f.type=2;this.ze=f.Fc=b;this.$a=!1}};d.prototype.Le=function(b,f){if((b!==this.xp||f!==this.tp)&&!this.Zg){var e=this.Mb();e.type=4;e.wb=b;e.jc=f;this.xp=b;this.tp=f;this.$a=
!1}};d.prototype.Fq=function(){this.Le(this.B.ONE,this.B.ONE_MINUS_SRC_ALPHA)};d.prototype.uf=function(b,f,e,a,c,g,k,p){15992<=this.Ic&&this.Kd();var d=this.Ic,q=this.Oe,l=this.Xh,u=this.Qh,r=this.si;if(this.$a)this.hd[this.Nc-1].jc+=6;else{var h=this.Mb();h.type=1;h.wb=this.pa?d:d/2*3;h.jc=6;this.$a=!0}this.pa?(l[d++]=b,l[d++]=f,l[d++]=r,l[d++]=e,l[d++]=a,l[d++]=r,l[d++]=c,l[d++]=g,l[d++]=r,l[d++]=k,l[d++]=p,l[d++]=r):(l[d++]=b,l[d++]=f,l[d++]=e,l[d++]=a,l[d++]=c,l[d++]=g,l[d++]=k,l[d++]=p);u[q++]=
0;u[q++]=0;u[q++]=1;u[q++]=0;u[q++]=1;u[q++]=1;u[q++]=0;u[q++]=1;this.Ic=d;this.Oe=q};d.prototype.wd=function(b,f,e,a,c,g,k,p,d){15992<=this.Ic&&this.Kd();var q=this.Ic,l=this.Oe,u=this.Xh,r=this.Qh,h=this.si;if(this.$a)this.hd[this.Nc-1].jc+=6;else{var n=this.Mb();n.type=1;n.wb=this.pa?q:q/2*3;n.jc=6;this.$a=!0}var n=d.left,m=d.top,t=d.right;d=d.bottom;this.pa?(u[q++]=b,u[q++]=f,u[q++]=h,u[q++]=e,u[q++]=a,u[q++]=h,u[q++]=c,u[q++]=g,u[q++]=h,u[q++]=k,u[q++]=p,u[q++]=h):(u[q++]=b,u[q++]=f,u[q++]=e,
u[q++]=a,u[q++]=c,u[q++]=g,u[q++]=k,u[q++]=p);r[l++]=n;r[l++]=m;r[l++]=t;r[l++]=m;r[l++]=t;r[l++]=d;r[l++]=n;r[l++]=d;this.Ic=q;this.Oe=l};d.prototype.yq=function(b,f,e,a,c,g,k,p,d,q,l,u,r){15992<=this.Ic&&this.Kd();var h=this.Ic,n=this.Oe,m=this.Xh,t=this.Qh,v=this.si;if(this.$a)this.hd[this.Nc-1].jc+=6;else{var A=this.Mb();A.type=1;A.wb=this.pa?h:h/2*3;A.jc=6;this.$a=!0}this.pa?(m[h++]=b,m[h++]=f,m[h++]=v,m[h++]=e,m[h++]=a,m[h++]=v,m[h++]=c,m[h++]=g,m[h++]=v,m[h++]=k,m[h++]=p,m[h++]=v):(m[h++]=
b,m[h++]=f,m[h++]=e,m[h++]=a,m[h++]=c,m[h++]=g,m[h++]=k,m[h++]=p);t[n++]=d;t[n++]=q;t[n++]=l;t[n++]=0;t[n++]=u;t[n++]=0;t[n++]=r;t[n++]=0;this.Ic=h;this.Oe=n};d.prototype.yo=function(b){var f=b.length/2-2,e=f-1,a=b[0],c=b[1],g,k,p,d,q,l,u;for(g=0;g<f;g+=2)k=2*g,p=b[k+2],d=b[k+3],q=b[k+4],l=b[k+5],g===e?this.uf(a,c,p,d,q,l,q,l):(u=b[k+6],k=b[k+7],this.uf(a,c,p,d,q,l,u,k))};d.prototype.Ob=function(b){if(this.eh!==b){if(!this.Ha[b]){if(0===this.eh)return;b=0}var f=this.Mb();f.type=9;this.eh=f.wb=b;this.$a=
!1}};d.prototype.Bh=function(b){b=this.Ha[b];return!(!b.nf&&!b.mf)};d.prototype.zm=function(b){b=this.Ha[b];return!!(b.nf||b.mf||b.Ao)};d.prototype.ym=function(b){return this.Ha[b].Zc};d.prototype.bx=function(b){b=this.Ha[b];return 0!==b.bl||0!==b.cl};d.prototype.Bv=function(b){return this.Ha[b].bl};d.prototype.Cv=function(b){return this.Ha[b].cl};d.prototype.Dv=function(b,f){return this.Ha[b].W[f][2]};d.prototype.zj=function(b){return this.Ha[b].eo};d.prototype.kg=function(b,f,e,a,c,g,k,p,d,q,l,
u,r,h,n){var m=this.Ha[this.eh],t,v;if(m.Vv||n.length){t=this.Mb();t.type=10;t.V?kc(this.lc,t.V):t.V=jc();v=t.V;v[0]=f;v[1]=e;v[2]=a;v[3]=c;v[4]=g;v[5]=k;v[6]=p;v[7]=d;v[8]=q;v[9]=l;v[10]=u;v[11]=r;v[12]=h;m.nh?t.Fc=b:t.Fc=null;if(n.length)for(e=t.Oq,e.length=n.length,b=0,f=n.length;b<f;b++)e[b]=n[b];this.$a=!1}};d.prototype.clear=function(b,f,e,a){var c=this.Mb();c.type=7;c.wb=0;c.V||(c.V=jc());c.V[0]=b;c.V[1]=f;c.V[2]=e;c.V[3]=a;this.$a=!1};d.prototype.clearRect=function(b,f,e,a){if(!(0>e||0>a)){var c=
this.Mb();c.type=7;c.wb=1;c.V||(c.V=jc());c.V[0]=b;c.V[1]=f;c.V[2]=e;c.V[3]=a;this.$a=!1}};d.prototype.Iq=function(b){if(this.pa&&(b=!!b,this.Zg!==b)){var f=this.Mb();f.type=14;f.wb=b?1:0;this.$a=!1;this.Zg=b;this.Gj=null;this.Zg?this.Ob(2):this.Ob(0)}};d.prototype.Hq=function(b){if(this.pa){var f=this.Mb();f.type=13;f.wb=b?1:0;this.$a=!1}};d.prototype.Qo=function(){kc(this.Rl,t);this.Bc();this.oc();var b=this.width/2,f=this.height/2;this.uf(-b,f,b,f,b,-f,-b,-f);kc(t,this.lc);this.oc()};d.prototype.Gq=
function(b,f,e){this.Ob(3);var a=this.Mb();a.type=12;a.V||(a.V=jc());a.V[0]=b;a.V[1]=f;a.V[2]=e;a.V[3]=1;this.$a=!1};d.prototype.zx=function(){this.Ob(0)};d.prototype.lx=function(){this.Ob(2)};d.prototype.Zw=function(){this.Kd();this.B.flush()};var v=[],r={};d.prototype.Qt=function(){H(v);r={}};d.prototype.gj=function(b,f,e,a){f=!!f;e=!!e;var c=b.src+","+f+","+e+(f?",undefined":""),g=null;if("undefined"!==typeof b.src&&r.hasOwnProperty(c))return g=r[c],g.ii++,g;this.Kd();var k=this.B,p=ia(b.width)&&
ia(b.height),g=k.createTexture();k.bindTexture(k.TEXTURE_2D,g);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var d=k.RGBA,q=k.RGBA,l=k.UNSIGNED_BYTE;if(a&&!this.ve)switch(a){case 1:q=d=k.RGB;break;case 2:l=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:l=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:q=d=k.RGB,l=k.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!p&&f){a=document.createElement("canvas");a.width=ja(b.width);a.height=ja(b.height);var u=a.getContext("2d");"undefined"!==typeof u.imageSmoothingEnabled?u.imageSmoothingEnabled=
e:(u.webkitImageSmoothingEnabled=e,u.mozImageSmoothingEnabled=e,u.msImageSmoothingEnabled=e);u.drawImage(b,0,0,b.width,b.height,0,0,a.width,a.height);k.texImage2D(k.TEXTURE_2D,0,d,q,l,a)}else k.texImage2D(k.TEXTURE_2D,0,d,q,l,b);f?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));e?(k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MAG_FILTER,k.LINEAR),(p||2<=this.version)&&this.Io?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.ze=null;g.Ue=b.width;g.Te=b.height;g.ii=1;g.no=c;v.push(g);return r[c]=g};d.prototype.Fb=function(b,f,e,a,c){this.Kd();
var g=this.B;this.ve&&(a=!1);var k=g.createTexture();g.bindTexture(g.TEXTURE_2D,k);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,b,f,0,g.RGBA,a?g.UNSIGNED_SHORT_4_4_4_4:g.UNSIGNED_BYTE,null);c?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE));g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,e?g.LINEAR:g.NEAREST);g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MIN_FILTER,e?g.LINEAR:g.NEAREST);g.bindTexture(g.TEXTURE_2D,null);this.ze=null;k.Ue=b;k.Te=f;v.push(k);return k};d.prototype.tn=function(b,f,e){this.Kd();var a=this.B;this.ve&&(e=!1);a.bindTexture(a.TEXTURE_2D,f);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,e?a.UNSIGNED_SHORT_4_4_4_4:a.UNSIGNED_BYTE,b)}catch(c){console&&console.error&&console.error("Error updating WebGL texture: ",c)}a.bindTexture(a.TEXTURE_2D,null);this.ze=null};d.prototype.deleteTexture=
function(b){b&&("undefined"!==typeof b.ii&&1<b.ii?b.ii--:(this.Kd(),b===this.ze&&(this.B.bindTexture(this.B.TEXTURE_2D,null),this.ze=null),b===this.jf&&(this.B.activeTexture(this.B.TEXTURE1),this.B.bindTexture(this.B.TEXTURE_2D,null),this.B.activeTexture(this.B.TEXTURE0),this.jf=null),Ja(v,b),"undefined"!==typeof b.no&&delete r[b.no],this.B.deleteTexture(b)))};d.prototype.Cc=function(b){if(b!==this.Gj){var f=this.Mb();f.type=6;this.Gj=f.Fc=b;this.$a=!1}};ob=d})();
(function(){function d(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.uc=(this.Hl=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Od=!!a.dc;this.cw="undefined"!==typeof window.AppMobi||
this.Od;this.tc=!!window.c2cocoonjs;this.Uc=!!window.c2ejecta;this.tc&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.Uc&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.La=this.Od||this.tc||this.Uc;this.Si=
/edge\//i.test(navigator.userAgent);this.ve=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Si;this.np=/tizen/i.test(navigator.userAgent);this.Gl=/android/i.test(navigator.userAgent)&&!this.np&&!this.ve&&!this.Si;this.sp=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.ve&&!this.Si;this.pw=/ipad/i.test(navigator.userAgent);this.Xi=this.sp||this.pw||this.Uc;this.ew=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.ve&&!this.Si;this.bw=/amazonwebappplatform/i.test(navigator.userAgent);this.gw=/firefox/i.test(navigator.userAgent);this.kw=this.Ti="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.qp=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.mw=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.ah=
!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Ol=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Nl=!!window.cr_windows10;this.pp=this.qp||this.mw||this.Ol||this.Nl;this.dw=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.mp=this.Gl&&!this.ew&&!this.Hl&&!this.gw&&!this.bw&&!this.La;this.devicePixelRatio=1;this.we=this.uc||this.Hl||this.cw||this.tc||this.Gl||this.Xi||this.ah||this.Ol||this.dw||this.np||
this.Uc;this.we||(this.we=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.op=!!(this.Xi&&this.uc&&window.webkit);"undefined"===typeof cr_is_preview||this.Ti||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.Ti=!0);this.fw="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=a;this.ro=document.getElementById("c2canvasdiv");
this.n=this.B=null;this.rl="(unavailable)";this.pa=!1;this.Xe=0;this.xa=null;this.Ci=!1;this.gq=this.hq=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Od&&(window.c2runtime=this);this.Ti&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();
return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.mp&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.M=this.width;this.L=this.height;this.pi=this.width;this.Fg=this.height;this.$f=window.innerWidth;this.Zf=window.innerHeight;this.Z=!0;this.hf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.p=[];this.Ca=[];this.Zl={};this.Wc=[];this.al={};
this.Ld=[];this.tg=[];this.ek=[];this.Dt=[];this.Et=[];this.Om=this.Um=null;this.Ve={};this.Jl=this.te=!1;this.Vc=0;this.Il=this.Ll=!1;this.Rc=[];this.$g=!1;this.ej=this.Lm="";this.Va=null;this.Qd="";this.Nh=this.Qq=!1;this.Bi=[];this.ne=this.Lf=0;this.Yp=30;this.Lk=this.rh=0;this.ng=1;this.$b=new db;this.jk=new db;this.qj=this.Gi=this.Kg=this.Gc=this.lf=this.fl=this.$i=0;this.Hk=null;this.Wk=[];this.$k=[];this.yi=-1;this.fm=[[]];this.jn=this.jj=0;this.Bj(null);this.gm=[];this.lj=-1;this.cq=this.wh=
0;this.Yl=!0;this.Mg=0;this.Oh=[];this.dn=this.Bm=-1;this.Yi=!0;this.hj=0;this.ff=!1;this.Dx=0;this.zg=null;this.vc=this.cp=!1;this.mm=new ca;this.nm=new ca;this.om=new ca;this.Em=[];this.Pb=new gb([]);this.Ym=new gb([]);this.If=[];this.Tf={};this.he={};this.ee={};this.rg={};this.jo={};this.Ap=this.dj=this.Ma=this.Ta=this.zp=this.cj=this.ga=null;this.pg=this.Pl=!1;this.gl=[null,null];this.pe=0;this.Td={};this.Lh=this.De=null;this.Tq="";this.pj=[];this.kx()}}function n(a,c){return 128>=c?a[3]:256>=
c?a[2]:512>=c?a[1]:a[0]}function m(){try{return!!window.indexedDB}catch(a){return!1}}function h(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function t(a,c,b,g){try{var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=h;f.onerror=g;f.onsuccess=function(f){f=f.target.result;f.onerror=g;f.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=b}}catch(e){g(e)}}function v(a,c,b){try{var g=indexedDB.open("_C2SaveStates");g.onupgradeneeded=h;g.onerror=
b;g.onsuccess=function(g){g=g.target.result;g.onerror=b;var f=g.transaction(["saves"]).objectStore("saves").get(a);f.onsuccess=function(){f.result?c(f.result.data):c(null)}}}catch(f){b(f)}}function r(){ea("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function b(a){var c,b={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof ca||a[c]&&"undefined"!==typeof a[c].Ry||
"spriteCreatedDestroyCallback"!==c&&(b[c]=a[c]);return b}var f=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;d.prototype.kx=function(){var a=this;if(this.op)this.kv(function(c){a.kh(JSON.parse(c))},function(){alert("Error fetching data.js")});else{var c;this.ah?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var b="data.js";if(this.qp||this.ah||this.Ol||this.Nl)b="data.json";
c.open("GET",b,!0);var g=!1;if(!this.La&&"response"in c&&"responseType"in c)try{c.responseType="json",g="json"===c.responseType}catch(f){g=!1}if(!g&&"responseType"in c)try{c.responseType="text"}catch(e){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(k){}this.ah?c.onreadystatechange=function(){4===c.readyState&&a.kh(JSON.parse(c.responseText))}:(c.onload=function(){if(g)a.kh(c.response);else if(a.Uc){var b=c.responseText,b=b.substr(b.indexOf("{"));a.kh(JSON.parse(b))}else a.kh(JSON.parse(c.responseText))},
c.onerror=function(a){fa("Error requesting "+b+":");fa(a)});c.send()}};d.prototype.$v=function(){var a=this,c,b,g,f,e,k,l,u,p;this.gf=(!this.La||this.Uc||this.uc)&&this.Px&&!this.mp;0===this.Hb&&this.Xi&&(this.gf=!1);this.devicePixelRatio=this.gf?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.mb();0<this.Hb&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();
a.Fw();ea("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.n.ip();a.n.wf(a.n.width,a.n.height,!0);a.Ta=null;a.Ma=null;a.gl[0]=null;a.gl[1]=null;a.Gw();a.Z=!0;ea("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.Au&&(this.tc||this.Uc||!this.La)&&(c={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.Gl||(this.B=this.canvas.getContext("webgl2",
c)),this.B||(this.B=this.canvas.getContext("webgl",c)||this.canvas.getContext("experimental-webgl",c)))}catch(q){}if(this.B){if(c=this.B.getExtension("WEBGL_debug_renderer_info"))this.rl=this.B.getParameter(c.UNMASKED_RENDERER_WEBGL)+" ["+this.B.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.pa&&(this.rl+=" [front-to-back enabled]");this.La||(this.kb=document.createElement("canvas"),jQuery(this.kb).appendTo(this.canvas.parentNode),this.kb.oncontextmenu=function(){return!1},this.kb.onselectstart=function(){return!1},
this.kb.width=Math.round(this.pi*this.devicePixelRatio),this.kb.height=Math.round(this.Fg*this.devicePixelRatio),jQuery(this.kb).css({width:this.pi+"px",height:this.Fg+"px"}),this.tq(),this.um=this.kb.getContext("2d"));this.n=new ob(this.B,this.we,this.pa);this.n.wf(this.canvas.width,this.canvas.height);this.n.Io=0!==this.su;this.xa=null;c=0;for(b=this.p.length;c<b;c++)for(e=this.p[c],g=0,f=e.O.length;g<f;g++)l=e.O[g],l.Pa=this.n.pl(l.id),l.Zc=this.n.ym(l.Pa),this.pg=this.pg||this.n.Bh(l.Pa);c=0;
for(b=this.Wc.length;c<b;c++){u=this.Wc[c];g=0;for(f=u.O.length;g<f;g++)l=u.O[g],l.Pa=this.n.pl(l.id),l.Zc=this.n.ym(l.Pa);u.cd();g=0;for(f=u.P.length;g<f;g++){p=u.P[g];e=0;for(k=p.O.length;e<k;e++)l=p.O[e],l.Pa=this.n.pl(l.id),l.Zc=this.n.ym(l.Pa),this.pg=this.pg||this.n.Bh(l.Pa);p.cd()}}}else{if(0<this.Hb&&this.Od){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.xa=AppMobi.canvas.getContext("2d");try{this.xa.samplingMode=this.wa?"smooth":
"sharp",this.xa.globalScale=1,this.xa.HTML5CompatibilityMode=!0,this.xa.imageSmoothingEnabled=this.wa}catch(d){}0!==this.width&&0!==this.height&&(this.xa.width=this.width,this.xa.height=this.height)}this.xa||(this.tc?(c={antialias:!!this.wa,alpha:!0},this.xa=this.canvas.getContext("2d",c)):(c={alpha:!0},this.xa=this.canvas.getContext("2d",c)),this.Mj(this.xa,this.wa));this.um=this.kb=null}this.br=function(c){a.xb(!1,c)};window==window.top||this.La||this.pp||this.ah||(document.addEventListener("mousedown",
function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.tc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ea("Reloading for continuous preview"),this.ej="__c2_continuouspreview",this.Nh=!0),this.Rw&&!this.we&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var c=window.parent;c&&c.document.hasFocus()||a.setSuspended(!0)})));
window.addEventListener("blur",function(){a.sf()});this.La||(c=function(a){if(nb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",c):document.addEventListener("touchstart",c),document.addEventListener("mousedown",c));0===this.Hb&&
this.gf&&1<this.devicePixelRatio&&this.setSize(this.Ba,this.Aa,!0);this.gr();this.Sv();this.go();this.I={}};d.prototype.setSize=function(a,c,b){var g=0,f=0,e=0,k=0,k=0;if(this.$f!==a||this.Zf!==c||b){this.$f=a;this.Zf=c;var l=this.Hb;if((e=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.ff)&&!this.uc)||0!==this.Hb||b)e&&(l=this.pe),b=this.devicePixelRatio,4<=l?(e=this.Ba/this.Aa,a/c>e?(e*=c,5===l?(k=e*b/this.Ba,1<k?k=Math.floor(k):1>
k&&(k=1/Math.ceil(1/k)),e=this.Ba*k/b,k=this.Aa*k/b,g=(a-e)/2,f=(c-k)/2,a=e,c=k):(g=(a-e)/2,a=e)):(k=a/e,5===l?(k=k*b/this.Aa,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),e=this.Ba*k/b,k=this.Aa*k/b,g=(a-e)/2,f=(c-k)/2,a=e):f=(c-k)/2,c=k)):e&&0===l&&(g=Math.floor((a-this.Ba)/2),f=Math.floor((c-this.Aa)/2),a=this.Ba,c=this.Aa),2>l&&(this.yg=b),this.pi=Math.round(a),this.Fg=Math.round(c),this.width=Math.round(a*b),this.height=Math.round(c*b),this.Z=!0,this.rr?(this.M=this.width,this.L=this.height,
this.ic=!0):this.width<this.Ba&&this.height<this.Aa||1===l?(this.M=this.width,this.L=this.height,this.ic=!0):(this.M=this.Ba,this.L=this.Aa,this.ic=!1,2===l?(e=this.Ba/this.Aa,l=this.$f/this.Zf,l<e?this.M=this.L*l:l>e&&(this.L=this.M/l)):3===l&&(e=this.Ba/this.Aa,l=this.$f/this.Zf,l>e?this.M=this.L*l:l<e&&(this.L=this.M/l))),this.ro&&!this.La&&(jQuery(this.ro).css({width:Math.round(a)+"px",height:Math.round(c)+"px","margin-left":Math.floor(g)+"px","margin-top":Math.floor(f)+"px"}),"undefined"!==typeof cr_is_preview&&
jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*b),this.canvas.height=Math.round(c*b),this.Uc?(this.canvas.style.left=Math.floor(g)+"px",this.canvas.style.top=Math.floor(f)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.gf&&!this.La&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px")),this.kb&&(this.kb.width=Math.round(a*b),this.kb.height=
Math.round(c*b),this.kb.style.width=this.pi+"px",this.kb.style.height=this.Fg+"px"),this.n&&this.n.wf(Math.round(a*b),Math.round(c*b)),this.Od&&this.xa&&(this.xa.width=Math.round(a),this.xa.height=Math.round(c)),this.xa&&this.Mj(this.xa,this.wa),this.gr(),this.sp&&!this.uc&&window.scrollTo(0,0)}};d.prototype.gr=function(){if(this.io&&0!==this.tm){var a="portrait";2===this.tm&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?
screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",c)}}};d.prototype.Fw=function(){this.n.Qt();this.Pl=!0;var a,c,b;a=0;for(c=this.p.length;a<c;a++)b=this.p[a],b.yh&&b.yh()};d.prototype.Gw=function(){this.Pl=!1;var a,c,b;a=0;for(c=this.p.length;a<c;a++)b=this.p[a],b.sj&&b.sj()};d.prototype.tq=
function(){if(!this.La){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.ff)&&!this.uc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.kb).css(a)}};var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;d.prototype.setSuspended=function(a){var c;if(a&&!this.hf)for(ea("[Construct 2] Suspending"),
this.hf=!0,-1!==this.Bm&&e&&e(this.Bm),-1!==this.dn&&clearTimeout(this.dn),a=0,c=this.Oh.length;a<c;a++)this.Oh[a](!0);else if(!a&&this.hf){ea("[Construct 2] Resuming");this.hf=!1;this.$i=Za();this.lf=Za();a=this.rh=this.Gi=0;for(c=this.Oh.length;a<c;a++)this.Oh[a](!1);this.xb(!1)}};d.prototype.$n=function(a){this.Oh.push(a)};d.prototype.ae=function(a){return this.pj[a]};d.prototype.kh=function(a){a&&a.project||fa("Project model unavailable");a=a.project;this.name=a[0];this.Po=a[1];this.Hb=a[12];
this.Ba=a[10];this.Aa=a[11];this.oq=this.Ba/2;this.pq=this.Aa/2;this.La&&!this.Uc&&(4<=a[12]||0===a[12])&&(ea("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Hb=3);this.sn=a[18];this.Ee=a[19];if(0===this.Ee){var c=new Image;c.crossOrigin="anonymous";this.Jq(c,"loading-logo.png");this.De={kj:c}}else if(4===this.Ee){c=new Image;c.src="";var b=new Image;b.src="";var g=new Image;g.src="";var e=new Image;e.src="";var f=new Image;
f.src="";var k=new Image;k.src="";var l=new Image;l.src="";var u=new Image;u.src="";var p=new Image;p.src="";var q=new Image;q.src="";var d=new Image;d.src="";var r=new Image;r.src="";this.De={kj:[c,b,g,e],Ww:[f,k,l,u],Sx:[p,q,d,r]}}this.wh=a[21];this.pj=oc();this.Bd=new T(this);c=0;for(b=a[2].length;c<b;c++)l=a[2][c],g=this.ae(l[0]),pb(l,g.prototype),u=new g(this),u.Vj=l[1],u.xe=l[2],u.ow=l[5],u.aq=l[9],u.J&&u.J(),this.plugins.push(u);this.pj=oc();c=0;for(b=a[3].length;c<b;c++){l=a[3][c];f=this.ae(l[1]);
u=null;g=0;for(e=this.plugins.length;g<e;g++)if(this.plugins[g]instanceof f){u=this.plugins[g];break}p=new u.ba(u);p.name=l[0];p.G=l[2];p.Cl=l[3].slice(0);p.Rx=l[3].length;p.Jt=l[4];p.ov=l[5];p.R=l[11];p.G?(p.qd=[],p.md=this.Mg++,p.ya=null):(p.qd=null,p.md=-1,p.ya=[]);p.Ng=null;p.Of=null;p.Jo=null;p.Bb=!1;p.Vb=null;l[6]?(p.$m=l[6][0],p.an=l[6][1],p.bn=l[6][2]):(p.$m=null,p.an=0,p.bn=0);l[7]?p.Ub=l[7]:p.Ub=null;p.index=c;p.e=[];p.ti=[];p.Xd=[new qb(p)];p.kd=0;p.sc=null;p.Co=0;p.mg=!0;p.gk=rb;p.Wo=
sb;p.zv=tb;p.ca=ub;p.Dh=xb;p.Aj=yb;p.tf=zb;p.Hi=Ab;p.hl=Bb;p.jl=Cb;p.fe=Db;p.ll=Eb;p.ni=new hb(this.Ba,this.Aa);p.ai=!0;p.bi=!1;p.I={};p.toString=Fb;p.Ca=[];g=0;for(e=l[8].length;g<e;g++){q=l[8][g];d=this.ae(q[1]);r=null;f=0;for(k=this.Ca.length;f<k;f++)if(this.Ca[f]instanceof d){r=this.Ca[f];break}r||(r=new d(this),r.lm=[],r.uh=new ca,r.J&&r.J(),this.Ca.push(r),pc&&r instanceof pc&&(this.Um=r),qc&&r instanceof qc&&(this.Om=r));-1===r.lm.indexOf(p)&&r.lm.push(p);f=new r.ba(r,p);f.name=q[0];f.R=q[2];
f.J();p.Ca.push(f)}p.global=l[9];p.Kl=l[10];p.O=[];g=0;for(e=l[12].length;g<e;g++)p.O.push({id:l[12][g][0],name:l[12][g][1],Pa:-1,Zc:!1,gc:!0,index:g});p.jz=l[13];this.sn&&!p.G&&!p.Kl&&u.xe||p.J();p.name&&(this.types[p.name]=p);this.p.push(p);u.Vj&&(g=new u.Q(p),g.uid=this.wh++,g.wq=this.cq++,g.df=0,g.Rg=Gb,g.toString=Hb,g.u=l[14],g.J(),p.e.push(g),this.Td[g.uid.toString()]=g)}c=0;for(b=a[4].length;c<b;c++)for(f=a[4][c],k=this.p[f[0]],g=1,e=f.length;g<e;g++)l=this.p[f[g]],l.ya.push(k),k.qd.push(l);
c=0;for(b=a[28].length;c<b;c++){f=a[28][c];k=[];g=0;for(e=f.length;g<e;g++)k.push(this.p[f[g]]);g=0;for(e=k.length;g<e;g++)k[g].Bb=!0,k[g].Vb=k}if(0<this.Mg)for(c=0,b=this.p.length;c<b;c++)if(l=this.p[c],!l.G&&l.ya.length){l.Ng=Array(this.Mg);l.Of=Array(this.Mg);l.Jo=Array(this.Mg);p=[];g=r=d=q=0;for(e=l.ya.length;g<e;g++)for(u=l.ya[g],l.Ng[u.md]=q,q+=u.Rx,l.Of[u.md]=d,d+=u.Jt,l.Jo[u.md]=r,r+=u.ov,f=0,k=u.O.length;f<k;f++)p.push(Da({},u.O[f]));l.O=p.concat(l.O);g=0;for(e=l.O.length;g<e;g++)l.O[g].index=
g}c=0;for(b=a[5].length;c<b;c++)l=a[5][c],g=new Ib(this,l),this.Zl[g.name]=g,this.Wc.push(g);c=0;for(b=a[6].length;c<b;c++)l=a[6][c],g=new Jb(this,l),this.al[g.name]=g,this.Ld.push(g);c=0;for(b=this.Ld.length;c<b;c++)this.Ld[c].Ia();c=0;for(b=this.Ld.length;c<b;c++)this.Ld[c].pn();c=0;for(b=this.ek.length;c<b;c++)this.ek[c].Ia();H(this.ek);this.It=a[7];this.Xc=a[9];this.yg=1;this.Au=a[13];this.wa=a[14];this.vo=a[15];this.Px=a[17];this.tm=a[20];this.io=0<this.tm;this.Rw=a[22];this.ic=this.rr=a[23];
this.su=a[24];this.Xw=a[25];this.pa=a[27]&&!this.ve;this.Wj=Date.now();H(this.pj);this.$v()};var a=!1,c=0,g=[];d.prototype.jx=function(a,b){function f(){c--;e.Up()}var e=this;a.addEventListener("load",f);a.addEventListener("error",f);g.push([a,b]);this.Up()};d.prototype.Up=function(){for(var a;g.length&&100>c;)c++,a=g.shift(),this.Jq(a[0],a[1])};d.prototype.un=function(c,b){c.cocoonLazyLoad=!0;c.onerror=function(b){a=c.lo=!0;console&&console.error&&console.error("Error loading image '"+c.src+"': ",
b)};this.Uc?c.src=b:c.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(a){c.src=a},function(g){a=c.lo=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",g)}):(c.crossOrigin="anonymous",this.jx(c,b)));this.tg.push(c)};d.prototype.nv=function(a){var c,b;c=0;for(b=this.tg.length;c<b;c++)if(this.tg[c].Tt===a)return this.tg[c];return null};var k=0,p=!1;d.prototype.Sv=function(){this.zg&&(k=this.zg.fz(this.It))};d.prototype.fo=function(){var a=
k,c=0,b=0,g=!0,f,e,b=0;for(f=this.tg.length;b<f;b++){e=this.tg[b];var l=e.Mk;if(!l||0>=l)l=5E4;a+=l;e.src&&(e.complete||e.loaded)&&!e.lo?c+=l:g=!1}g&&this.Xw&&this.zg&&(p||(this.zg.gz(),p=!0),b=this.zg.Vy(),c+=b,b<k&&(g=!1));this.$c=0==a?1:c/a;return g};var z=!1;d.prototype.go=function(){if(this.xa||this.n){var c=this.xa||this.um;this.kb&&this.tq();var b=window.innerWidth,g=window.innerHeight;this.$f===b&&this.Zf===g||this.setSize(b,g);this.$c=0;this.yp=-1;var e=this;if(this.fo()&&(4!==this.Ee||z))this.Tv();
else{g=Date.now()-this.Wj;if(c){var k=this.width,l=this.height,b=this.devicePixelRatio;if(3>this.Ee&&(this.tc||500<=g&&this.yp!=this.$c)){c.clearRect(0,0,k,l);var g=k/2,l=l/2,k=0===this.Ee&&this.De.kj.complete,p=40*b,u=0,q=80*b,d;if(k){var r=this.De.kj,q=r.width*b;d=r.height*b;p=q/2;u=d/2;c.drawImage(r,E(g-p),E(l-u),q,d)}1>=this.Ee?(g=E(g-p)+.5,l=E(l+(u+(k?12*b:0)))+.5,c.fillStyle=a?"red":"DodgerBlue",c.fillRect(g,l,Math.floor(q*this.$c),6*b),c.strokeStyle="black",c.strokeRect(g,l,q,6*b),c.strokeStyle=
"white",c.strokeRect(g-1*b,l-1*b,q+2*b,8*b)):2===this.Ee&&(c.font=this.Uc?"12pt ArialMT":"12pt Arial",c.fillStyle=a?"#f00":"#999",c.iz="middle",b=Math.round(100*this.$c)+"%",k=c.measureText?c.measureText(b):null,c.fillText(b,g-(k?k.width:0)/2,l));this.yp=this.$c}else if(4===this.Ee){this.xu(c);f?f(function(){e.go()}):setTimeout(function(){e.go()},16);return}}setTimeout(function(){e.go()},this.tc?10:100)}}};var q=-1,l="undefined"===typeof cr_is_preview?200:0,u=!0,W=!1,C=0,sa=0,ka="undefined"===typeof cr_is_preview?
3E3:0,K=null,N=null,A=0;d.prototype.xu=function(c){if(!z){for(var b=Math.ceil(this.width),g=Math.ceil(this.height),e=this.De.kj,f=this.De.Ww,k=this.De.Sx,p=0;4>p;++p)if(!e[p].complete||!f[p].complete||!k[p].complete)return;0===A&&(q=Date.now());var p=Date.now(),d=!1,r=c,h,m;u||W?(c.clearRect(0,0,b,g),K&&K.width===b&&K.height===g||(K=document.createElement("canvas"),K.width=b,K.height=g,N=K.getContext("2d")),r=N,d=!0,u&&1===A&&(q=Date.now())):c.globalAlpha=1;r.fillStyle="#333333";r.fillRect(0,0,b,
g);256<this.Fg?(h=Ka(.22*g,105,.6*b),m=.25*h,r.drawImage(n(f,h),.5*b-h/2,.2*g-m/2,h,m),m=h=Math.min(.395*g,.95*b),r.drawImage(n(e,h),.5*b-h/2,.485*g-m/2,h,m),h=Ka(.22*g,105,.6*b),m=.25*h,r.drawImage(n(k,h),.5*b-h/2,.868*g-m/2,h,m),r.fillStyle="#3C3C3C",h=b,m=Math.max(.005*g,2),r.fillRect(0,.8*g-m/2,h,m),r.fillStyle=a?"red":"#E0FF65",h=b*this.$c,r.fillRect(.5*b-h/2,.8*g-m/2,h,m)):(m=h=.55*g,r.drawImage(n(e,h),.5*b-h/2,.45*g-m/2,h,m),r.fillStyle="#3C3C3C",h=b,m=Math.max(.005*g,2),r.fillRect(0,.85*g-
m/2,h,m),r.fillStyle=a?"red":"#E0FF65",h=b*this.$c,r.fillRect(.5*b-h/2,.85*g-m/2,h,m));d&&(u?c.globalAlpha=0===A?0:Math.min((p-q)/300,1):W&&(c.globalAlpha=Math.max(1-(p-sa)/300,0)),c.drawImage(K,0,0,b,g));u&&300<=p-q&&2<=A&&(u=!1,C=p);!u&&p-C>=ka&&!W&&1<=this.$c&&(W=!0,sa=p);if(W&&p-sa>=300+l||"undefined"!==typeof cr_is_preview&&1<=this.$c&&500>Date.now()-q)z=!0,W=u=!1,this.De=N=K=null;++A}};d.prototype.Tv=function(){this.kb&&(this.canvas.parentNode.removeChild(this.kb),this.kb=this.um=null);this.Wj=
Date.now();this.lf=Za();var a,c,b;if(this.sn)for(a=0,c=this.p.length;a<c;a++)b=this.p[a],b.G||b.Kl||!b.na.xe||b.J();else this.Yi=!1;a=0;for(c=this.Wc.length;a<c;a++)this.Wc[a].Vt();2<=this.Hb&&(a=this.Ba/this.Aa,c=this.width/this.height,this.yg=2!==this.Hb&&c>a||2===this.Hb&&c<a?this.height/this.Aa:this.width/this.Ba);this.Po?this.Zl[this.Po].Vm():this.Wc[0].Vm();this.sn||(this.hj=1,this.trigger(T.prototype.g.Fn,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();a=0;for(c=this.p.length;a<c;a++)b=this.p[a],b.iq&&b.iq();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.xb(!1);this.Od&&AppMobi.webview.execute("onGameReady();")};d.prototype.xb=function(a,c,b){if(this.ga){var g=Za();if(b||!this.hf||a){a||(f?this.Bm=f(this.br):this.dn=setTimeout(this.br,this.we?1:16));c=c||g;var e=this.Hb;((b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.uc)||this.ff)&&0<this.pe&&(e=this.pe);if(0<e){var e=window.innerWidth,k=window.innerHeight;this.$f===e&&this.Zf===k||this.setSize(e,k)}this.La||(b?this.Ci||(this.Ci=!0):this.Ci?(this.Ci=!1,0===this.Hb&&this.setSize(Math.round(this.hq/this.devicePixelRatio),Math.round(this.gq/this.devicePixelRatio),!0)):(this.hq=this.width,this.gq=this.height));this.Yi&&(b=this.fo(),this.hj=this.$c,b&&(this.Yi=!1,this.$c=1,this.trigger(T.prototype.g.Fn,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.uw(c);
!this.Z&&!this.tc||this.Pl||this.Nh||a||(this.Z=!1,this.n?this.Gb():this.Sc(),this.Lh&&(this.canvas&&this.canvas.toDataURL&&(this.Tq=this.canvas.toDataURL(this.Lh[0],this.Lh[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Tq),this.trigger(T.prototype.g.es,null)),this.Lh=null));this.Wy||(this.Gc++,this.Kg++,this.Gi++);this.rh+=Za()-g}}};d.prototype.uw=function(a){var c,b,g,e,f,k,l,p;1E3<=a-this.lf&&(this.lf+=1E3,1E3<=a-this.lf&&(this.lf=a),this.fl=this.Gi,this.Gi=0,this.Lk=this.rh,this.rh=0);c=
0;0!==this.$i&&(c=a-this.$i,0>c&&(c=0),this.ne=c/=1E3,.5<this.ne?this.ne=0:this.ne>1/this.Yp&&(this.ne=1/this.Yp));this.$i=a;this.Lf=this.ne*this.ng;this.$b.add(this.Lf);this.jk.add(c);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.ff)&&!this.uc;2<=this.Hb||a&&0<this.pe?(c=this.Ba/this.Aa,b=this.width/this.height,g=this.Hb,a&&0<this.pe&&(g=this.pe),this.yg=2!==g&&b>c||2===g&&b<c?this.height/this.Aa:this.width/this.Ba,this.ga&&(this.ga.Mm(this.ga.scrollX),
this.ga.Nm(this.ga.scrollY))):this.yg=this.gf?this.devicePixelRatio:1;this.mb();this.Vc++;this.Bd.qx();this.Vc--;this.mb();this.Vc++;b=this.mm.qc();a=0;for(c=b.length;a<c;a++)b[a].$w();a=0;for(c=this.p.length;a<c;a++)if(k=this.p[a],!k.G&&(k.Ca.length||k.ya.length))for(b=0,g=k.e.length;b<g;b++)for(l=k.e[b],e=0,f=l.K.length;e<f;e++)l.K[e].xb();a=0;for(c=this.p.length;a<c;a++)if(k=this.p[a],!k.G&&(k.Ca.length||k.ya.length))for(b=0,g=k.e.length;b<g;b++)for(l=k.e[b],e=0,f=l.K.length;e<f;e++)p=l.K[e],p.Vw&&
p.Vw();b=this.nm.qc();a=0;for(c=b.length;a<c;a++)b[a].xb();this.Vc--;this.Uv();for(a=0;this.Hk&&10>a++;)this.Eo(this.Hk);a=0;for(c=this.Ld.length;a<c;a++)this.Ld[a].tl=!1;this.ga.Ye&&this.ga.Ye.Na();H(this.Em);this.Yl=!1;this.Vc++;a=0;for(c=this.p.length;a<c;a++)if(k=this.p[a],!k.G&&(k.Ca.length||k.ya.length))for(b=0,g=k.e.length;b<g;b++)for(l=k.e[b],e=0,f=l.K.length;e<f;e++)p=l.K[e],p.Af&&p.Af();b=this.om.qc();a=0;for(c=b.length;a<c;a++)b[a].Af();this.Vc--};d.prototype.sf=function(){var a,c,b,g,
e,f,k,l,p;a=0;for(c=this.p.length;a<c;a++)if(k=this.p[a],!k.G)for(b=0,g=k.e.length;b<g;b++)if(l=k.e[b],l.sf&&l.sf(),l.K)for(e=0,f=l.K.length;e<f;e++)p=l.K[e],p.sf&&p.sf()};d.prototype.Eo=function(a){var c=this.ga;this.ga.Ex();var b,g,e;if(this.n)for(b=0,g=this.p.length;b<g;b++)e=this.p[b],e.G||!e.nn||e.global&&0!==e.e.length||-1!==a.Wg.indexOf(e)||e.nn();c==a&&H(this.Bd.Rb);H(this.Em);this.Dq(!0);a.Vm();this.Dq(!1);this.Yl=this.Z=!0;this.mb()};d.prototype.Dq=function(a){var c,b,g,e,f,k,l,p,u;c=0;
for(b=this.Ca.length;c<b;c++)g=this.Ca[c],a?g.hg&&g.hg():g.xh&&g.xh();c=0;for(b=this.p.length;c<b;c++)if(g=this.p[c],g.global||g.na.Vj)for(e=0,f=g.e.length;e<f;e++)if(k=g.e[e],a?k.hg&&k.hg():k.xh&&k.xh(),k.K)for(l=0,p=k.K.length;l<p;l++)u=k.K[l],a?u.hg&&u.hg():u.xh&&u.xh()};d.prototype.ax=function(a){this.mm.add(a)};d.prototype.cn=function(a){this.nm.add(a)};d.prototype.$q=function(a){this.om.add(a)};d.prototype.Qf=function(a){return a&&-1!==a.vh?this.ne*a.vh:this.Lf};d.prototype.Sc=function(){this.ga.Sc(this.xa);
this.Od&&this.xa.present()};d.prototype.Gb=function(){this.pa&&(this.Xe=1,this.ga.We(this.n));this.ga.Gb(this.n);this.n.Zw()};d.prototype.Bt=function(a){a&&this.Wk.push(a)};d.prototype.nl=function(a){a=a.toString();return this.Td.hasOwnProperty(a)?this.Td[a]:null};var M=[];d.prototype.Jc=function(a){var c,b;c=a.type.name;var g=null;if(this.Ve.hasOwnProperty(c)){if(g=this.Ve[c],g.contains(a))return}else g=M.length?M.pop():new ca,this.Ve[c]=g;g.add(a);this.te=!0;if(a.Bb)for(c=0,b=a.siblings.length;c<
b;c++)this.Jc(a.siblings[c]);this.Jl&&g.qg.push(a);this.Il||(this.Vc++,this.trigger(Object.getPrototypeOf(a.type.na).g.hs,a),this.Vc--)};d.prototype.mb=function(){if(this.te){var a,c,b,g,e,f;this.Jl=!0;b=0;for(e=this.Rc.length;b<e;++b)for(a=this.Rc[b],c=a.type,c.e.push(a),g=0,f=c.ya.length;g<f;++g)c.ya[g].e.push(a),c.ya[g].mg=!0;H(this.Rc);this.Tr();Ya(this.Ve);this.te=this.Jl=!1}};d.prototype.Tr=function(){for(var a in this.Ve)this.Ve.hasOwnProperty(a)&&this.Br(this.Ve[a])};d.prototype.Br=function(a){var c=
a.qc(),b=c[0].type,g,e,f,k,l,p;ab(b.e,a);b.mg=!0;0===b.e.length&&(b.bi=!1);g=0;for(e=b.ya.length;g<e;++g)p=b.ya[g],ab(p.e,a),p.mg=!0;g=0;for(e=this.Bd.Rb.length;g<e;++g)if(l=this.Bd.Rb[g],l.Cb.hasOwnProperty(b.index)&&ab(l.Cb[b.index].Nd,a),!b.G)for(f=0,k=b.ya.length;f<k;++f)p=b.ya[f],l.Cb.hasOwnProperty(p.index)&&ab(l.Cb[p.index].Nd,a);if(l=c[0].k){if(l.pc)for(f=l.e,g=0,e=f.length;g<e;++g)k=f[g],a.contains(k)&&(k.U(),l.lb.update(k,k.Nb,null),k.Nb.set(0,0,-1,-1));ab(l.e,a);l.Hh(0)}for(g=0;g<c.length;++g)this.Ar(c[g],
b);a.clear();M.push(a);this.Z=!0};d.prototype.Ar=function(a,c){var b,g,e;b=0;for(g=this.Wk.length;b<g;++b)this.Wk[b](a);a.ie&&c.ni.update(a,a.ie,null);(b=a.k)&&b.ig(a,!0);if(a.K)for(b=0,g=a.K.length;b<g;++b)e=a.K[b],e.td&&e.td(),e.behavior.uh.remove(a);this.mm.remove(a);this.nm.remove(a);this.om.remove(a);a.td&&a.td();this.Td.hasOwnProperty(a.uid.toString())&&delete this.Td[a.uid.toString()];this.qj--;100>c.ti.length&&c.ti.push(a)};d.prototype.Nk=function(a,c,b,g){if(a.G){var e=E(Math.random()*a.qd.length);
return this.Nk(a.qd[e],c,b,g)}return a.sc?this.ke(a.sc,c,!1,b,g,!1):null};var V=[];d.prototype.ke=function(a,c,b,g,e,f){var k,l,p,u;if(!a)return null;var q=this.p[a[1]],d=q.na.xe;if(this.Yi&&d&&!q.Kl||d&&!this.n&&11===a[0][11])return null;var r=c;d||(c=null);var h;q.ti.length?(h=q.ti.pop(),h.ec=!0,q.na.Q.call(h,q)):(h=new q.na.Q(q),h.ec=!1);!b||f||this.Td.hasOwnProperty(a[2].toString())?h.uid=this.wh++:h.uid=a[2];this.Td[h.uid.toString()]=h;h.wq=this.cq++;h.df=q.e.length;k=0;for(l=this.Rc.length;k<
l;++k)this.Rc[k].type===q&&h.df++;h.Rg=Gb;h.toString=Hb;p=a[3];if(h.ec)Ya(h.I);else{h.I={};if("undefined"!==typeof cr_is_preview)for(h.lp=[],h.lp.length=p.length,k=0,l=p.length;k<l;k++)h.lp[k]=p[k][1];h.qa=[];h.qa.length=p.length}k=0;for(l=p.length;k<l;k++)h.qa[k]=p[k][0];if(d){var z=a[0];h.x=ga(g)?z[0]:g;h.y=ga(e)?z[1]:e;h.z=z[2];h.width=z[3];h.height=z[4];h.depth=z[5];h.j=z[6];h.opacity=z[7];h.Ib=z[8];h.Jb=z[9];h.nb=z[10];k=z[11];!this.n&&q.O.length&&(h.nb=k);h.Bg=jb(h.nb);this.B&&kb(h,h.nb,this.B);
if(h.ec){k=0;for(l=z[12].length;k<l;k++)for(p=0,u=z[12][k].length;p<u;p++)h.Ea[k][p]=z[12][k][p];h.N.set(0,0,0,0);h.ie.set(0,0,-1,-1);h.Nb.set(0,0,-1,-1);h.Qa.Ad(h.N);H(h.zk)}else{h.Ea=z[12].slice(0);k=0;for(l=h.Ea.length;k<l;k++)h.Ea[k]=z[12][k].slice(0);h.ka=[];h.be=[];h.be.length=q.O.length;h.N=new ta(0,0,0,0);h.ie=new ta(0,0,-1,-1);h.Nb=new ta(0,0,-1,-1);h.Qa=new ua;h.zk=[];h.H=Kb;h.Qy=Lb;h.Za=Mb;h.U=Nb;h.Ox=Ob;h.nr=Pb;h.nd=Qb}h.Cd=!1;h.Jx=0;h.Ix=0;h.Hx=null;14===z.length&&(h.Cd=!0,h.Jx=z[13][0],
h.Ix=z[13][1],h.Hx=z[13][2]);k=0;for(l=q.O.length;k<l;k++)h.be[k]=!0;h.Vd=!0;h.cd=Rb;h.cd();h.pr=!!h.ka.length;h.yk=!0;h.Dk=!0;q.ai=!0;h.visible=!0;h.vh=-1;h.k=c;h.dd=c.e.length;h.Xe=0;"undefined"===typeof h.D&&(h.D=null);this.Z=h.Qc=!0}var m;H(V);k=0;for(l=q.ya.length;k<l;k++)V.push.apply(V,q.ya[k].Ca);V.push.apply(V,q.Ca);if(h.ec)for(k=0,l=V.length;k<l;k++){var n=V[k];m=h.K[k];m.ec=!0;n.behavior.Q.call(m,n,h);z=a[4][k];p=0;for(u=z.length;p<u;p++)m.u[p]=z[p];m.J();n.behavior.uh.add(h)}else for(h.K=
[],k=0,l=V.length;k<l;k++)n=V[k],m=new n.behavior.Q(n,h),m.ec=!1,m.u=a[4][k].slice(0),m.J(),h.K.push(m),n.behavior.uh.add(h);z=a[5];if(h.ec)for(k=0,l=z.length;k<l;k++)h.u[k]=z[k];else h.u=z.slice(0);this.Rc.push(h);this.te=!0;c&&(c.xg(h,!0),1!==c.zc||1!==c.Ac)&&(q.bi=!0);this.qj++;if(q.Bb){if(h.Bb=!0,h.ec?H(h.siblings):h.siblings=[],!b&&!f){k=0;for(l=q.Vb.length;k<l;k++)if(q.Vb[k]!==q){if(!q.Vb[k].sc)return null;h.siblings.push(this.ke(q.Vb[k].sc,r,!1,d?h.x:g,d?h.y:e,!0))}k=0;for(l=h.siblings.length;k<
l;k++)for(h.siblings[k].siblings.push(h),p=0;p<l;p++)k!==p&&h.siblings[k].siblings.push(h.siblings[p])}}else h.Bb=!1,h.siblings=null;h.J();k=0;for(l=h.K.length;k<l;k++)h.K[k].Uw&&h.K[k].Uw();return h};d.prototype.ml=function(a){var c,b;c=0;for(b=this.ga.P.length;c<b;c++){var g=this.ga.P[c];if(mb(g.name,a))return g}return null};d.prototype.Pg=function(a){a=E(a);0>a&&(a=0);a>=this.ga.P.length&&(a=this.ga.P.length-1);return this.ga.P[a]};d.prototype.Ik=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].ca().da=
!0};d.prototype.Dh=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Dh()};d.prototype.Aj=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Aj()};d.prototype.tf=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].tf()};d.prototype.lr=function(a){if(a.ai){var c,b,g=a.e;c=0;for(b=g.length;c<b;++c)g[c].nr();g=this.Rc;c=0;for(b=g.length;c<b;++c)g[c].type===a&&g[c].nr();a.ai=!1}};d.prototype.To=function(a,c,b,g){var e,k,f=a?1!==a.zc||1!==a.Ac:!1;if(c.G)for(a=0,e=c.qd.length;a<e;++a)k=c.qd[a],f||k.bi?
Ha(g,k.e):(this.lr(k),k.ni.Cj(b,g));else f||c.bi?Ha(g,c.e):(this.lr(c),c.ni.Cj(b,g))};d.prototype.Li=function(a,c,b,g){var e,k;e=0;for(k=c.length;e<k;++e)this.To(a,c[e],b,g)};d.prototype.ql=function(a,c,b){var g=this.Um;g&&this.Li(a,g.lm,c,b)};d.prototype.$j=function(a,c,b){var g=a.ca(),e,k,f,l,p=this.jb().hb.xc,u,q,d;if(g.da)for(g.da=!1,H(g.e),e=0,l=a.e.length;e<l;e++)f=a.e[e],f.U(),u=f.k.Ab(c,b,!0),q=f.k.Ab(c,b,!1),f.Za(u,q)?g.e.push(f):p&&g.Y.push(f);else{k=0;d=p?g.Y:g.e;e=0;for(l=d.length;e<l;e++)f=
d[e],f.U(),u=f.k.Ab(c,b,!0),q=f.k.Ab(c,b,!1),f.Za(u,q)&&(p?g.e.push(f):(g.e[k]=g.e[e],k++));d.length=k}a.fe();return g.Ni()};d.prototype.ak=function(a,c){if(!(a&&c&&a!==c&&a.Qc&&c.Qc))return!1;a.U();c.U();var b=a.k,g=c.k,e,k,f,l,p,u,q,d;if(b===g||b.zc===g.zc&&g.Ac===g.Ac&&b.scale===g.scale&&b.j===g.j&&b.ed===g.ed){if(!a.N.El(c.N)||!a.Qa.Dl(c.Qa)||a.Cd&&c.Cd)return!1;if(a.Cd)return this.Xq(a,c);if(c.Cd)return this.Xq(c,a);q=a.D&&!a.D.od();e=c.D&&!c.D.od();if(!q&&!e)return!0;q?(a.D.jd(a.width,a.height,
a.j),q=a.D):(this.Pb.Ud(a.Qa,a.x,a.y,a.width,a.height),q=this.Pb);e?(c.D.jd(c.width,c.height,c.j),d=c.D):(this.Pb.Ud(c.Qa,c.x,c.y,c.width,c.height),d=this.Pb);return q.ef(d,c.x-a.x,c.y-a.y)}q=a.D&&!a.D.od();e=c.D&&!c.D.od();q?(a.D.jd(a.width,a.height,a.j),this.Pb.Mq(a.D)):this.Pb.Ud(a.Qa,a.x,a.y,a.width,a.height);q=this.Pb;e?(c.D.jd(c.width,c.height,c.j),this.Ym.Mq(c.D)):this.Ym.Ud(c.Qa,c.x,c.y,c.width,c.height);d=this.Ym;e=0;for(k=q.nc;e<k;e++)f=2*e,l=f+1,p=q.Ja[f],u=q.Ja[l],q.Ja[f]=b.za(p+a.x,u+
a.y,!0),q.Ja[l]=b.za(p+a.x,u+a.y,!1);q.U();e=0;for(k=d.nc;e<k;e++)f=2*e,l=f+1,p=d.Ja[f],u=d.Ja[l],d.Ja[f]=g.za(p+c.x,u+c.y,!0),d.Ja[l]=g.za(p+c.x,u+c.y,!1);d.U();return q.ef(d,0,0)};var O=new ua,I=new ta(0,0,0,0),B=[];d.prototype.Xq=function(a,c){var b,g,e,k,f=c.N,l=a.x,p=a.y;a.Ii(f,B);var u=c.D&&!c.D.od();b=0;for(g=B.length;b<g;++b)if(e=B[b],k=e.Dj,f.Fl(k,l,p)&&(O.Ad(k),O.offset(l,p),O.Dl(c.Qa)))if(u)if(c.D.jd(c.width,c.height,c.j),e.Yc){if(e.Yc.ef(c.D,c.x-(l+k.left),c.y-(p+k.top)))return H(B),!0}else{if(this.Pb.Ud(O,
0,0,k.right-k.left,k.bottom-k.top),this.Pb.ef(c.D,c.x,c.y))return H(B),!0}else if(e.Yc){if(this.Pb.Ud(c.Qa,0,0,c.width,c.height),e.Yc.ef(this.Pb,-(l+k.left),-(p+k.top)))return H(B),!0}else return H(B),!0;H(B);return!1};d.prototype.Zm=function(a,c){if(!c||!c.Qc)return!1;c.U();if(!c.N.El(a))return!1;if(c.Cd){c.Ii(a,B);var b,g,e,k,f=c.x,l=c.y;b=0;for(g=B.length;b<g;++b)if(e=B[b],k=e.Dj,a.Fl(k,f,l))if(e.Yc){if(this.Pb.Ad(a,0,0),e.Yc.ef(this.Pb,-(f+k.left),-(l+k.top)))return H(B),!0}else return H(B),!0;
H(B);return!1}O.Ad(a);if(!c.Qa.Dl(O))return!1;if(!c.D||c.D.od())return!0;c.D.jd(c.width,c.height,c.j);O.offset(-a.left,-a.top);this.Pb.Ud(O,0,0,1,1);return c.D.ef(this.Pb,a.left-c.x,a.top-c.y)};d.prototype.Wq=function(a,c,b,g,e){if(!e||!e.Qc)return!1;e.U();I.set(na(a,b),na(c,g),ma(a,b),ma(c,g));if(!e.N.El(I))return!1;if(e.Cd){e.Ii(I,B);var k,f,l,p=e.x,u=e.y;e=0;for(k=B.length;e<k;++e)if(f=B[e],l=f.Dj,I.Fl(l,p,u)&&(O.Ad(l),O.offset(p,u),O.Yg(a,c,b,g)))if(f.Yc){if(f.Yc.Yg(p+l.left,u+l.top,a,c,b,g))return H(B),
!0}else return H(B),!0;H(B);return!1}if(!e.Qa.Yg(a,c,b,g))return!1;if(!e.D||e.D.od())return!0;e.D.jd(e.width,e.height,e.j);return e.D.Yg(e.x,e.y,a,c,b,g)};d.prototype.hr=function(a,c){if(!c)return!1;var b,g,e,k,f;b=0;for(g=a.Ca.length;b<g;b++)if(a.Ca[b].behavior instanceof c)return!0;if(!a.G)for(b=0,g=a.ya.length;b<g;b++)for(f=a.ya[b],e=0,k=f.Ca.length;e<k;e++)if(f.Ca[e].behavior instanceof c)return!0;return!1};d.prototype.kn=function(a){return this.hr(a,gc.ty)};d.prototype.ln=function(a){return this.hr(a,
gc.uy)};var D=[];d.prototype.yf=function(a){var c,b,g;a.U();this.ql(a.k,a.N,D);c=0;for(b=D.length;c<b;++c)if(g=D[c],g.I.solidEnabled&&this.ak(a,g))return H(D),g;H(D);return null};d.prototype.Gx=function(a){var c,b,g;this.ql(null,a,D);c=0;for(b=D.length;c<b;++c)if(g=D[c],g.I.solidEnabled&&this.Zm(a,g))return H(D),g;H(D);return null};d.prototype.xq=function(a,c,b,g){g=g||50;var e=a.x,k=a.y,f,l=null,p=null;for(f=0;f<g;f++)if(a.x=e+c*f,a.y=k+b*f,a.H(),!this.ak(a,l)&&((l=this.yf(a))&&(p=l),!l&&!l))return p&&
this.cx(a,c,b,p),!0;a.x=e;a.y=k;a.H();return!1};d.prototype.cx=function(a,c,b,g){var e=2,k,f=!1;k=!1;for(var l=a.x,p=a.y;16>=e;)k=1/e,e*=2,a.x+=c*k*(f?1:-1),a.y+=b*k*(f?1:-1),a.H(),this.ak(a,g)?k=f=!0:(k=f=!1,l=a.x,p=a.y);k&&(a.x=l,a.y=p,a.H())};d.prototype.ix=function(a){var c=ga(void 0)?100:void 0,b=0,g=a.x,e=a.y,k=0,f=0,l=0,p=this.yf(a);if(!p)return!0;for(;b<=c;){switch(k){case 0:f=0;l=-1;b++;break;case 1:f=1;l=-1;break;case 2:f=1;l=0;break;case 3:l=f=1;break;case 4:f=0;l=1;break;case 5:f=-1;l=
1;break;case 6:f=-1;l=0;break;case 7:l=f=-1}k=(k+1)%8;a.x=E(g+f*b);a.y=E(e+l*b);a.H();if(!this.ak(a,p)&&(p=this.yf(a),!p))return!0}a.x=g;a.y=e;a.H();return!1};d.prototype.Fj=function(a,c){a.Qc&&c.Qc&&this.Em.push([a,c])};var wa=-1;d.prototype.trigger=function(a,c,b){if(!this.ga)return!1;var g=this.ga.Ye;if(!g)return!1;var e=!1,k,f,l;wa++;var p=g.Sk;f=0;for(l=p.length;f<l;++f)k=this.dr(a,c,p[f],b),e=e||k;k=this.dr(a,c,g,b);wa--;return e||k};d.prototype.dr=function(a,c,b,g){var e=!1,k,f,l,p;if(c)for(l=
this.hn(a,c,c.type.name,b,g),e=e||l,p=c.type.ya,k=0,f=p.length;k<f;++k)l=this.hn(a,c,p[k].name,b,g),e=e||l;else l=this.hn(a,c,"system",b,g),e=e||l;return e};d.prototype.hn=function(a,c,b,g,e){var k,f=!1,l=!1,l="undefined"!==typeof e,p=(l?g.Lo:g.er)[b];if(!p)return f;var u=null;g=0;for(k=p.length;g<k;++g)if(p[g].method==a){u=p[g].Jg;break}if(!u)return f;var q;l?q=u[e]:q=u;if(!q)return null;g=0;for(k=q.length;g<k;g++)a=q[g][0],e=q[g][1],l=this.iv(c,b,a,e),f=f||l;return f};d.prototype.iv=function(a,
c,b,g){var e,k,f=!1;this.jn++;var l=this.jb().hb;l&&this.Dh(l.Ne);var p=1<this.jn;this.Dh(b.Ne);p&&this.gx();var u=this.Bj(b);u.hb=b;a&&(e=this.types[c].ca(),e.da=!1,H(e.e),e.e[0]=a,this.types[c].fe());a=!0;if(b.parent){c=u.Vq;for(e=b.parent;e;)c.push(e),e=e.parent;c.reverse();e=0;for(k=c.length;e<k;e++)if(!c[e].ux()){a=!1;break}}a&&(this.Kg++,b.xc?b.tx(g):b.Na(),f=f||u.kf);this.yj();p&&this.Sw();this.tf(b.Ne);l&&this.tf(l.Ne);this.te&&0===this.Vc&&0===wa&&!this.Ll&&this.mb();this.jn--;return f};
d.prototype.Ji=function(){var a=this.jb();return a.hb.Sa[a.Ra]};d.prototype.tv=function(){return this.Ji().type};d.prototype.gx=function(){this.jj++;this.jj>=this.fm.length&&this.fm.push([])};d.prototype.Sw=function(){this.jj--};d.prototype.Uo=function(){return this.fm[this.jj]};d.prototype.Bj=function(a){this.yi++;this.yi>=this.$k.length&&this.$k.push(new Sb);var c=this.jb();c.reset(a);return c};d.prototype.yj=function(){this.yi--};d.prototype.jb=function(){return this.$k[this.yi]};d.prototype.hx=
function(){this.lj++;this.lj>=this.gm.length&&this.gm.push(aa({name:void 0,index:0,Xm:!1}));var a=this.uv();a.name=void 0;a.index=0;a.Xm=!1;return a};d.prototype.Tw=function(){this.lj--};d.prototype.uv=function(){return this.gm[this.lj]};d.prototype.Vo=function(a,c){for(var b,g,e,k,f,l;c;){b=0;for(g=c.Ec.length;b<g;b++)if(l=c.Ec[b],l instanceof Tb&&mb(a,l.name))return l;c=c.parent}b=0;for(g=this.Ld.length;b<g;b++)for(f=this.Ld[b],e=0,k=f.oe.length;e<k;e++)if(l=f.oe[e],l instanceof Tb&&mb(a,l.name))return l;
return null};d.prototype.Zo=function(a){var c,b;c=0;for(b=this.Wc.length;c<b;c++)if(this.Wc[c].R===a)return this.Wc[c];return null};d.prototype.$e=function(a){var c,b;c=0;for(b=this.p.length;c<b;c++)if(this.p[c].R===a)return this.p[c];return null};d.prototype.vv=function(a){var c,b;c=0;for(b=this.If.length;c<b;c++)if(this.If[c].R===a)return this.If[c];return null};d.prototype.au=function(a,c){this.Lh=[a,c];this.Z=!0};d.prototype.Uv=function(){var a=this,c=this.Lm,b=this.Qd,g=this.ej,e=!1;this.Qq&&
(e=!0,c="__c2_continuouspreview",this.Qq=!1);if(c.length){this.mb();b=this.yx();if(m()&&!this.tc)t(c,b,function(){ea("Saved state to IndexedDB storage ("+b.length+" bytes)");a.Qd=b;a.trigger(T.prototype.g.pk,null);a.Qd="";e&&r()},function(g){try{localStorage.setItem("__c2save_"+c,b),ea("Saved state to WebStorage ("+b.length+" bytes)"),a.Qd=b,a.trigger(T.prototype.g.pk,null),a.Qd="",e&&r()}catch(k){ea("Failed to save game state: "+g+"; "+k),a.trigger(T.prototype.g.Ln,null)}});else try{localStorage.setItem("__c2save_"+
c,b),ea("Saved state to WebStorage ("+b.length+" bytes)"),a.Qd=b,this.trigger(T.prototype.g.pk,null),a.Qd="",e&&r()}catch(k){ea("Error saving to WebStorage: "+k),a.trigger(T.prototype.g.Ln,null)}this.ej=this.Lm="";this.Va=null}if(g.length){if(m()&&!this.tc)v(g,function(c){c?(a.Va=c,ea("Loaded state from IndexedDB storage ("+a.Va.length+" bytes)")):(a.Va=localStorage.getItem("__c2save_"+g)||"",ea("Loaded state from WebStorage ("+a.Va.length+" bytes)"));a.Nh=!1;a.Va||(a.Va=null,a.trigger(T.prototype.g.$h,
null))},function(){a.Va=localStorage.getItem("__c2save_"+g)||"";ea("Loaded state from WebStorage ("+a.Va.length+" bytes)");a.Nh=!1;a.Va||(a.Va=null,a.trigger(T.prototype.g.$h,null))});else{try{this.Va=localStorage.getItem("__c2save_"+g)||"",ea("Loaded state from WebStorage ("+this.Va.length+" bytes)")}catch(f){this.Va=null}this.Nh=!1;a.Va||(a.Va=null,a.trigger(T.prototype.g.$h,null))}this.Lm=this.ej=""}null!==this.Va&&(this.mb(),this.sw(this.Va)?(this.Qd=this.Va,this.trigger(T.prototype.g.vs,null),
this.Qd=""):a.trigger(T.prototype.g.$h,null),this.Va=null)};d.prototype.yx=function(){var a,c,g,e,k,f,l,p={c2save:!0,version:1,rt:{time:this.$b.X,walltime:this.jk.X,timescale:this.ng,tickcount:this.Gc,execcount:this.Kg,next_uid:this.wh,running_layout:this.ga.R,start_time_offset:Date.now()-this.Wj},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(c=this.p.length;a<c;a++)if(k=this.p[a],!k.G&&!this.kn(k)){f={instances:[]};Xa(k.I)&&(f.ex=b(k.I));g=0;for(e=k.e.length;g<e;g++)f.instances.push(this.Km(k.e[g]));
p.types[k.R.toString()]=f}a=0;for(c=this.Wc.length;a<c;a++)g=this.Wc[a],p.layouts[g.R.toString()]=g.Oa();e=p.events.groups;a=0;for(c=this.If.length;a<c;a++)g=this.If[a],e[g.R.toString()]=this.Tf[g.Sg].bf;c=p.events.cnds;for(l in this.he)this.he.hasOwnProperty(l)&&(a=this.he[l],Xa(a.I)&&(c[l]={ex:b(a.I)}));c=p.events.acts;for(l in this.ee)this.ee.hasOwnProperty(l)&&(a=this.ee[l],Xa(a.I)&&(c[l]={ex:b(a.I)}));c=p.events.vars;for(l in this.rg)this.rg.hasOwnProperty(l)&&(a=this.rg[l],a.Ui||a.parent&&!a.bh||
(c[l]=a.data));p.system=this.Bd.Oa();return JSON.stringify(p)};d.prototype.Aq=function(){var a,c,b,g,e,k;this.Td={};a=0;for(c=this.p.length;a<c;a++)if(b=this.p[a],!b.G)for(g=0,e=b.e.length;g<e;g++)k=b.e[g],this.Td[k.uid.toString()]=k};d.prototype.sw=function(a){var c;try{c=JSON.parse(a)}catch(b){return!1}if(!c.c2save||1<c.version)return!1;this.$g=!0;a=c.rt;this.$b.reset();this.$b.X=a.time;this.jk.reset();this.jk.X=a.walltime||0;this.ng=a.timescale;this.Gc=a.tickcount;this.Kg=a.execcount;this.Wj=Date.now()-
a.start_time_offset;var g=a.running_layout;if(g!==this.ga.R)if(g=this.Zo(g))this.Eo(g);else return;var e,k,f,l,p,u,q;u=c.types;for(k in u)if(u.hasOwnProperty(k)&&(l=this.$e(parseInt(k,10)))&&!l.G&&!this.kn(l)){u[k].ex?l.I=u[k].ex:Ya(l.I);p=l.e;f=u[k].instances;g=0;for(e=na(p.length,f.length);g<e;g++)this.fj(p[g],f[g]);g=f.length;for(e=p.length;g<e;g++)this.Jc(p[g]);g=p.length;for(e=f.length;g<e;g++){p=null;if(l.na.xe&&(p=this.ga.Ki(f[g].w.l),!p))continue;p=this.ke(l.sc,p,!1,0,0,!0);this.fj(p,f[g])}l.mg=
!0}this.mb();this.Aq();e=c.layouts;for(k in e)e.hasOwnProperty(k)&&(g=this.Zo(parseInt(k,10)))&&g.bb(e[k]);e=c.events.groups;for(k in e)e.hasOwnProperty(k)&&(g=this.vv(parseInt(k,10)))&&this.Tf[g.Sg]&&this.Tf[g.Sg].Oj(e[k]);g=c.events.cnds;for(k in this.he)this.he.hasOwnProperty(k)&&(g.hasOwnProperty(k)?this.he[k].I=g[k].ex:this.he[k].I={});g=c.events.acts;for(k in this.ee)this.ee.hasOwnProperty(k)&&(g.hasOwnProperty(k)?this.ee[k].I=g[k].ex:this.ee[k].I={});g=c.events.vars;for(k in g)g.hasOwnProperty(k)&&
this.rg.hasOwnProperty(k)&&(this.rg[k].data=g[k]);this.wh=a.next_uid;this.$g=!1;g=0;for(e=this.Bi.length;g<e;++g)p=this.Bi[g],this.trigger(Object.getPrototypeOf(p.type.na).g.Ff,p);H(this.Bi);this.Bd.bb(c.system);g=0;for(e=this.p.length;g<e;g++)if(l=this.p[g],!l.G&&!this.kn(l))for(c=0,k=l.e.length;c<k;c++){p=l.e[c];if(l.Bb)for(u=p.Rg(),H(p.siblings),a=0,f=l.Vb.length;a<f;a++)q=l.Vb[a],l!==q&&p.siblings.push(q.e[u]);p.Ed&&p.Ed();if(p.K)for(a=0,f=p.K.length;a<f;a++)u=p.K[a],u.Ed&&u.Ed()}return this.Z=
!0};d.prototype.Km=function(a,c){var g,e,k,f,l;f=a.type;k=f.na;var p={};c?p.c2=!0:p.uid=a.uid;Xa(a.I)&&(p.ex=b(a.I));if(a.qa&&a.qa.length)for(p.ivs={},g=0,e=a.qa.length;g<e;g++)p.ivs[a.type.Cl[g].toString()]=a.qa[g];if(k.xe){k={x:a.x,y:a.y,w:a.width,h:a.height,l:a.k.R,zi:a.nd()};0!==a.j&&(k.a=a.j);1!==a.opacity&&(k.o=a.opacity);.5!==a.Ib&&(k.hX=a.Ib);.5!==a.Jb&&(k.hY=a.Jb);0!==a.nb&&(k.bm=a.nb);a.visible||(k.v=a.visible);a.Qc||(k.ce=a.Qc);-1!==a.vh&&(k.mts=a.vh);if(f.O.length)for(k.fx=[],g=0,e=f.O.length;g<
e;g++)l=f.O[g],k.fx.push({name:l.name,active:a.be[l.index],params:a.Ea[l.index]});p.w=k}if(a.K&&a.K.length)for(p.behs={},g=0,e=a.K.length;g<e;g++)f=a.K[g],f.Oa&&(p.behs[f.type.R.toString()]=f.Oa());a.Oa&&(p.data=a.Oa());return p};d.prototype.xv=function(a,c){var b,g;b=0;for(g=a.Cl.length;b<g;b++)if(a.Cl[b]===c)return b;return-1};d.prototype.sv=function(a,c){var b,g;b=0;for(g=a.K.length;b<g;b++)if(a.K[b].type.R===c)return b;return-1};d.prototype.fj=function(a,c,b){var g,e,k,f,l;l=a.type;var p=l.na;
if(b){if(!c.c2)return}else a.uid=c.uid;c.ex?a.I=c.ex:Ya(a.I);if(e=c.ivs)for(g in e)e.hasOwnProperty(g)&&(k=this.xv(l,parseInt(g,10)),0>k||k>=a.qa.length||(f=e[g],null===f&&(f=NaN),a.qa[k]=f));if(p.xe){k=c.w;a.k.R!==k.l&&(e=a.k,a.k=this.ga.Ki(k.l),a.k?(e.ig(a,!0),a.k.xg(a,!0),a.H(),a.k.Hh(0)):(a.k=e,b||this.Jc(a)));a.x=k.x;a.y=k.y;a.width=k.w;a.height=k.h;a.dd=k.zi;a.j=k.hasOwnProperty("a")?k.a:0;a.opacity=k.hasOwnProperty("o")?k.o:1;a.Ib=k.hasOwnProperty("hX")?k.hX:.5;a.Jb=k.hasOwnProperty("hY")?
k.hY:.5;a.visible=k.hasOwnProperty("v")?k.v:!0;a.Qc=k.hasOwnProperty("ce")?k.ce:!0;a.vh=k.hasOwnProperty("mts")?k.mts:-1;a.nb=k.hasOwnProperty("bm")?k.bm:0;a.Bg=jb(a.nb);this.B&&kb(a,a.nb,this.B);a.H();if(k.hasOwnProperty("fx"))for(b=0,e=k.fx.length;b<e;b++)f=l.jl(k.fx[b].name),0>f||(a.be[f]=k.fx[b].active,a.Ea[f]=k.fx[b].params);a.cd()}if(l=c.behs)for(g in l)l.hasOwnProperty(g)&&(b=this.sv(a,parseInt(g,10)),0>b||a.K[b].bb(l[g]));c.data&&a.bb(c.data)};d.prototype.Mo=function(a,c,b){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+
"www/"+a,function(a){a.file(c,b)},b)};d.prototype.kv=function(a,c){this.Mo("data.js",function(b){var g=new FileReader;g.onload=function(c){a(c.target.result)};g.onerror=c;g.readAsText(b)},c)};var xa=[],L=0;d.prototype.hm=function(){if(xa.length&&!(8<=L)){L++;var a=xa.shift();this.du(a.filename,a.Fx,a.Du)}};d.prototype.jv=function(a,c,b){var g=this;xa.push({filename:a,Fx:function(a){L--;g.hm();c(a)},Du:function(a){L--;g.hm();b(a)}});this.hm()};d.prototype.du=function(a,c,b){this.Mo(a,function(a){var b=
new FileReader;b.onload=function(a){c(a.target.result)};b.readAsArrayBuffer(a)},b)};d.prototype.lv=function(a,c,b){var g="",k=a.toLowerCase(),e=k.substr(k.length-4),k=k.substr(k.length-5);".mp4"===e?g="video/mp4":".webm"===k?g="video/webm":".m4a"===e?g="audio/mp4":".mp3"===e&&(g="audio/mpeg");this.jv(a,function(a){a=URL.createObjectURL(new Blob([a],{type:g}));c(a)},b)};d.prototype.aw=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.prototype.Jq=function(a,
c){this.op&&!this.aw(c)?this.lv(c,function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src=c};d.prototype.Mj=function(a,c){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=c:(a.webkitImageSmoothingEnabled=c,a.mozImageSmoothingEnabled=c,a.msImageSmoothingEnabled=c)};Ub=function(a){return new d(document.getElementById(a))};Vb=function(a,c){return new d({dc:!0,width:a,height:c})};window.cr_createRuntime=Ub;window.cr_createDCRuntime=Vb;window.createCocoonJSRuntime=
function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Ag=!0;document.body.appendChild(a);a=new d(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new d(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,
window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var d=document.getElementById("c2canvas");return d?d.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(d,n){var m=window.cr_getC2Runtime();m&&m.au(d,n)};window.cr_sizeCanvas=function(d,n){if(0!==d&&0!==n){var m=window.cr_getC2Runtime();m&&m.setSize(d,n)}};window.cr_setSuspended=function(d){var n=window.cr_getC2Runtime();n&&n.setSuspended(d)};
(function(){function d(a,c){this.b=a;this.Ye=null;this.scrollX=this.b.Ba/2;this.scrollY=this.b.Aa/2;this.scale=1;this.j=0;this.Pf=!0;this.name=c[0];this.Nw=c[1];this.Mw=c[2];this.width=c[1];this.height=c[2];this.ir=c[3];this.Pq=c[4];this.R=c[5];var b=c[6],k,e;this.P=[];this.Wg=[];k=0;for(e=b.length;k<e;k++){var f=new Wb(this,b[k]);f.dq=k;this.P.push(f)}b=c[7];this.ue=[];k=0;for(e=b.length;k<e;k++){var f=b[k],q=this.b.p[f[1]];q.sc||(q.sc=f);this.ue.push(f);-1===this.Wg.indexOf(q)&&this.Wg.push(q)}this.O=
[];this.ka=[];this.Vd=!0;this.Ea=[];k=0;for(e=c[8].length;k<e;k++)this.O.push({id:c[8][k][0],name:c[8][k][1],Pa:-1,Zc:!1,gc:!0,index:k}),this.Ea.push(c[8][k][2].slice(0));this.cd();this.Ke=new ta(0,0,1,1);this.Dm=new ta(0,0,1,1);this.Je={}}function n(a,c){return a.dd-c.dd}function m(a,c){this.Ua=a;this.b=a.b;this.e=[];this.scale=1;this.j=0;this.Jd=!1;this.Yd=new ta(0,0,0,0);this.cr=new ua;this.la=this.ja=this.ma=this.ia=0;this.Cf=!1;this.$d=-1;this.Jk=0;this.name=c[0];this.index=c[1];this.R=c[2];
this.visible=c[3];this.Mc=c[4];this.bd=c[5];this.zc=c[6];this.Ac=c[7];this.opacity=c[8];this.Fi=c[9];this.pc=c[10];this.ed=c[11];this.nb=c[12];this.zu=c[13];this.Bg="source-over";this.sb=this.ub=0;this.lb=null;this.Rd=h();this.ad=!0;this.ag=new ta(0,0,-1,-1);this.gb=new ta(0,0,-1,-1);this.pc&&(this.lb=new ib(this.b.Ba,this.b.Aa));this.zd=!1;var b=c[14],e,f;this.Uq=[];this.kc=[];this.Eg=[];e=0;for(f=b.length;e<f;e++){var d=b[e],q=this.b.p[d[1]];q.sc||(q.sc=d,q.Co=this.index);this.kc.push(d);-1===this.Ua.Wg.indexOf(q)&&
this.Ua.Wg.push(q)}Ga(this.Uq,this.kc);this.O=[];this.ka=[];this.Vd=!0;this.Ea=[];e=0;for(f=c[15].length;e<f;e++)this.O.push({id:c[15][e][0],name:c[15][e][1],Pa:-1,Zc:!1,gc:!0,index:e}),this.Ea.push(c[15][e][2].slice(0));this.cd();this.Ke=new ta(0,0,1,1);this.Dm=new ta(0,0,1,1)}function h(){return b.length?b.pop():[]}function t(a){H(a);b.push(a)}d.prototype.xx=function(a){var c=a.type.R.toString();this.Je.hasOwnProperty(c)||(this.Je[c]=[]);this.Je[c].push(this.b.Km(a))};d.prototype.dp=function(){var a=
this.P[0];return!a.bd&&1===a.opacity&&!a.Fi&&a.visible};d.prototype.cd=function(){H(this.ka);this.Vd=!0;var a,c,b;a=0;for(c=this.O.length;a<c;a++)b=this.O[a],b.gc&&(this.ka.push(b),b.Zc||(this.Vd=!1))};d.prototype.il=function(a){var c,b,e;c=0;for(b=this.O.length;c<b;c++)if(e=this.O[c],e.name===a)return e;return null};var v=[],r=!0;d.prototype.Vm=function(){this.Pq&&(this.Ye=this.b.al[this.Pq],this.Ye.pn());this.b.ga=this;this.width=this.Nw;this.height=this.Mw;this.scrollX=this.b.Ba/2;this.scrollY=
this.b.Aa/2;var a,c,b,e,f,d,q;a=0;for(b=this.b.p.length;a<b;a++)if(c=this.b.p[a],!c.G)for(f=c.e,c=0,e=f.length;c<e;c++)if(d=f[c],d.k){var l=d.k.dq;l>=this.P.length&&(l=this.P.length-1);d.k=this.P[l];-1===d.k.e.indexOf(d)&&d.k.e.push(d);d.k.Cf=!0}if(!r)for(a=0,b=this.P.length;a<b;++a)this.P[a].e.sort(n);H(v);this.Kt();a=0;for(b=this.P.length;a<b;a++)d=this.P[a],d.Wt(),d.hk();f=!1;if(!this.Pf){for(q in this.Je)if(this.Je.hasOwnProperty(q)&&(c=this.b.$e(parseInt(q,10)))&&!c.G&&this.b.ln(c)){e=this.Je[q];
a=0;for(b=e.length;a<b;a++){d=null;if(c.na.xe&&(d=this.Ki(e[a].w.l),!d))continue;d=this.b.ke(c.sc,d,!1,0,0,!0);this.b.fj(d,e[a]);f=!0;v.push(d)}H(e)}a=0;for(b=this.P.length;a<b;a++)this.P[a].e.sort(n),this.P[a].Cf=!0}f&&(this.b.mb(),this.b.Aq());for(a=0;a<v.length;a++)if(d=v[a],d.type.Bb)for(b=d.Rg(),c=0,e=d.type.Vb.length;c<e;c++)q=d.type.Vb[c],d.type!==q&&(q.e.length>b?d.siblings.push(q.e[b]):q.sc&&(f=this.b.ke(q.sc,d.k,!0,d.x,d.y,!0),this.b.mb(),q.gk(),d.siblings.push(f),v.push(f)));a=0;for(b=
this.ue.length;a<b;a++)d=this.ue[a],c=this.b.p[d[1]],c.Bb||this.b.ke(this.ue[a],null,!0);this.b.Hk=null;this.b.mb();if(this.b.xa&&!this.b.La)for(a=0,b=this.b.p.length;a<b;a++)q=this.b.p[a],!q.G&&q.e.length&&q.xm&&q.xm(this.b.xa);if(this.b.$g)Ga(this.b.Bi,v);else for(a=0,b=v.length;a<b;a++)d=v[a],this.b.trigger(Object.getPrototypeOf(d.type.na).g.Ff,d);H(v);this.b.$g||this.b.trigger(T.prototype.g.En,null);this.Pf=!1};d.prototype.Vt=function(){var a,c,b,e,f;c=a=0;for(b=this.ue.length;a<b;a++)e=this.ue[a],
f=this.b.p[e[1]],f.global?f.Bb||this.b.ke(e,null,!0):(this.ue[c]=e,c++);Fa(this.ue,c)};d.prototype.Ex=function(){this.b.$g||this.b.trigger(T.prototype.g.us,null);this.b.Il=!0;H(this.b.Bd.Rb);var a,c,b,e,f,d;if(!this.Pf)for(a=0,c=this.P.length;a<c;a++)for(this.P[a].rn(),f=this.P[a].e,b=0,e=f.length;b<e;b++)d=f[b],d.type.global||this.b.ln(d.type)&&this.xx(d);a=0;for(c=this.P.length;a<c;a++){f=this.P[a].e;b=0;for(e=f.length;b<e;b++)d=f[b],d.type.global||this.b.Jc(d);this.b.mb();H(f);this.P[a].Cf=!0}a=
0;for(c=this.b.p.length;a<c;a++)if(f=this.b.p[a],!(f.global||f.na.xe||f.na.Vj||f.G)){b=0;for(e=f.e.length;b<e;b++)this.b.Jc(f.e[b]);this.b.mb()}r=!1;this.b.Il=!1};new ta(0,0,0,0);d.prototype.Sc=function(a){var c,b=a,e=!1,f=!this.b.ic;f&&(this.b.dj||(this.b.dj=document.createElement("canvas"),c=this.b.dj,c.width=this.b.M,c.height=this.b.L,this.b.Ap=c.getContext("2d"),e=!0),c=this.b.dj,b=this.b.Ap,c.width!==this.b.M&&(c.width=this.b.M,e=!0),c.height!==this.b.L&&(c.height=this.b.L,e=!0),e&&this.b.Mj(b,
this.b.wa));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.b.vo&&!this.dp()&&b.clearRect(0,0,this.b.M,this.b.L);var d,q,e=0;for(d=this.P.length;e<d;e++)q=this.P[e],q.visible&&0<q.opacity&&11!==q.nb&&(q.e.length||!q.bd)?q.Sc(b):q.hk();f&&a.drawImage(c,0,0,this.b.width,this.b.height)};d.prototype.We=function(a){a.Iq(!0);this.b.Ma||(this.b.Ma=a.Fb(this.b.M,this.b.L,this.b.wa));if(this.b.Ma.Ue!==this.b.M||this.b.Ma.Te!==this.b.L)a.deleteTexture(this.b.Ma),this.b.Ma=a.Fb(this.b.M,this.b.L,
this.b.wa);a.Cc(this.b.Ma);this.b.ic||a.wf(this.b.M,this.b.L);var c,b;for(c=this.P.length-1;0<=c;--c)b=this.P[c],b.visible&&1===b.opacity&&b.Vd&&0===b.nb&&(b.e.length||!b.bd)?b.We(a):b.hk();a.Iq(!1)};d.prototype.Gb=function(a){var c=0<this.ka.length||this.b.pg||!this.b.ic||this.b.pa;if(c){this.b.Ma||(this.b.Ma=a.Fb(this.b.M,this.b.L,this.b.wa));if(this.b.Ma.Ue!==this.b.M||this.b.Ma.Te!==this.b.L)a.deleteTexture(this.b.Ma),this.b.Ma=a.Fb(this.b.M,this.b.L,this.b.wa);a.Cc(this.b.Ma);this.b.ic||a.wf(this.b.M,
this.b.L)}else this.b.Ma&&(a.Cc(null),a.deleteTexture(this.b.Ma),this.b.Ma=null);this.b.vo&&!this.dp()&&a.clear(0,0,0,0);var b,e,f;b=0;for(e=this.P.length;b<e;b++)f=this.P[b],f.visible&&0<f.opacity&&(f.e.length||!f.bd)?f.Gb(a):f.hk();c&&(0===this.ka.length||1===this.ka.length&&this.b.ic?(1===this.ka.length?(c=this.ka[0].index,a.Ob(this.ka[0].Pa),a.kg(null,1/this.b.M,1/this.b.L,0,0,1,1,this.scale,this.j,0,0,this.b.M/2,this.b.L/2,this.b.$b.X,this.Ea[c]),a.zj(this.ka[0].Pa)&&(this.b.Z=!0)):a.Ob(0),this.b.ic||
a.wf(this.b.width,this.b.height),a.Cc(null),a.Hq(!1),a.Me(1),a.Wa(this.b.Ma),a.Fq(),a.Bc(),a.oc(),c=this.b.width/2,b=this.b.height/2,a.uf(-c,b,c,b,c,-b,-c,-b),a.Wa(null),a.Hq(!0)):this.Fm(a,null,null,null))};d.prototype.Qg=function(){return 0<this.ka.length||this.b.pg||!this.b.ic||this.b.pa?this.b.Ma:null};d.prototype.$o=function(){var a=this.P[0].Zb(),c,b,e;c=1;for(b=this.P.length;c<b;c++)e=this.P[c],(0!==e.zc||0!==e.Ac)&&e.Zb()<a&&(a=e.Zb());return a};d.prototype.Mm=function(a){if(!this.ir){var c=
1/this.$o()*this.b.M/2;a>this.width-c&&(a=this.width-c);a<c&&(a=c)}this.scrollX!==a&&(this.scrollX=a,this.b.Z=!0)};d.prototype.Nm=function(a){if(!this.ir){var c=1/this.$o()*this.b.L/2;a>this.height-c&&(a=this.height-c);a<c&&(a=c)}this.scrollY!==a&&(this.scrollY=a,this.b.Z=!0)};d.prototype.Kt=function(){this.Mm(this.scrollX);this.Nm(this.scrollY)};d.prototype.Fm=function(a,c,b,e){var f=b?b.ka:c?c.ka:this.ka,d=1,q=0,l=0,u=0,h=this.b.M,r=this.b.L;b?(d=b.k.Zb(),q=b.k.Xb(),l=b.k.ia,u=b.k.ja,h=b.k.ma,r=
b.k.la):c&&(d=c.Zb(),q=c.Xb(),l=c.ia,u=c.ja,h=c.ma,r=c.la);var m=this.b.gl,n,t,v,A,M=0,V=1,O,I,B=this.b.M,D=this.b.L,wa=B/2,xa=D/2,L=c?c.Ke:this.Ke,x=c?c.Dm:this.Dm,y=0,F=0,J=0,G=0,S=B,Ba=B,P=D,Ca=D,qa=v=0;A=b?b.k.Xb():0;if(b){n=0;for(t=f.length;n<t;n++)v+=a.Bv(f[n].Pa),qa+=a.Cv(f[n].Pa);G=b.N;y=c.za(G.left,G.top,!0,!0);J=c.za(G.left,G.top,!1,!0);S=c.za(G.right,G.bottom,!0,!0);P=c.za(G.right,G.bottom,!1,!0);0!==A&&(n=c.za(G.right,G.top,!0,!0),t=c.za(G.right,G.top,!1,!0),F=c.za(G.left,G.bottom,!0,
!0),G=c.za(G.left,G.bottom,!1,!0),A=Math.min(y,S,n,F),S=Math.max(y,S,n,F),y=A,A=Math.min(J,P,t,G),P=Math.max(J,P,t,G),J=A);y-=v;J-=qa;S+=v;P+=qa;x.left=y/B;x.top=1-J/D;x.right=S/B;x.bottom=1-P/D;F=y=E(y);G=J=E(J);Ba=S=pa(S);Ca=P=pa(P);F-=v;G-=qa;Ba+=v;Ca+=qa;0>y&&(y=0);0>J&&(J=0);S>B&&(S=B);P>D&&(P=D);0>F&&(F=0);0>G&&(G=0);Ba>B&&(Ba=B);Ca>D&&(Ca=D);L.left=y/B;L.top=1-J/D;L.right=S/B;L.bottom=1-P/D}else L.left=x.left=0,L.top=x.top=0,L.right=x.right=1,L.bottom=x.bottom=1;qa=b&&(a.Bh(f[0].Pa)||0!==v||
0!==qa||1!==b.opacity||b.type.na.aq)||c&&!b&&1!==c.opacity;a.Fq();if(qa){m[M]||(m[M]=a.Fb(B,D,this.b.wa));if(m[M].Ue!==B||m[M].Te!==D)a.deleteTexture(m[M]),m[M]=a.Fb(B,D,this.b.wa);a.Ob(0);a.Cc(m[M]);I=Ca-G;a.clearRect(F,D-G-I,Ba-F,I);b?b.Gb(a):(a.Wa(this.b.Ta),a.Me(c.opacity),a.Bc(),a.translate(-wa,-xa),a.oc(),a.wd(y,P,S,P,S,J,y,J,L));x.left=x.top=0;x.right=x.bottom=1;b&&(A=L.top,L.top=L.bottom,L.bottom=A);M=1;V=0}a.Me(1);v=f.length-1;var eb=a.zm(f[v].Pa)||!c&&!b&&!this.b.ic;n=A=0;for(t=f.length;n<
t;n++){m[M]||(m[M]=a.Fb(B,D,this.b.wa));if(m[M].Ue!==B||m[M].Te!==D)a.deleteTexture(m[M]),m[M]=a.Fb(B,D,this.b.wa);a.Ob(f[n].Pa);A=f[n].index;a.zj(f[n].Pa)&&(this.b.Z=!0);0!=n||qa?(a.kg(e,1/B,1/D,x.left,x.top,x.right,x.bottom,d,q,l,u,(l+h)/2,(u+r)/2,this.b.$b.X,b?b.Ea[A]:c?c.Ea[A]:this.Ea[A]),a.Wa(null),n!==v||eb?(a.Cc(m[M]),I=Ca-G,O=D-G-I,a.clearRect(F,O,Ba-F,I)):(b?a.Le(b.ub,b.sb):c&&a.Le(c.ub,c.sb),a.Cc(e)),a.Wa(m[V]),a.Bc(),a.translate(-wa,-xa),a.oc(),a.wd(y,P,S,P,S,J,y,J,L),n!==v||eb||a.Wa(null)):
(a.Cc(m[M]),I=Ca-G,O=D-G-I,a.clearRect(F,O,Ba-F,I),b?(b.fb&&b.fb.aa?(O=b.fb.aa,V=1/O.width,O=1/O.height):(V=1/b.width,O=1/b.height),a.kg(e,V,O,x.left,x.top,x.right,x.bottom,d,q,l,u,(l+h)/2,(u+r)/2,this.b.$b.X,b.Ea[A]),b.Gb(a)):(a.kg(e,1/B,1/D,0,0,1,1,d,q,l,u,(l+h)/2,(u+r)/2,this.b.$b.X,c?c.Ea[A]:this.Ea[A]),a.Wa(c?this.b.Ta:this.b.Ma),a.Bc(),a.translate(-wa,-xa),a.oc(),a.wd(y,P,S,P,S,J,y,J,L)),x.left=x.top=0,x.right=x.bottom=1,b&&!eb&&(A=P,P=J,J=A));M=0===M?1:0;V=0===M?1:0}eb&&(a.Ob(0),b?a.Le(b.ub,
b.sb):c?a.Le(c.ub,c.sb):this.b.ic||(a.wf(this.b.width,this.b.height),wa=this.b.width/2,xa=this.b.height/2,J=y=0,S=this.b.width,P=this.b.height),a.Cc(e),a.Wa(m[V]),a.Bc(),a.translate(-wa,-xa),a.oc(),b&&1===f.length&&!qa?a.wd(y,J,S,J,S,P,y,P,L):a.wd(y,P,S,P,S,J,y,J,L),a.Wa(null))};d.prototype.Ki=function(a){var c,b;c=0;for(b=this.P.length;c<b;c++)if(this.P[c].R===a)return this.P[c];return null};d.prototype.Oa=function(){var a,c,b,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,
h:this.height,fv:this.Pf,persist:this.Je,fx:[],layers:{}};a=0;for(c=this.O.length;a<c;a++)b=this.O[a],e.fx.push({name:b.name,active:b.gc,params:this.Ea[b.index]});a=0;for(c=this.P.length;a<c;a++)b=this.P[a],e.layers[b.R.toString()]=b.Oa();return e};d.prototype.bb=function(a){var c,b,e,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.j=a.a;this.width=a.w;this.height=a.h;this.Je=a.persist;"undefined"!==typeof a.fv&&(this.Pf=a.fv);var d=a.fx;c=0;for(b=d.length;c<b;c++)if(e=this.il(d[c].name))e.gc=
d[c].active,this.Ea[e.index]=d[c].params;this.cd();c=a.layers;for(f in c)c.hasOwnProperty(f)&&(a=this.Ki(parseInt(f,10)))&&a.bb(c[f])};Ib=d;m.prototype.cd=function(){H(this.ka);this.Vd=!0;var a,c,b;a=0;for(c=this.O.length;a<c;a++)b=this.O[a],b.gc&&(this.ka.push(b),b.Zc||(this.Vd=!1))};m.prototype.il=function(a){var c,b,e;c=0;for(b=this.O.length;c<b;c++)if(e=this.O[c],e.name===a)return e;return null};m.prototype.Wt=function(){var a,c,b,e,f,d;c=a=0;for(b=this.kc.length;a<b;a++){e=this.kc[a];f=this.b.p[e[1]];
d=this.b.ln(f);f=!0;if(!d||this.Ua.Pf){e=this.b.ke(e,this,!0);if(!e)continue;v.push(e);e.type.global&&(f=!1,this.Eg.push(e.uid))}f&&(this.kc[c]=this.kc[a],c++)}this.kc.length=c;this.b.mb();!this.b.n&&this.O.length&&(this.nb=this.zu);this.Bg=jb(this.nb);this.b.B&&kb(this,this.nb,this.b.B);this.ad=!0};m.prototype.ig=function(a,c){var b=Ia(this.e,a);0>b||(c&&this.pc&&a.Nb&&a.Nb.right>=a.Nb.left&&(a.U(),this.lb.update(a,a.Nb,null),a.Nb.set(0,0,-1,-1)),b===this.e.length-1?this.e.pop():(Ea(this.e,b),this.Hh(b)),
this.ad=!0)};m.prototype.xg=function(a,c){a.dd=this.e.length;this.e.push(a);c&&this.pc&&a.Nb&&a.H();this.ad=!0};m.prototype.Yw=function(a){this.e.unshift(a);this.Hh(0)};m.prototype.yw=function(a,c,b){var e=a.nd();c=c.nd();Ea(this.e,e);e<c&&c--;b&&c++;c===this.e.length?this.e.push(a):this.e.splice(c,0,a);this.Hh(e<c?e:c)};m.prototype.Hh=function(a){-1===this.$d?this.$d=a:a<this.$d&&(this.$d=a);this.ad=this.Cf=!0};m.prototype.rn=function(){if(this.Cf){-1===this.$d&&(this.$d=0);var a,c,b;if(this.pc)for(a=
this.$d,c=this.e.length;a<c;++a)b=this.e[a],b.dd=a,this.lb.vw(b.Nb);else for(a=this.$d,c=this.e.length;a<c;++a)this.e[a].dd=a;this.Cf=!1;this.$d=-1}};m.prototype.Zb=function(a){return this.yv()*(this.b.ic||a?this.b.yg:1)};m.prototype.yv=function(){return(this.scale*this.Ua.scale-1)*this.ed+1};m.prototype.Xb=function(){return this.Jd?0:Na(this.Ua.j+this.j)};var b=[],f=[],e=[];m.prototype.ol=function(){this.rn();this.lb.Cj(this.ia,this.ja,this.ma,this.la,e);if(!e.length)return h();if(1===e.length){var a=
h();Ga(a,e[0]);H(e);return a}for(var c=!0;1<e.length;){for(var a=e,b=void 0,k=void 0,p=void 0,d=void 0,q=void 0,b=0,k=a.length;b<k-1;b+=2){var p=a[b],d=a[b+1],q=h(),l=p,u=d,r=q,m=0,n=0,v=0,K=l.length,N=u.length,A=void 0,M=void 0;for(r.length=K+N;m<K&&n<N;++v)A=l[m],M=u[n],A.dd<M.dd?(r[v]=A,++m):(r[v]=M,++n);for(;m<K;++m,++v)r[v]=l[m];for(;n<N;++n,++v)r[v]=u[n];c||(t(p),t(d));f.push(q)}1===k%2&&(c?(p=h(),Ga(p,a[k-1]),f.push(p)):f.push(a[k-1]));Ga(a,f);H(f);c=!1}a=e[0];H(e);return a};m.prototype.Sc=
function(a){this.zd=this.Fi||1!==this.opacity||0!==this.nb;var c=this.b.canvas,b=a,e=!1;this.zd&&(this.b.cj||(this.b.cj=document.createElement("canvas"),c=this.b.cj,c.width=this.b.M,c.height=this.b.L,this.b.zp=c.getContext("2d"),e=!0),c=this.b.cj,b=this.b.zp,c.width!==this.b.M&&(c.width=this.b.M,e=!0),c.height!==this.b.L&&(c.height=this.b.L,e=!0),e&&this.b.Mj(b,this.b.wa),this.bd&&b.clearRect(0,0,this.b.M,this.b.L));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.bd||(b.fillStyle="rgb("+
this.Mc[0]+","+this.Mc[1]+","+this.Mc[2]+")",b.fillRect(0,0,this.b.M,this.b.L));b.save();this.Jd=!0;var e=this.Ab(0,0,!0,!0),f=this.Ab(0,0,!1,!0);this.Jd=!1;this.b.Xc&&(e=Math.round(e),f=Math.round(f));this.Ij(e,f,b);var d=this.Zb();b.scale(d,d);b.translate(-e,-f);this.pc?(this.gb.left=this.lb.Db(this.ia),this.gb.top=this.lb.Eb(this.ja),this.gb.right=this.lb.Db(this.ma),this.gb.bottom=this.lb.Eb(this.la),this.ad||!this.gb.Ig(this.ag)?(t(this.Rd),e=this.ol(),this.ad=!1,this.ag.Cg(this.gb)):e=this.Rd):
e=this.e;for(var q,l=null,f=0,d=e.length;f<d;++f)q=e[f],q!==l&&(this.tu(q,b),l=q);this.pc&&(this.Rd=e);b.restore();this.zd&&(a.globalCompositeOperation=this.Bg,a.globalAlpha=this.opacity,a.drawImage(c,0,0))};m.prototype.tu=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.U();var b=a.N;b.right<this.ia||b.bottom<this.ja||b.left>this.ma||b.top>this.la||(c.globalCompositeOperation=a.Bg,a.Sc(c))}};m.prototype.hk=function(){this.Jd=!0;var a=this.Ab(0,0,!0,!0),c=this.Ab(0,0,!1,!0);this.Jd=!1;this.b.Xc&&
(a=Math.round(a),c=Math.round(c));this.Ij(a,c,null)};m.prototype.Ij=function(a,c,b){var e=this.Zb();this.ia=a;this.ja=c;this.ma=a+1/e*this.b.M;this.la=c+1/e*this.b.L;this.ia>this.ma&&(a=this.ia,this.ia=this.ma,this.ma=a);this.ja>this.la&&(a=this.ja,this.ja=this.la,this.la=a);a=this.Xb();0!==a&&(b&&(b.translate(this.b.M/2,this.b.L/2),b.rotate(-a),b.translate(this.b.M/-2,this.b.L/-2)),this.Yd.set(this.ia,this.ja,this.ma,this.la),this.Yd.offset((this.ia+this.ma)/-2,(this.ja+this.la)/-2),this.cr.Nq(this.Yd,
a),this.cr.ko(this.Yd),this.Yd.offset((this.ia+this.ma)/2,(this.ja+this.la)/2),this.ia=this.Yd.left,this.ja=this.Yd.top,this.ma=this.Yd.right,this.la=this.Yd.bottom)};m.prototype.We=function(a){if(this.zd=this.Fi){this.b.Ta||(this.b.Ta=a.Fb(this.b.M,this.b.L,this.b.wa));if(this.b.Ta.Ue!==this.b.M||this.b.Ta.Te!==this.b.L)a.deleteTexture(this.b.Ta),this.b.Ta=a.Fb(this.b.M,this.b.L,this.b.wa);a.Cc(this.b.Ta)}this.Jd=!0;var c=this.Ab(0,0,!0,!0),b=this.Ab(0,0,!1,!0);this.Jd=!1;this.b.Xc&&(c=Math.round(c),
b=Math.round(b));this.Ij(c,b,null);c=this.Zb();a.Bc();a.scale(c,c);a.Jj(-this.Xb());a.translate((this.ia+this.ma)/-2,(this.ja+this.la)/-2);a.oc();this.pc?(this.gb.left=this.lb.Db(this.ia),this.gb.top=this.lb.Eb(this.ja),this.gb.right=this.lb.Db(this.ma),this.gb.bottom=this.lb.Eb(this.la),this.ad||!this.gb.Ig(this.ag)?(t(this.Rd),c=this.ol(),this.ad=!1,this.ag.Cg(this.gb)):c=this.Rd):c=this.e;for(var e,f=null,b=c.length-1;0<=b;--b)e=c[b],e!==f&&(this.vu(c[b],a),f=e);this.pc&&(this.Rd=c);this.bd||(this.Jk=
this.b.Xe++,a.Nj(this.Jk),a.Gq(1,1,1),a.Qo(),a.lx())};m.prototype.Gb=function(a){var c=0,b=0;if(this.zd=this.Fi||1!==this.opacity||0<this.ka.length||0!==this.nb){this.b.Ta||(this.b.Ta=a.Fb(this.b.M,this.b.L,this.b.wa));if(this.b.Ta.Ue!==this.b.M||this.b.Ta.Te!==this.b.L)a.deleteTexture(this.b.Ta),this.b.Ta=a.Fb(this.b.M,this.b.L,this.b.wa);a.Cc(this.b.Ta);this.bd&&a.clear(0,0,0,0)}this.bd||(this.b.pa?(a.Nj(this.Jk),a.Gq(this.Mc[0]/255,this.Mc[1]/255,this.Mc[2]/255),a.Qo(),a.zx()):a.clear(this.Mc[0]/
255,this.Mc[1]/255,this.Mc[2]/255,1));this.Jd=!0;var e=this.Ab(0,0,!0,!0),c=this.Ab(0,0,!1,!0);this.Jd=!1;this.b.Xc&&(e=Math.round(e),c=Math.round(c));this.Ij(e,c,null);e=this.Zb();a.Bc();a.scale(e,e);a.Jj(-this.Xb());a.translate((this.ia+this.ma)/-2,(this.ja+this.la)/-2);a.oc();this.pc?(this.gb.left=this.lb.Db(this.ia),this.gb.top=this.lb.Eb(this.ja),this.gb.right=this.lb.Db(this.ma),this.gb.bottom=this.lb.Eb(this.la),this.ad||!this.gb.Ig(this.ag)?(t(this.Rd),c=this.ol(),this.ad=!1,this.ag.Cg(this.gb)):
c=this.Rd):c=this.e;var f,d,q=null,b=0;for(f=c.length;b<f;++b)d=c[b],d!==q&&(this.uu(c[b],a),q=d);this.pc&&(this.Rd=c);this.zd&&(c=this.ka.length?this.ka[0].Pa:0,b=this.ka.length?this.ka[0].index:0,0===this.ka.length||1===this.ka.length&&!a.zm(c)&&1===this.opacity?(1===this.ka.length?(a.Ob(c),a.kg(this.Ua.Qg(),1/this.b.M,1/this.b.L,0,0,1,1,e,this.Xb(),this.ia,this.ja,(this.ia+this.ma)/2,(this.ja+this.la)/2,this.b.$b.X,this.Ea[b]),a.zj(c)&&(this.b.Z=!0)):a.Ob(0),a.Cc(this.Ua.Qg()),a.Me(this.opacity),
a.Wa(this.b.Ta),a.Le(this.ub,this.sb),a.Bc(),a.oc(),e=this.b.M/2,c=this.b.L/2,a.uf(-e,c,e,c,e,-c,-e,-c),a.Wa(null)):this.Ua.Fm(a,this,null,this.Ua.Qg()))};m.prototype.uu=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.U();var b=a.N;b.right<this.ia||b.bottom<this.ja||b.left>this.ma||b.top>this.la||(c.Nj(a.Xe),a.pr?this.wu(a,c):(c.Ob(0),c.Le(a.ub,a.sb),a.Gb(c)))}};m.prototype.vu=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.U();var b=a.N;b.right<this.ia||b.bottom<this.ja||b.left>
this.ma||b.top>this.la||(a.Xe=this.b.Xe++,0===a.nb&&1===a.opacity&&a.Vd&&a.We&&(c.Nj(a.Xe),a.We(c)))}};m.prototype.wu=function(a,c){var b=a.ka[0].Pa,e=a.ka[0].index,f=this.Zb();if(1!==a.ka.length||c.zm(b)||c.bx(b)||(a.j||a.k.Xb())&&c.Bh(b)||1!==a.opacity||a.type.na.aq)this.Ua.Fm(c,this,a,this.zd?this.b.Ta:this.Ua.Qg()),c.Bc(),c.scale(f,f),c.Jj(-this.Xb()),c.translate((this.ia+this.ma)/-2,(this.ja+this.la)/-2),c.oc();else{c.Ob(b);c.Le(a.ub,a.sb);c.zj(b)&&(this.b.Z=!0);var d=0,q=0,l=0,u=0;c.Bh(b)&&
(u=a.N,d=this.za(u.left,u.top,!0,!0),q=this.za(u.left,u.top,!1,!0),l=this.za(u.right,u.bottom,!0,!0),u=this.za(u.right,u.bottom,!1,!0),d=d/windowWidth,q=1-q/windowHeight,l=l/windowWidth,u=1-u/windowHeight);var h;a.fb&&a.fb.aa?(h=a.fb.aa,b=1/h.width,h=1/h.height):(b=1/a.width,h=1/a.height);c.kg(this.zd?this.b.Ta:this.Ua.Qg(),b,h,d,q,l,u,f,this.Xb(),this.ia,this.ja,(this.ia+this.ma)/2,(this.ja+this.la)/2,this.b.$b.X,a.Ea[e]);a.Gb(c)}};m.prototype.Ab=function(a,c,b,e){var f=this.b.devicePixelRatio;this.b.gf&&
(a*=f,c*=f);var f=this.b.oq,d=this.b.pq,f=(this.Ua.scrollX-f)*this.zc+f,d=(this.Ua.scrollY-d)*this.Ac+d,q=f,l=d,u=1/this.Zb(!e);e?(q-=this.b.M*u/2,l-=this.b.L*u/2):(q-=this.b.width*u/2,l-=this.b.height*u/2);q+=a*u;l+=c*u;c=this.Xb();0!==c&&(q-=f,l-=d,a=Math.cos(c),c=Math.sin(c),e=q*a-l*c,l=l*a+q*c,q=e+f,l+=d);return b?q:l};m.prototype.za=function(a,c,b,e){var f=this.b.oq,d=this.b.pq,q=(this.Ua.scrollX-f)*this.zc+f,l=(this.Ua.scrollY-d)*this.Ac+d,d=q,f=l,u=this.Xb();if(0!==u){a-=q;c-=l;var h=Math.cos(-u),
u=Math.sin(-u),r=a*h-c*u;c=c*h+a*u;a=r+q;c+=l}q=1/this.Zb(!e);e?(d-=this.b.M*q/2,f-=this.b.L*q/2):(d-=this.b.width*q/2,f-=this.b.height*q/2);d=(a-d)/q;f=(c-f)/q;a=this.b.devicePixelRatio;this.b.gf&&!e&&(d/=a,f/=a);return b?d:f};m.prototype.Oa=function(){var a,c,b,e={s:this.scale,a:this.j,vl:this.ia,vt:this.ja,vr:this.ma,vb:this.la,v:this.visible,bc:this.Mc,t:this.bd,px:this.zc,py:this.Ac,o:this.opacity,zr:this.ed,fx:[],cg:this.Eg,instances:[]};a=0;for(c=this.O.length;a<c;a++)b=this.O[a],e.fx.push({name:b.name,
active:b.gc,params:this.Ea[b.index]});return e};m.prototype.bb=function(a){var c,b,e;this.scale=a.s;this.j=a.a;this.ia=a.vl;this.ja=a.vt;this.ma=a.vr;this.la=a.vb;this.visible=a.v;this.Mc=a.bc;this.bd=a.t;this.zc=a.px;this.Ac=a.py;this.opacity=a.o;this.ed=a.zr;this.Eg=a.cg||[];Ga(this.kc,this.Uq);var f=new ca;c=0;for(e=this.Eg.length;c<e;++c)f.add(this.Eg[c]);b=c=0;for(e=this.kc.length;c<e;++c)f.contains(this.kc[c][2])||(this.kc[b]=this.kc[c],++b);Fa(this.kc,b);b=a.fx;c=0;for(e=b.length;c<e;c++)if(a=
this.il(b[c].name))a.gc=b[c].active,this.Ea[a.index]=b[c].params;this.cd();this.e.sort(n);this.Cf=!0};Wb=m})();
(function(){function d(a,c){var b,e=a.length;switch(e){case 0:return!0;case 1:return a[0]===c[0];case 2:return a[0]===c[0]&&a[1]===c[1];default:for(b=0;b<e;b++)if(a[b]!==c[b])return!1;return!0}}function n(a,c){return a.index-c.index}function m(a){var c,b,e,f;2===a.length?a[0].index>a[1].index&&(c=a[0],a[0]=a[1],a[1]=c):2<a.length&&a.sort(n);a.length>=p.length&&(p.length=a.length+1);p[a.length]||(p[a.length]=[]);f=p[a.length];c=0;for(b=f.length;c<b;c++)if(e=f[c],d(a,e))return e;f.push(a);return a}
function h(a,c){this.b=a;this.er={};this.Lo={};this.tl=!1;this.gp=new ca;this.Sk=[];this.vk=[];this.name=c[0];var b=c[1];this.oe=[];var e,f;e=0;for(f=b.length;e<f;e++)this.jp(b[e],null,this.oe)}function t(a){this.type=a;this.e=[];this.Y=[];this.da=!0}function v(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.ta=[];this.Ne=[];this.ep=this.ck=this.gn=this.zl=this.group=this.Tm=!1;this.Sa=[];this.Kc=[];this.Ec=[];this.Sg="";this.bf=this.zl=this.group=!1;this.oi=null;b[1]&&(this.Sg=b[1][1].toLowerCase(),
this.group=!0,this.zl=!!b[1][0],this.oi=[],this.bf=this.zl,this.b.If.push(this),this.b.Tf[this.Sg]=this);this.xc=b[2];this.R=b[4];this.group||(this.b.jo[this.R.toString()]=this);var e=b[5];a=0;for(c=e.length;a<c;a++){var f=new Xb(this,e[a]);f.index=a;this.Sa.push(f);this.Zn(f.type)}e=b[6];a=0;for(c=e.length;a<c;a++)f=new Yb(this,e[a]),f.index=a,this.Kc.push(f);if(8===b.length)for(b=b[7],a=0,c=b.length;a<c;a++)this.sheet.jp(b[a],this,this.Ec);this.Wi=!1;this.Sa.length&&(this.Wi=null==this.Sa[0].type&&
this.Sa[0].ib==T.prototype.g.xn)}function r(a,c){var b,e,f;if(a&&(-1===c.indexOf(a)&&c.push(a),a.Bb))for(b=0,e=a.Vb.length;b<e;b++)f=a.Vb[b],a!==f&&-1===c.indexOf(f)&&c.push(f)}function b(a,c){this.hc=a;this.sheet=a.sheet;this.b=a.b;this.W=[];this.Ga=[];this.I={};this.index=-1;this.vg=!1;this.ib=this.b.ae(c[1]);this.trigger=0<c[3];this.Ko=2===c[3];this.Pi=c[5];this.qw=c[6];this.R=c[7];this.b.he[this.R.toString()]=this;-1===c[0]?(this.type=null,this.Na=this.Jm,this.Se=null,this.Oc=-1):(this.type=this.b.p[c[0]],
this.Na=this.qw?this.vx:this.Im,c[2]?(this.Se=this.type.Hi(c[2]),this.Oc=this.type.hl(c[2])):(this.Se=null,this.Oc=-1),this.hc.parent&&this.hc.parent.Pj());this.Ko&&(this.Na=this.wx);if(10===c.length){var b,e,f=c[9];b=0;for(e=f.length;b<e;b++){var g=new Zb(this,f[b]);this.W.push(g)}this.Ga.length=f.length}}function f(a,c){this.hc=a;this.sheet=a.sheet;this.b=a.b;this.W=[];this.Ga=[];this.I={};this.index=-1;this.vg=!1;this.ib=this.b.ae(c[1]);-1===c[0]?(this.type=null,this.Na=this.Jm,this.Se=null,this.Oc=
-1):(this.type=this.b.p[c[0]],this.Na=this.Im,c[2]?(this.Se=this.type.Hi(c[2]),this.Oc=this.type.hl(c[2])):(this.Se=null,this.Oc=-1));this.R=c[3];this.b.ee[this.R.toString()]=this;if(6===c.length){var b,e,f=c[5];b=0;for(e=f.length;b<e;b++){var g=new Zb(this,f[b]);this.W.push(g)}this.Ga.length=f.length}}function e(){q++;z.length===q&&z.push(new $b);return z[q]}function a(a,c){this.yc=a;this.hc=a.hc;this.sheet=a.sheet;this.b=a.b;this.type=c[0];this.ld=null;this.Wd=0;this.get=null;this.xo=0;this.Ua=
null;this.key=0;this.object=null;this.index=0;this.Uh=this.xf=this.Uh=this.xf=this.No=this.Ze=this.Vh=null;this.Hc=!1;var b,e,f;switch(c[0]){case 0:case 7:this.ld=new ac(this,c[1]);this.Wd=0;this.get=this.Iv;break;case 1:this.ld=new ac(this,c[1]);this.Wd=0;this.get=this.Jv;break;case 5:this.ld=new ac(this,c[1]);this.Wd=0;this.get=this.Nv;break;case 3:case 8:this.xo=c[1];this.get=this.Gv;break;case 6:this.Ua=this.b.Zl[c[1]];this.get=this.Ov;break;case 9:this.key=c[1];this.get=this.Mv;break;case 4:this.object=
this.b.p[c[1]];this.get=this.Pv;this.hc.Zn(this.object);this.yc instanceof Yb?this.hc.Pj():this.hc.parent&&this.hc.parent.Pj();break;case 10:this.index=c[1];a.type&&a.type.G?(this.get=this.Kv,this.Hc=!0):this.get=this.Lv;break;case 11:this.Vh=c[1];this.Ze=null;this.get=this.Hv;break;case 2:case 12:this.No=c[1];this.get=this.Fv;break;case 13:for(this.get=this.Qv,this.xf=[],this.Uh=[],b=1,e=c.length;b<e;b++)f=new Zb(this.yc,c[b]),this.xf.push(f),this.Uh.push(0)}}function c(a,c,b){this.sheet=a;this.parent=
c;this.b=a.b;this.ta=[];this.name=b[1];this.yl=b[3];this.bh=!!b[4];this.Ui=!!b[5];this.R=b[6];this.b.rg[this.R.toString()]=this;this.data=this.yl;this.parent?(this.of=this.bh||this.Ui?-1:this.b.Dx++,this.b.Et.push(this)):(this.of=-1,this.b.Dt.push(this))}function g(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.ta=[];this.Vg=null;this.Xv=b[1];this.gc=!0}function k(){this.Vq=[];this.reset(null)}var p=[];h.prototype.toString=function(){return this.name};h.prototype.jp=function(a,c,b){switch(a[0]){case 0:a=
new bc(this,c,a);if(a.xc)for(b.push(a),b=0,c=a.Sa.length;b<c;b++)a.Sa[b].trigger&&this.kp(a,b);else a.rp()?this.kp(a,0):b.push(a);break;case 1:a=new Tb(this,c,a);b.push(a);break;case 2:a=new cc(this,c,a),b.push(a)}};h.prototype.Ia=function(){var a,c;a=0;for(c=this.oe.length;a<c;a++)this.oe[a].Ia(a<c-1&&this.oe[a+1].Wi)};h.prototype.pn=function(){H(this.Sk);H(this.vk);this.Yn(this);H(this.vk)};h.prototype.Yn=function(a){var c,b,e,f,g=a.Sk,k=a.vk,d=this.gp.qc();c=0;for(b=d.length;c<b;++c)e=d[c],f=e.Vg,
!e.gc||a===f||-1<k.indexOf(f)||(k.push(f),f.Yn(a),g.push(f))};h.prototype.Na=function(a){this.b.ez||(this.tl=!0,a||(this.b.Ll=!0));var c,b;c=0;for(b=this.oe.length;c<b;c++){var e=this.oe[c];e.Na();this.b.Ik(e.ta);this.b.te&&this.b.mb()}a||(this.b.Ll=!1)};h.prototype.kp=function(a,c){a.xc||this.b.ek.push(a);var b,e,f=a.Sa[c],g;f.type?g=f.type.name:g="system";var k=(b=f.Ko)?this.Lo:this.er;k[g]||(k[g]=[]);g=k[g];k=f.ib;if(b){if(f.W.length&&(f=f.W[0],1===f.type&&2===f.ld.type)){f=f.ld.value.toLowerCase();
b=0;for(e=g.length;b<e;b++)if(g[b].method==k){b=g[b].Jg;b[f]?b[f].push([a,c]):b[f]=[[a,c]];return}b={};b[f]=[[a,c]];g.push({method:k,Jg:b})}}else{b=0;for(e=g.length;b<e;b++)if(g[b].method==k){g[b].Jg.push([a,c]);return}U&&k===U.prototype.g.Gf?g.unshift({method:k,Jg:[[a,c]]}):g.push({method:k,Jg:[[a,c]]})}};Jb=h;t.prototype.Ni=function(){return this.da?this.type.e.length:this.e.length};t.prototype.Yb=function(){return this.da?this.type.e:this.e};t.prototype.Ah=function(a){a&&(a.b.jb().hb.xc?(this.da&&
(H(this.e),Ga(this.Y,a.type.e),this.da=!1),a=this.Y.indexOf(a),-1!==a&&(this.e.push(this.Y[a]),this.Y.splice(a,1))):(this.da=!1,H(this.e),this.e[0]=a))};qb=t;window._c2hh_="06E7A5C65FC50E288A0F9EB0DCAC64DA2151783F";v.prototype.Ia=function(a){var c,b=this.parent;if(this.group)for(this.ck=!0;b;){if(!b.group){this.ck=!1;break}b=b.parent}this.gn=!this.rp()&&(!this.parent||this.parent.group&&this.parent.ck);this.ep=!!a;this.Ne=this.ta.slice(0);for(b=this.parent;b;){a=0;for(c=b.ta.length;a<c;a++)this.Ct(b.ta[a]);
b=b.parent}this.ta=m(this.ta);this.Ne=m(this.Ne);a=0;for(c=this.Sa.length;a<c;a++)this.Sa[a].Ia();a=0;for(c=this.Kc.length;a<c;a++)this.Kc[a].Ia();a=0;for(c=this.Ec.length;a<c;a++)this.Ec[a].Ia(a<c-1&&this.Ec[a+1].Wi)};v.prototype.Oj=function(a){if(this.bf!==!!a){this.bf=!!a;var c;a=0;for(c=this.oi.length;a<c;++a)this.oi[a].kr();0<c&&this.b.ga.Ye&&this.b.ga.Ye.pn()}};v.prototype.Zn=function(a){r(a,this.ta)};v.prototype.Ct=function(a){r(a,this.Ne)};v.prototype.Pj=function(){this.Tm=!0;this.parent&&
this.parent.Pj()};v.prototype.rp=function(){return this.Sa.length?this.Sa[0].trigger:!1};v.prototype.Na=function(){var a,c,b=!1,e=this.b,f=this.b.jb();f.hb=this;var g=this.Sa;this.Wi||(f.Zk=!1);if(this.xc){0===g.length&&(b=!0);f.Ra=0;for(a=g.length;f.Ra<a;f.Ra++)c=g[f.Ra],c.trigger||(c=c.Na())&&(b=!0);(f.kf=b)&&this.Kj()}else{f.Ra=0;for(a=g.length;f.Ra<a;f.Ra++)if(c=g[f.Ra].Na(),!c){f.kf=!1;this.gn&&e.te&&e.mb();return}f.kf=!0;this.Kj()}this.Bu(f)};v.prototype.Bu=function(a){a.kf&&this.ep&&(a.Zk=
!0);this.gn&&this.b.te&&this.b.mb()};v.prototype.tx=function(a){this.b.jb().hb=this;this.Sa[a].Na()&&(this.Kj(),this.b.jb().kf=!0)};v.prototype.Kj=function(){var a=this.b.jb(),c;a.Tb=0;for(c=this.Kc.length;a.Tb<c;a.Tb++)if(this.Kc[a.Tb].Na())return;this.Eq()};v.prototype.mx=function(){var a=this.b.jb(),c;for(c=this.Kc.length;a.Tb<c;a.Tb++)if(this.Kc[a.Tb].Na())return;this.Eq()};v.prototype.Eq=function(){if(this.Ec.length){var a,c,b,e,f=this.Ec.length-1;this.b.Bj(this);if(this.Tm)for(a=0,c=this.Ec.length;a<
c;a++)b=this.Ec[a],(e=!this.ck||!this.group&&a<f)&&this.b.Aj(b.ta),b.Na(),e?this.b.tf(b.ta):this.b.Ik(b.ta);else for(a=0,c=this.Ec.length;a<c;a++)this.Ec[a].Na();this.b.yj()}};v.prototype.ux=function(){var a=this.b.jb();a.hb=this;var c=!1,b;a.Ra=0;for(b=this.Sa.length;a.Ra<b;a.Ra++)if(this.Sa[a.Ra].Na())c=!0;else if(!this.xc)return!1;return this.xc?c:!0};v.prototype.Cq=function(){this.b.Kg++;var a=this.b.jb().Ra,c=this.b.Bj(this);if(!this.xc)for(c.Ra=a+1,a=this.Sa.length;c.Ra<a;c.Ra++)if(!this.Sa[c.Ra].Na()){this.b.yj();
return}this.Kj();this.b.yj()};v.prototype.hw=function(a){var c=a.index;if(0===c)return!0;for(--c;0<=c;--c)if(this.Sa[c].type===a.type)return!1;return!0};bc=v;b.prototype.Ia=function(){var a,c,b;a=0;for(c=this.W.length;a<c;a++)b=this.W[a],b.Ia(),b.Hc&&(this.vg=!0)};b.prototype.wx=function(){return!0};b.prototype.Jm=function(){var a,c;a=0;for(c=this.W.length;a<c;a++)this.Ga[a]=this.W[a].get();return Ua(this.ib.apply(this.b.Bd,this.Ga),this.Pi)};b.prototype.vx=function(){var a,c;a=0;for(c=this.W.length;a<
c;a++)this.Ga[a]=this.W[a].get();a=this.ib.apply(this.Se?this.Se:this.type,this.Ga);this.type.fe();return a};b.prototype.Im=function(){var a,c,b,e,f,g,k,d,p=this.type,q=p.ca(),h=this.hc.xc&&!this.trigger;c=0;var r=p.Bb,m=p.G,n=p.md,t=this.Oc,v=-1<t,z=this.vg,L=this.W,x=this.Ga,y=this.Pi,F=this.ib,J;if(z)for(c=0,f=L.length;c<f;++c)g=L[c],g.Hc||(x[c]=g.get(0));else for(c=0,f=L.length;c<f;++c)x[c]=L[c].get(0);if(q.da){H(q.e);H(q.Y);J=p.e;a=0;for(e=J.length;a<e;++a){d=J[a];if(z)for(c=0,f=L.length;c<f;++c)g=
L[c],g.Hc&&(x[c]=g.get(a));v?(c=0,m&&(c=d.type.Of[n]),c=F.apply(d.K[t+c],x)):c=F.apply(d,x);(k=Ua(c,y))?q.e.push(d):h&&q.Y.push(d)}p.finish&&p.finish(!0);q.da=!1;p.fe();return q.Ni()}b=0;J=(k=h&&!this.hc.hw(this))?q.Y:q.e;var G=!1;a=0;for(e=J.length;a<e;++a){d=J[a];if(z)for(c=0,f=L.length;c<f;++c)g=L[c],g.Hc&&(x[c]=g.get(a));v?(c=0,m&&(c=d.type.Of[n]),c=F.apply(d.K[t+c],x)):c=F.apply(d,x);if(Ua(c,y))if(G=!0,k){if(q.e.push(d),r)for(c=0,f=d.siblings.length;c<f;c++)g=d.siblings[c],g.type.ca().e.push(g)}else{J[b]=
d;if(r)for(c=0,f=d.siblings.length;c<f;c++)g=d.siblings[c],g.type.ca().e[b]=g;b++}else if(k){J[b]=d;if(r)for(c=0,f=d.siblings.length;c<f;c++)g=d.siblings[c],g.type.ca().Y[b]=g;b++}else if(h&&(q.Y.push(d),r))for(c=0,f=d.siblings.length;c<f;c++)g=d.siblings[c],g.type.ca().Y.push(g)}Fa(J,b);if(r)for(m=p.Vb,a=0,e=m.length;a<e;a++)d=m[a].ca(),k?Fa(d.Y,b):Fa(d.e,b);b=G;if(k&&!G)for(a=0,e=q.e.length;a<e;a++){d=q.e[a];if(z)for(c=0,f=L.length;c<f;c++)g=L[c],g.Hc&&(x[c]=g.get(a));c=v?F.apply(d.K[t],x):F.apply(d,
x);if(Ua(c,y)){G=!0;break}}p.finish&&p.finish(b||h);return h?G:q.Ni()};Xb=b;f.prototype.Ia=function(){var a,c,b;a=0;for(c=this.W.length;a<c;a++)b=this.W[a],b.Ia(),b.Hc&&(this.vg=!0)};f.prototype.Jm=function(){var a=this.b,c,b,e=this.W,f=this.Ga;c=0;for(b=e.length;c<b;++c)f[c]=e[c].get();return this.ib.apply(a.Bd,f)};f.prototype.Im=function(){var a=this.type,c=this.Oc,b=a.md,e=this.vg,f=this.W,g=this.Ga,k=this.ib,d=a.ca().Yb(),a=a.G,p=-1<c,q,h,r,m,n,t;if(e)for(h=0,m=f.length;h<m;++h)n=f[h],n.Hc||(g[h]=
n.get(0));else for(h=0,m=f.length;h<m;++h)g[h]=f[h].get(0);q=0;for(r=d.length;q<r;++q){t=d[q];if(e)for(h=0,m=f.length;h<m;++h)n=f[h],n.Hc&&(g[h]=n.get(q));p?(h=0,a&&(h=t.type.Of[b]),k.apply(t.K[c+h],g)):k.apply(t,g)}return!1};Yb=f;var z=[],q=-1;a.prototype.Ia=function(){var a,c;if(11===this.type)this.Ze=this.b.Vo(this.Vh,this.hc.parent);else if(13===this.type)for(a=0,c=this.xf.length;a<c;a++)this.xf[a].Ia();this.ld&&this.ld.Ia()};a.prototype.xw=function(a){this.Hc||!a||a.na.Vj||(this.Hc=!0)};a.prototype.Lq=
function(){this.Hc=!0};a.prototype.Iv=function(a){this.Wd=a||0;a=e();this.ld.get(a);q--;return a.data};a.prototype.Jv=function(a){this.Wd=a||0;a=e();this.ld.get(a);q--;return w(a.data)?a.data:""};a.prototype.Pv=function(){return this.object};a.prototype.Gv=function(){return this.xo};a.prototype.Nv=function(a){this.Wd=a||0;a=e();this.ld.get(a);q--;return a.ab()?this.b.Pg(a.data):this.b.ml(a.data)};a.prototype.Ov=function(){return this.Ua};a.prototype.Mv=function(){return this.key};a.prototype.Lv=function(){return this.index};
a.prototype.Kv=function(a){a=a||0;var c=this.yc.type,b=null,b=c.ca(),e=b.Yb();if(e.length)b=e[a%e.length].type;else if(b.Y.length)b=b.Y[a%b.Y.length].type;else if(c.e.length)b=c.e[a%c.e.length].type;else return 0;return this.index+b.Ng[c.md]};a.prototype.Hv=function(){return this.Ze};a.prototype.Fv=function(){return this.No};a.prototype.Qv=function(){var a,c;a=0;for(c=this.xf.length;a<c;a++)this.Uh[a]=this.xf[a].get();return this.Uh};Zb=a;c.prototype.Ia=function(){this.ta=m(this.ta)};c.prototype.Ax=
function(a){var c=this.b.Uo();this.parent&&!this.bh&&c?(this.of>=c.length&&(c.length=this.of+1),c[this.of]=a):this.data=a};c.prototype.Ev=function(){var a=this.b.Uo();return!this.parent||this.bh||!a||this.Ui?this.data:this.of>=a.length||"undefined"===typeof a[this.of]?this.yl:a[this.of]};c.prototype.Na=function(){!this.parent||this.bh||this.Ui||this.Ax(this.yl)};Tb=c;g.prototype.toString=function(){return"include:"+this.Vg.toString()};g.prototype.Ia=function(){this.Vg=this.b.al[this.Xv];this.sheet.gp.add(this);
this.ta=m(this.ta);for(var a=this.parent;a;)a.group&&a.oi.push(this),a=a.parent;this.kr()};g.prototype.Na=function(){this.parent&&this.b.Dh(this.b.p);this.Vg.tl||this.Vg.Na(!0);this.parent&&this.b.tf(this.b.p)};g.prototype.kr=function(){for(var a=this.parent;a;){if(a.group&&!a.bf){this.gc=!1;return}a=a.parent}this.gc=!0};cc=g;k.prototype.reset=function(a){this.hb=a;this.Tb=this.Ra=0;H(this.Vq);this.Zk=this.kf=!1};k.prototype.jw=function(){return this.hb.Tm?!0:this.Ra<this.hb.Sa.length-1?!!this.hb.ta.length:
!1};Sb=k})();
(function(){function d(d,b){this.yc=d;this.b=d.b;this.type=b[0];this.get=[this.Tu,this.Pu,this.cv,this.hv,this.Eu,this.dv,this.Xu,this.Mu,this.Wu,this.bv,this.Fu,this.$u,this.Nu,this.Yu,this.Uu,this.Vu,this.Qu,this.Ru,this.Lu,this.gv,this.Zu,this.Su,this.Ku,this.Ou][this.type];var f=null;this.Sd=this.W=this.Ga=this.ib=this.bk=this.second=this.first=this.value=null;this.Oc=-1;this.Tc=null;this.qr=-1;this.Ze=this.Vh=null;this.jg=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new ac(d,b[1]);break;case 18:this.first=new ac(d,b[1]);this.second=new ac(d,b[2]);this.bk=new ac(d,b[3]);break;case 19:this.ib=this.b.ae(b[1]);this.ib!==T.prototype.T.random&&this.ib!==T.prototype.T.Pt||this.yc.Lq();this.Ga=[];this.W=[];3===b.length?(f=b[2],this.Ga.length=f.length+1):this.Ga.length=1;break;case 20:this.Sd=this.b.p[b[1]];this.Oc=-1;this.ib=this.b.ae(b[2]);this.jg=b[3];fc.Function&&this.ib===fc.Function.prototype.T.$x&&this.yc.Lq();b[4]?this.Tc=new ac(d,b[4]):this.Tc=null;this.Ga=[];
this.W=[];6===b.length?(f=b[5],this.Ga.length=f.length+1):this.Ga.length=1;break;case 21:this.Sd=this.b.p[b[1]];this.jg=b[2];b[3]?this.Tc=new ac(d,b[3]):this.Tc=null;this.qr=b[4];break;case 22:this.Sd=this.b.p[b[1]];this.Sd.Hi(b[2]);this.Oc=this.Sd.hl(b[2]);this.ib=this.b.ae(b[3]);this.jg=b[4];b[5]?this.Tc=new ac(d,b[5]):this.Tc=null;this.Ga=[];this.W=[];7===b.length?(f=b[6],this.Ga.length=f.length+1):this.Ga.length=1;break;case 23:this.Vh=b[1],this.Ze=null}this.yc.xw(this.Sd);4<=this.type&&17>=this.type&&
(this.first=new ac(d,b[1]),this.second=new ac(d,b[2]));if(f){var e,a;e=0;for(a=f.length;e<a;e++)this.W.push(new ac(d,f[e]))}}function n(){++v;t.length===v&&t.push(new $b);return t[v]}function m(d,b,f){var e,a;e=0;for(a=d.length;e<a;++e)d[e].get(f),b[e+1]=f.data}function h(d,b){this.type=d||dc.Ef;this.data=b||0;this.rf=null;this.type==dc.Ef&&(this.data=Math.floor(this.data))}d.prototype.Ia=function(){23===this.type&&(this.Ze=this.yc.b.Vo(this.Vh,this.yc.hc.parent));this.first&&this.first.Ia();this.second&&
this.second.Ia();this.bk&&this.bk.Ia();this.Tc&&this.Tc.Ia();if(this.W){var d,b;d=0;for(b=this.W.length;d<b;d++)this.W[d].Ia()}};var t=[],v=-1;d.prototype.gv=function(d){var b=this.W,f=this.Ga;f[0]=d;d=n();m(b,f,d);--v;this.ib.apply(this.b.Bd,f)};d.prototype.Zu=function(d){var b=this.Sd,f=this.Ga,e=this.W,a=this.Tc,c=this.ib,g=this.yc.Wd,k=b.ca(),p=k.Yb();if(!p.length)if(k.Y.length)p=k.Y;else{this.jg?d.tb(""):d.oa(0);return}f[0]=d;d.rf=b;d=n();m(e,f,d);a&&(a.get(d),d.ab()&&(g=d.data,p=b.e));--v;b=
p.length;if(g>=b||g<=-b)g%=b;0>g&&(g+=b);c.apply(p[g],f)};d.prototype.Ku=function(d){var b=this.Sd,f=this.Ga,e=this.W,a=this.Tc,c=this.Oc,g=this.ib,k=this.yc.Wd,p=b.ca(),h=p.Yb();if(!h.length)if(p.Y.length)h=p.Y;else{this.jg?d.tb(""):d.oa(0);return}f[0]=d;d.rf=b;d=n();m(e,f,d);a&&(a.get(d),d.ab()&&(k=d.data,h=b.e));--v;e=h.length;if(k>=e||k<=-e)k%=e;0>k&&(k+=e);k=h[k];h=0;b.G&&(h=k.type.Of[b.md]);g.apply(k.K[c+h],f)};d.prototype.Su=function(d){var b=this.Tc,f=this.Sd,e=this.qr,a=this.yc.Wd,c=f.ca(),
g=c.Yb();if(!g.length)if(c.Y.length)g=c.Y;else{this.jg?d.tb(""):d.oa(0);return}if(b){c=n();b.get(c);if(c.ab()){a=c.data;g=f.e;0!==g.length&&(a%=g.length,0>a&&(a+=g.length));a=f.ll(a);f=a.qa[e];w(f)?d.tb(f):d.C(f);--v;return}--v}b=g.length;if(a>=b||a<=-b)a%=b;0>a&&(a+=b);a=g[a];g=0;f.G&&(g=a.type.Ng[f.md]);f=a.qa[e+g];w(f)?d.tb(f):d.C(f)};d.prototype.Tu=function(d){d.type=dc.Ef;d.data=this.value};d.prototype.Pu=function(d){d.type=dc.Df;d.data=this.value};d.prototype.cv=function(d){d.type=dc.String;
d.data=this.value};d.prototype.hv=function(d){this.first.get(d);d.ab()&&(d.data=-d.data)};d.prototype.Eu=function(d){this.first.get(d);var b=n();this.second.get(b);d.ab()&&b.ab()&&(d.data+=b.data,b.Vf()&&d.eg());--v};d.prototype.dv=function(d){this.first.get(d);var b=n();this.second.get(b);d.ab()&&b.ab()&&(d.data-=b.data,b.Vf()&&d.eg());--v};d.prototype.Xu=function(d){this.first.get(d);var b=n();this.second.get(b);d.ab()&&b.ab()&&(d.data*=b.data,b.Vf()&&d.eg());--v};d.prototype.Mu=function(d){this.first.get(d);
var b=n();this.second.get(b);d.ab()&&b.ab()&&(d.data/=b.data,d.eg());--v};d.prototype.Wu=function(d){this.first.get(d);var b=n();this.second.get(b);d.ab()&&b.ab()&&(d.data%=b.data,b.Vf()&&d.eg());--v};d.prototype.bv=function(d){this.first.get(d);var b=n();this.second.get(b);d.ab()&&b.ab()&&(d.data=Math.pow(d.data,b.data),b.Vf()&&d.eg());--v};d.prototype.Fu=function(d){this.first.get(d);var b=n();this.second.get(b);b.Xf()||d.Xf()?this.Hu(d,b):this.Gu(d,b);--v};d.prototype.Hu=function(d,b){d.Xf()&&
b.Xf()?this.Ju(d,b):this.Iu(d,b)};d.prototype.Ju=function(d,b){d.data+=b.data};d.prototype.Iu=function(d,b){d.Xf()?d.data+=(Math.round(1E10*b.data)/1E10).toString():d.tb(d.data.toString()+b.data)};d.prototype.Gu=function(d,b){d.oa(d.data&&b.data?1:0)};d.prototype.$u=function(d){this.first.get(d);var b=n();this.second.get(b);d.ab()&&b.ab()&&(d.data||b.data?d.oa(1):d.oa(0));--v};d.prototype.Lu=function(d){this.first.get(d);d.data?this.second.get(d):this.bk.get(d)};d.prototype.Nu=function(d){this.first.get(d);
var b=n();this.second.get(b);d.oa(d.data===b.data?1:0);--v};d.prototype.Yu=function(d){this.first.get(d);var b=n();this.second.get(b);d.oa(d.data!==b.data?1:0);--v};d.prototype.Uu=function(d){this.first.get(d);var b=n();this.second.get(b);d.oa(d.data<b.data?1:0);--v};d.prototype.Vu=function(d){this.first.get(d);var b=n();this.second.get(b);d.oa(d.data<=b.data?1:0);--v};d.prototype.Qu=function(d){this.first.get(d);var b=n();this.second.get(b);d.oa(d.data>b.data?1:0);--v};d.prototype.Ru=function(d){this.first.get(d);
var b=n();this.second.get(b);d.oa(d.data>=b.data?1:0);--v};d.prototype.Ou=function(d){var b=this.Ze.Ev();ha(b)?d.C(b):d.tb(b)};ac=d;h.prototype.Vf=function(){return this.type===dc.Df};h.prototype.ab=function(){return this.type===dc.Ef||this.type===dc.Df};h.prototype.Xf=function(){return this.type===dc.String};h.prototype.eg=function(){this.Vf()||(this.Xf()&&(this.data=parseFloat(this.data)),this.type=dc.Df)};h.prototype.oa=function(d){this.type=dc.Ef;this.data=Math.floor(d)};h.prototype.C=function(d){this.type=
dc.Df;this.data=d};h.prototype.tb=function(d){this.type=dc.String;this.data=d};h.prototype.Bx=function(d){ha(d)?(this.type=dc.Df,this.data=d):w(d)?(this.type=dc.String,this.data=d.toString()):(this.type=dc.Ef,this.data=0)};$b=h;dc={Ef:0,Df:1,String:2}})();function T(d){this.b=d;this.Rb=[]}
T.prototype.Oa=function(){var d={},n,m,h,t,v,r,b,f;d.waits=[];var e=d.waits,a;n=0;for(m=this.Rb.length;n<m;n++){r=this.Rb[n];a={t:r.time,st:r.Sq,s:r.Sm,ev:r.Mf.R,sm:[],sols:{}};r.Mf.Kc[r.Tb]&&(a.act=r.Mf.Kc[r.Tb].R);h=0;for(t=r.ta.length;h<t;h++)a.sm.push(r.ta[h].R);for(v in r.Cb)if(r.Cb.hasOwnProperty(v)){b=this.b.p[parseInt(v,10)];f={sa:r.Cb[v].Lj,insts:[]};h=0;for(t=r.Cb[v].Nd.length;h<t;h++)f.insts.push(r.Cb[v].Nd[h].uid);a.sols[b.R.toString()]=f}e.push(a)}return d};
T.prototype.bb=function(d){d=d.waits;var n,m,h,t,v,r,b,f,e,a,c;H(this.Rb);n=0;for(m=d.length;n<m;n++)if(r=d[n],f=this.b.jo[r.ev.toString()]){e=-1;h=0;for(t=f.Kc.length;h<t;h++)if(f.Kc[h].R===r.act){e=h;break}if(-1!==e){b={Cb:{},ta:[],Vk:!1};b.time=r.t;b.Sq=r.st||"";b.Sm=!!r.s;b.Mf=f;b.Tb=e;h=0;for(t=r.sm.length;h<t;h++)(f=this.b.$e(r.sm[h]))&&b.ta.push(f);for(v in r.sols)if(r.sols.hasOwnProperty(v)&&(f=this.b.$e(parseInt(v,10)))){e=r.sols[v];a={Lj:e.sa,Nd:[]};h=0;for(t=e.insts.length;h<t;h++)(c=this.b.nl(e.insts[h]))&&
a.Nd.push(c);b.Cb[f.index.toString()]=a}this.Rb.push(b)}}};
(function(){function d(){}function n(){}function m(){}var h=T.prototype;d.prototype.En=function(){return!0};d.prototype.us=function(){return!0};d.prototype.Cr=function(b,e,a){return ec(b,e,a)};var t=[],v=-1;d.prototype.Hr=function(b){var e=b.ca();v++;t.length===v&&t.push([]);var a=t[v];Ga(a,e.Yb());var c=this.b.jb(),g=c.hb,k=c.jw(),c=this.b.hx(),d,h,q,l,u,m,n=b.Bb;if(k)for(k=0,d=a.length;k<d&&!c.Xm;k++){this.b.Aj(g.ta);l=a[k];e=b.ca();e.da=!1;H(e.e);e.e[0]=l;if(n)for(h=0,q=l.siblings.length;h<q;h++)u=
l.siblings[h],m=u.type.ca(),m.da=!1,H(m.e),m.e[0]=u;c.index=k;g.Cq();this.b.tf(g.ta)}else for(e.da=!1,H(e.e),k=0,d=a.length;k<d&&!c.Xm;k++){l=a[k];e.e[0]=l;if(n)for(h=0,q=l.siblings.length;h<q;h++)u=l.siblings[h],m=u.type.ca(),m.da=!1,H(m.e),m.e[0]=u;c.index=k;g.Cq()}H(a);this.b.Tw();v--;return!1};d.prototype.ot=function(){var b=this.b.Ji().I;"undefined"===typeof b.TriggerOnce_lastTick&&(b.TriggerOnce_lastTick=-1);var e=b.TriggerOnce_lastTick,a=this.b.Gc;b.TriggerOnce_lastTick=a;return this.b.Yl||
e!==a-1};d.prototype.Or=function(b){return(b=this.b.Tf[b.toLowerCase()])&&b.bf};d.prototype.xn=function(){var b=this.b.jb();return b.Zk?!1:!b.kf};d.prototype.Fn=function(){return!0};d.prototype.es=function(){return!0};d.prototype.pk=function(){return!0};d.prototype.Ln=function(){return!0};d.prototype.vs=function(){return!0};d.prototype.$h=function(){return!0};d.prototype.tr=function(b,e,a){return Ra(Q(b),Q(a))<=Q(e)};d.prototype.Mr=function(b,e){return Ta(Q(b),Q(e))};d.prototype.Kr=function(b,e,a){b=
Pa(b);e=Pa(e);a=Pa(a);return Ta(a,e)?Ta(b,e)&&!Ta(b,a):!(!Ta(b,e)&&Ta(b,a))};h.g=new d;n.prototype.Fr=function(b,e,a,c){if(e&&b&&(e=this.b.Nk(b,e,a,c))){this.b.Vc++;var g;this.b.trigger(Object.getPrototypeOf(b.na).g.Ff,e);if(e.Bb)for(a=0,c=e.siblings.length;a<c;a++)g=e.siblings[a],this.b.trigger(Object.getPrototypeOf(g.type.na).g.Ff,g);this.b.Vc--;b=b.ca();b.da=!1;H(b.e);b.e[0]=e;if(e.Bb)for(a=0,c=e.siblings.length;a<c;a++)g=e.siblings[a],b=g.type.ca(),b.da=!1,H(b.e),b.e[0]=g}};n.prototype.Xs=function(b,
e){b&&(e=Ka(e/100,0,1),b.opacity!==e&&(b.opacity=e,this.b.Z=!0))};n.prototype.Us=function(b,e){var a=this.b.Tf[b.toLowerCase()];if(a)switch(e){case 0:a.Oj(!1);break;case 1:a.Oj(!0);break;case 2:a.Oj(!a.bf)}};var r=[],b=[];n.prototype.qt=function(f){if(!(0>f)){var e,a,c,g=this.b.jb(),k;r.length?k=r.pop():k={Cb:{},ta:[]};k.Vk=!1;k.time=this.b.$b.X+f;k.Sq="";k.Sm=!1;k.Mf=g.hb;k.Tb=g.Tb+1;f=0;for(e=this.b.p.length;f<e;f++)c=this.b.p[f],a=c.ca(),a.da&&-1===g.hb.ta.indexOf(c)||(k.ta.push(c),c=void 0,b.length?
c=b.pop():c={Nd:[]},c.Lj=!1,c.Lj=a.da,Ga(c.Nd,a.e),k.Cb[f.toString()]=c);this.Rb.push(k);return!0}};h.A=new n;m.prototype["int"]=function(b,e){w(e)?(b.oa(parseInt(e,10)),isNaN(b.data)&&(b.data=0)):b.oa(e)};m.prototype["float"]=function(b,e){w(e)?(b.C(parseFloat(e)),isNaN(b.data)&&(b.data=0)):b.C(e)};m.prototype.random=function(b,e,a){void 0===a?b.C(Math.random()*e):b.C(Math.random()*(a-e)+e)};m.prototype.sqrt=function(b,e){b.C(Math.sqrt(e))};m.prototype.abs=function(b,e){b.C(Math.abs(e))};m.prototype.round=
function(b,e){b.oa(Math.round(e))};m.prototype.floor=function(b,e){b.oa(Math.floor(e))};m.prototype.ceil=function(b,e){b.oa(Math.ceil(e))};m.prototype.sin=function(b,e){b.C(Math.sin(Q(e)))};m.prototype.cos=function(b,e){b.C(Math.cos(Q(e)))};m.prototype.tan=function(b,e){b.C(Math.tan(Q(e)))};m.prototype.asin=function(b,e){b.C(La(Math.asin(e)))};m.prototype.acos=function(b,e){b.C(La(Math.acos(e)))};m.prototype.atan=function(b,e){b.C(La(Math.atan(e)))};m.prototype.exp=function(b,e){b.C(Math.exp(e))};
m.prototype.log10=function(b,e){b.C(Math.log(e)/Math.LN10)};m.prototype.max=function(b){var e=arguments[1];"number"!==typeof e&&(e=0);var a,c,g;a=2;for(c=arguments.length;a<c;a++)g=arguments[a],"number"===typeof g&&e<g&&(e=g);b.C(e)};m.prototype.min=function(b){var e=arguments[1];"number"!==typeof e&&(e=0);var a,c,g;a=2;for(c=arguments.length;a<c;a++)g=arguments[a],"number"===typeof g&&e>g&&(e=g);b.C(e)};m.prototype.Lf=function(b){b.C(this.b.Lf)};m.prototype.ng=function(b){b.C(this.b.ng)};m.prototype.time=
function(b){b.C(this.b.$b.X)};m.prototype.Gc=function(b){b.oa(this.b.Gc)};m.prototype.qj=function(b){b.oa(this.b.qj)};m.prototype.fl=function(b){b.oa(this.b.fl)};m.prototype.$t=function(b,e,a,c,g){b.C(R(e,a,c,g))};m.prototype.j=function(b,e,a,c,g){b.C(La(Qa(e,a,c,g)))};m.prototype.Bw=function(b){b.tb("\n")};m.prototype.left=function(b,e,a){b.tb(w(e)?e.substr(0,a):"")};m.prototype.right=function(b,e,a){b.tb(w(e)?e.substr(e.length-a):"")};m.prototype.replace=function(b,e,a,c){w(e)&&w(a)&&w(c)?b.tb(e.replace(new RegExp(fb(a),
"gi"),c)):b.tb(w(e)?e:"")};m.prototype.trim=function(b,e){b.tb(w(e)?e.trim():"")};m.prototype.Pt=function(b){var e=E(Math.random()*(arguments.length-1));b.Bx(arguments[e+1])};m.prototype.nx=function(b,e,a,c){b.oa(va(e,a,c))};m.prototype.Lk=function(b){b.C(this.b.Lk/1E3)};m.prototype.hj=function(b){b.C(this.b.hj)};m.prototype.Zv=function(b){b.C(Infinity)};m.prototype.Cx=function(b,e,a,c){a=a|0;b.oa((e|0)&~(1<<a)|(0!==c?1:0)<<a)};m.prototype.Rv=function(b,e,a){b.oa((e|0)&1<<(a|0)?1:0)};h.T=new m;h.qx=
function(){var f,e,a,c,g,k,d=this.b.jb();f=0;for(a=this.Rb.length;f<a;f++){c=this.Rb[f];if(-1===c.time){if(!c.Sm)continue}else if(c.time>this.b.$b.X)continue;d.hb=c.Mf;d.Tb=c.Tb;d.Ra=0;for(e in c.Cb)c.Cb.hasOwnProperty(e)&&(g=this.b.p[parseInt(e,10)].ca(),k=c.Cb[e],g.da=k.Lj,Ga(g.e,k.Nd),g=k,H(g.Nd),b.push(g));c.Mf.mx();this.b.Ik(c.ta);c.Vk=!0}e=f=0;for(a=this.Rb.length;f<a;f++)c=this.Rb[f],this.Rb[e]=c,c.Vk?(Ya(c.Cb),H(c.ta),r.push(c)):e++;Fa(this.Rb,e)}})();
(function(){pb=function(d,m){var h=d[1],t=d[3],v=d[4],r=d[5],b=d[6],f=d[7],e=d[8];m.g||(m.g={});m.A||(m.A={});m.T||(m.T={});var a=m.g,c=m.A,g=m.T;t&&(a.cy=function(a,c){return ec(this.x,a,c)},a.ey=function(a,c){return ec(this.y,a,c)},a.iy=function(){var a=this.k;this.U();var c=this.N;return!(c.right<a.ia||c.bottom<a.ja||c.left>a.ma||c.top>a.la)},a.jy=function(){this.U();var a=this.N,c=this.b.ga;return 0>a.right||0>a.bottom||a.left>c.width||a.top>c.height},a.wy=function(a,c,b){var e=this.ca(),g=e.Yb();
if(!g.length)return!1;var f=g[0],d=f,h=R(f.x,f.y,c,b),m,n,t;m=1;for(n=g.length;m<n;m++)if(f=g[m],t=R(f.x,f.y,c,b),0===a&&t<h||1===a&&t>h)h=t,d=f;e.Ah(d);return!0},c.Jy=function(a){this.x!==a&&(this.x=a,this.H())},c.Ky=function(a){this.y!==a&&(this.y=a,this.H())},c.$s=function(a,c){if(this.x!==a||this.y!==c)this.x=a,this.y=c,this.H()},c.Tn=function(a,c){var b=a.zv(this);if(b){var e;b.kl?(e=b.kl(c,!0),b=b.kl(c,!1)):(e=b.x,b=b.y);if(this.x!==e||this.y!==b)this.x=e,this.y=b,this.H()}},c.ny=function(a){0!==
a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.H())},c.Wr=function(a,c){0!==c&&(this.x+=Math.cos(Q(a))*c,this.y+=Math.sin(Q(a))*c,this.H())},g.sk=function(a){a.C(this.x)},g.tk=function(a){a.C(this.y)},g.Lf=function(a){a.C(this.b.Qf(this))});v&&(a.by=function(a,c){return ec(this.width,a,c)},a.Dr=function(a,c){return ec(this.height,a,c)},c.ft=function(a){this.width!==a&&(this.width=a,this.H())},c.Vs=function(a){this.height!==a&&(this.height=a,this.H())},c.Iy=function(a,c){if(this.width!==
a||this.height!==c)this.width=a,this.height=c,this.H()},g.Oy=function(a){a.C(this.width)},g.Jr=function(a){a.C(this.height)},g.Xx=function(a){this.U();a.C(this.N.left)},g.Zx=function(a){this.U();a.C(this.N.top)},g.Yx=function(a){this.U();a.C(this.N.right)},g.Wx=function(a){this.U();a.C(this.N.bottom)});r&&(a.tr=function(a,c){return Ra(this.j,Q(c))<=Q(a)},a.Mr=function(a){return Ta(this.j,Q(a))},a.Kr=function(a,c){var b=Pa(a),e=Pa(c),g=Na(this.j);return Ta(e,b)?Ta(g,b)&&!Ta(g,e):!(!Ta(g,b)&&Ta(g,e))},
c.Ey=function(a){a=Q(Ma(a));isNaN(a)||this.j===a||(this.j=a,this.H())},c.Ay=function(a){0===a||isNaN(a)||(this.j+=Q(a),this.j=Na(this.j),this.H())},c.By=function(a){0===a||isNaN(a)||(this.j-=Q(a),this.j=Na(this.j),this.H())},c.Cy=function(a,c){var b=Sa(this.j,Q(c),Q(a));isNaN(b)||this.j===b||(this.j=b,this.H())},c.Dy=function(a,c,b){a=Sa(this.j,Math.atan2(b-this.y,c-this.x),Q(a));isNaN(a)||this.j===a||(this.j=a,this.H())},c.bt=function(a,c){var b=Math.atan2(c-this.y,a-this.x);isNaN(b)||this.j===b||
(this.j=b,this.H())},g.Vx=function(a){a.C(Oa(this.j))});h||(a.Er=function(a,c,b){return ec(this.qa[a],c,b)},a.Lr=function(a){return this.qa[a]},a.xy=function(a,c){var b=this.ca(),e=b.Yb();if(!e.length)return!1;var g=e[0],f=g,d=g.qa[c],h,m,n;h=1;for(m=e.length;h<m;h++)if(g=e[h],n=g.qa[c],0===a&&n<d||1===a&&n>d)d=n,f=g;b.Ah(f);return!0},a.vy=function(a){var c,b,e,g,f;if(this.b.Ji().Pi){f=this.ca();if(f.da)for(f.da=!1,H(f.e),H(f.Y),e=this.e,c=0,b=e.length;c<b;c++)g=e[c],g.uid===a?f.Y.push(g):f.e.push(g);
else{e=c=0;for(b=f.e.length;c<b;c++)g=f.e[c],f.e[e]=g,g.uid===a?f.Y.push(g):e++;Fa(f.e,e)}this.fe();return!!f.e.length}g=this.b.nl(a);if(!g)return!1;f=this.ca();if(!f.da&&-1===f.e.indexOf(g))return!1;if(this.G)for(a=g.type.ya,c=0,b=a.length;c<b;c++){if(a[c]===this)return f.Ah(g),this.fe(),!0}else if(g.type===this)return f.Ah(g),this.fe(),!0;return!1},a.Ff=function(){return!0},a.hs=function(){return!0},c.Ws=function(a,c){var b=this.qa;ha(b[a])?b[a]=ha(c)?c:parseFloat(c):w(b[a])&&(b[a]=w(c)?c:c.toString())},
c.Ux=function(a,c){var b=this.qa;ha(b[a])?b[a]=ha(c)?b[a]+c:b[a]+parseFloat(c):w(b[a])&&(b[a]=w(c)?b[a]+c:b[a]+c.toString())},c.Ly=function(a,c){var b=this.qa;ha(b[a])&&(b[a]=ha(c)?b[a]-c:b[a]-parseFloat(c))},c.Ss=function(a,c){this.qa[a]=c?1:0},c.My=function(a){this.qa[a]=1-this.qa[a]},c.Gr=function(){this.b.Jc(this)},c.Ur||(c.Ur=function(a){var c,b;try{c=JSON.parse(a)}catch(e){return}this.b.fj(this,c,!0);this.Ed&&this.Ed();if(this.K)for(a=0,c=this.K.length;a<c;++a)b=this.K[a],b.Ed&&b.Ed()}),g.fy=
function(a){var c=a.rf.e.length,b,e,g;b=0;for(e=this.b.Rc.length;b<e;b++)g=this.b.Rc[b],a.rf.G?0<=g.type.ya.indexOf(a.rf)&&c++:g.type===a.rf&&c++;a.oa(c)},g.zy=function(a){a.oa(a.rf.ca().Yb().length)},g.Ny=function(a){a.oa(this.uid)},g.gy=function(a){a.oa(this.Rg())},g.xr||(g.xr=function(a){a.tb(JSON.stringify(this.b.Km(this,!0)))}));b&&(a.ky=function(){return this.visible},c.Un=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.Z=!0)},a.ay=function(a,c){return ec(lb(100*this.opacity),a,c)},
c.Hy=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.Z=!0)},g.Opacity=function(a){a.C(lb(100*this.opacity))});f&&(a.hy=function(a){return a?this.k===a:!1},a.yy=function(a){var c=this.ca(),b=c.Yb();if(!b.length)return!1;var e=b[0],g=e,f,d;f=1;for(d=b.length;f<d;f++)if(e=b[f],0===a){if(e.k.index>g.k.index||e.k.index===g.k.index&&e.nd()>g.nd())g=e}else if(e.k.index<g.k.index||e.k.index===g.k.index&&e.nd()<g.nd())g=e;c.Ah(g);return!0},c.Xr=function(){var a=this.k,c=a.e;
c.length&&c[c.length-1]===this||(a.ig(this,!1),a.xg(this,!1),this.b.Z=!0)},c.oy=function(){var a=this.k,c=a.e;c.length&&c[0]===this||(a.ig(this,!1),a.Yw(this),this.b.Z=!0)},c.qy=function(a){a&&a!=this.k&&(this.k.ig(this,!0),this.k=a,a.xg(this,!0),this.b.Z=!0)},c.xt=function(a,c){var b=0===a;if(c){var e=c.Wo(this);e&&e.uid!==this.uid&&(this.k.index!==e.k.index&&(this.k.ig(this,!0),this.k=e.k,e.k.xg(this,!0)),this.k.yw(this,e,b),this.b.Z=!0)}},g.my=function(a){a.oa(this.k.dq)},g.ly=function(a){a.tb(this.k.name)},
g.Py=function(a){a.oa(this.nd())});e&&(c.Fy=function(a,c){if(this.b.n){var b=this.type.jl(c);if(!(0>b)){var e=1===a;this.be[b]!==e&&(this.be[b]=e,this.cd(),this.b.Z=!0)}}},c.Gy=function(a,c,b){if(this.b.n){var e=this.type.jl(a);0>e||(a=this.type.O[e],e=this.Ea[e],c=Math.floor(c),0>c||c>=e.length||(1===this.b.n.Dv(a.Pa,c)&&(b/=100),e[c]!==b&&(e[c]=b,a.gc&&(this.b.Z=!0))))}})};Kb=function(){this.Dk=this.yk=!0;this.type.ai=!0;this.b.Z=!0;var d,m,h=this.zk;d=0;for(m=h.length;d<m;++d)h[d](this);this.k.pc&&
this.U()};Lb=function(d){d&&this.zk.push(d)};Nb=function(){if(this.yk){var d=this.N,m=this.Qa;d.set(this.x,this.y,this.x+this.width,this.y+this.height);d.offset(-this.Ib*this.width,-this.Jb*this.height);this.j?(d.offset(-this.x,-this.y),m.Nq(d,this.j),m.offset(this.x,this.y),m.ko(d)):m.Ad(d);d.normalize();this.yk=!1;this.Ox()}};var d=new ta(0,0,0,0);Ob=function(){if(this.k.pc){var n=this.k.lb,m=this.N;d.set(n.Db(m.left),n.Eb(m.top),n.Db(m.right),n.Eb(m.bottom));this.Nb.Ig(d)||(this.Nb.right<this.Nb.left?
n.update(this,null,d):n.update(this,this.Nb,d),this.Nb.Cg(d),this.k.ad=!0)}};Pb=function(){if(this.Dk&&this.Qc){this.U();var n=this.type.ni,m=this.N;d.set(n.Db(m.left),n.Eb(m.top),n.Db(m.right),n.Eb(m.bottom));this.ie.Ig(d)||(this.ie.right<this.ie.left?n.update(this,null,d):n.update(this,this.ie,d),this.ie.Cg(d),this.Dk=!1)}};Mb=function(d,m){return this.N.Za(d,m)&&this.Qa.Za(d,m)?this.Cd?this.hz(d,m):this.D&&!this.D.od()?(this.D.jd(this.width,this.height,this.j),this.D.Za(d-this.x,m-this.y)):!0:
!1};Gb=function(){this.type.gk();return this.df};Qb=function(){this.k.rn();return this.dd};Rb=function(){H(this.ka);var d,m,h,t=!0;d=0;for(m=this.be.length;d<m;d++)this.be[d]&&(h=this.type.O[d],this.ka.push(h),h.Zc||(t=!1));this.pr=!!this.ka.length;this.Vd=t};Hb=function(){return"Inst"+this.wq};sb=function(d){if(d&&d.Bb&&d.type!=this){var m,h,t;m=0;for(h=d.siblings.length;m<h;m++)if(t=d.siblings[m],t.type==this)return t}d=this.ca().Yb();return d.length?d[0]:null};tb=function(d){var m=this.ca().Yb();
return m.length?m[d.Rg()%m.length]:null};rb=function(){if(this.mg&&!this.G){var d,m;d=0;for(m=this.e.length;d<m;d++)this.e[d].df=d;var h=d,t=this.b.Rc;d=0;for(m=t.length;d<m;++d)t[d].type===this&&(t[d].df=h++);this.mg=!1}};Eb=function(d){if(d<this.e.length)return this.e[d];d-=this.e.length;var m=this.b.Rc,h,t;h=0;for(t=m.length;h<t;++h)if(m[h].type===this){if(0===d)return m[h];--d}return null};ub=function(){return this.Xd[this.kd]};xb=function(){this.kd++;this.kd===this.Xd.length?this.Xd.push(new qb(this)):
(this.Xd[this.kd].da=!0,H(this.Xd[this.kd].Y))};yb=function(){this.kd++;this.kd===this.Xd.length&&this.Xd.push(new qb(this));var d=this.Xd[this.kd],m=this.Xd[this.kd-1];m.da?d.da=!0:(d.da=!1,Ga(d.e,m.e));H(d.Y)};zb=function(){this.kd--};Ab=function(d){var m,h,t,v,r,b=0;if(!this.G)for(m=0,h=this.ya.length;m<h;m++)for(r=this.ya[m],t=0,v=r.Ca.length;t<v;t++){if(d===r.Ca[t].name)return this.I.lastBehIndex=b,r.Ca[t];b++}m=0;for(h=this.Ca.length;m<h;m++){if(d===this.Ca[m].name)return this.I.lastBehIndex=
b,this.Ca[m];b++}return null};Bb=function(d){return this.Hi(d)?this.I.lastBehIndex:-1};Cb=function(d){var m,h;m=0;for(h=this.O.length;m<h;m++)if(this.O[m].name===d)return m;return-1};Db=function(){if(this.Bb&&!this.G){var d,m,h,t,v,r,b;this.gk();r=this.ca();var f=r.da,e=(d=this.b.jb())&&d.hb&&d.hb.xc;d=0;for(m=this.Vb.length;d<m;d++)if(v=this.Vb[d],v!==this&&(v.gk(),b=v.ca(),b.da=f,!f)){H(b.e);h=0;for(t=r.e.length;h<t;++h)b.e[h]=v.ll(r.e[h].df);if(e)for(H(b.Y),h=0,t=r.Y.length;h<t;++h)b.Y[h]=v.ll(r.Y[h].df)}}};
Fb=function(){return"Type"+this.R};ec=function(d,m,h){if("undefined"===typeof d||"undefined"===typeof h)return!1;switch(m){case 0:return d===h;case 1:return d!==h;case 2:return d<h;case 3:return d<=h;case 4:return d>h;case 5:return d>=h;default:return!1}}})();var nc={};function X(d){this.b=d}
(function(){function d(){r&&b&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(function(a){f.Kw(a)})}function n(){}function m(){}function h(c){console&&console.warn&&console.warn("Fullscreen request failed: ",c);a.setSize(window.innerWidth,window.innerHeight)}var t=X.prototype;t.ba=function(a){this.na=a;this.b=a.b};var v=t.ba.prototype;v.J=function(){};var r=!1,b=!1;document.addEventListener("DOMContentLoaded",function(){if(window.C2_RegisterSW&&navigator.serviceWorker){var a=
document.createElement("script");a.onload=function(){r=!0;d()};a.src="offlineClient.js";document.head.appendChild(a)}});var f=null;v.iq=function(){b=!0;d()};t.Q=function(a){this.type=a;this.b=a.b};v=t.Q.prototype;v.J=function(){var a=this;window.addEventListener("resize",function(){a.b.trigger(X.prototype.g.Ds,a)});f=this;"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.b.trigger(X.prototype.g.ys,a)}),window.addEventListener("offline",function(){a.b.trigger(X.prototype.g.ws,
a)}));this.b.Od||(document.addEventListener("appMobi.device.update.available",function(){a.b.trigger(X.prototype.g.rk,a)}),document.addEventListener("backbutton",function(){a.b.trigger(X.prototype.g.Zh,a)}),document.addEventListener("menubutton",function(){a.b.trigger(X.prototype.g.Gn,a)}),document.addEventListener("searchbutton",function(){a.b.trigger(X.prototype.g.Fs,a)}),document.addEventListener("tizenhwkey",function(c){var b;switch(c.keyName){case "back":b=a.b.trigger(X.prototype.g.Zh,a);!b&&
window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(b=a.b.trigger(X.prototype.g.Gn,a))||c.preventDefault()}}));this.b.Nl&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(c){a.b.trigger(X.prototype.g.Zh,a)&&(c.handled=!0)}):this.b.pp&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!a.b.trigger(X.prototype.g.Zh,a)});this.b.$n(function(c){c?a.b.trigger(X.prototype.g.zs,
a):a.b.trigger(X.prototype.g.As,a)})};v.Kw=function(a){a=a.data.type;"downloading-update"===a?this.b.trigger(X.prototype.g.Ls,this):"update-ready"===a||"update-pending"===a?this.b.trigger(X.prototype.g.rk,this):"offline-ready"===a&&this.b.trigger(X.prototype.g.xs,this)};n.prototype.ys=function(){return!0};n.prototype.ws=function(){return!0};n.prototype.rk=function(){return!0};n.prototype.As=function(){return!0};n.prototype.zs=function(){return!0};n.prototype.Ds=function(){return!0};n.prototype.Nr=
function(){return!!(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.b.ff)};n.prototype.Zh=function(){return!0};n.prototype.Gn=function(){return!0};n.prototype.Fs=function(){return!0};n.prototype.Ls=function(){return!0};n.prototype.rk=function(){return!0};n.prototype.xs=function(){return!0};t.g=new n;var e=!0,a=null;m.prototype.Ps=function(c){this.b.La?ea("[Construct 2] Requesting fullscreen is not supported on this platform - the request has been ignored"):(2<=c&&(c+=
1),6===c&&(c=2),this.b.kw?this.b.fw?debuggerFullscreen(!0):!this.b.ff&&window.nwgui&&(window.nwgui.Window.get().enterFullscreen(),this.b.ff=!0,this.b.pe=2<=c?c:0):document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||document.fullScreen||document.fullScreenElement||(this.b.pe=2<=c?c:0,c=document.documentElement,e&&(e=!1,a=this.b,c.addEventListener("mozfullscreenerror",h),c.addEventListener("webkitfullscreenerror",h),c.addEventListener("MSFullscreenError",h),c.addEventListener("fullscreenerror",
h)),c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.msRequestFullscreen?c.msRequestFullscreen():c.webkitRequestFullScreen&&("undefined"!==typeof Element&&"undefined"!==typeof Element.ALLOW_KEYBOARD_INPUT?c.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):c.webkitRequestFullScreen())))};var c="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");m.prototype.Vr=function(a){a=Math.floor(a);0>a||a>=c.length||
(this.b.io=!1,a=c[a],screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a))};t.A=new m;t.T=new function(){}})();function rc(d){this.b=d}
(function(){function d(){}var n=rc.prototype;n.ba=function(d){this.na=d;this.b=d.b};n.ba.prototype.J=function(){};n.Q=function(d){this.type=d;this.b=d.b;this.Yf=Array(256);this.Th=Array(256);this.Zd=0};var m=n.Q.prototype;m.J=function(){var d=this;this.b.La||(jQuery(document).keydown(function(h){d.pm(h)}),jQuery(document).keyup(function(h){d.qm(h)}))};var h=[32,33,34,35,36,37,38,39,40,44];m.pm=function(d){var m=!1;window!=window.top&&-1<h.indexOf(d.which)&&(d.preventDefault(),m=!0,d.stopPropagation());
if(this.Yf[d.which])this.Th[d.which]&&!m&&d.preventDefault();else{this.Yf[d.which]=!0;this.Zd=d.which;this.b.vc=!0;this.b.trigger(rc.prototype.g.as,this);var n=this.b.trigger(rc.prototype.g.rs,this),b=this.b.trigger(rc.prototype.g.ts,this);this.b.vc=!1;if(n||b)this.Th[d.which]=!0,m||d.preventDefault()}};m.qm=function(d){this.Yf[d.which]=!1;this.Zd=d.which;this.b.vc=!0;this.b.trigger(rc.prototype.g.zn,this);var h=this.b.trigger(rc.prototype.g.Dn,this),m=this.b.trigger(rc.prototype.g.Cn,this);this.b.vc=
!1;if(h||m||this.Th[d.which])this.Th[d.which]=!0,d.preventDefault()};m.sf=function(){var d;for(d=0;256>d;++d)if(this.Yf[d]){this.Yf[d]=!1;this.Zd=d;this.b.trigger(rc.prototype.g.zn,this);var h=this.b.trigger(rc.prototype.g.Dn,this),m=this.b.trigger(rc.prototype.g.Cn,this);if(h||m)this.Th[d]=!0}};m.Oa=function(){return{triggerKey:this.Zd}};m.bb=function(d){this.Zd=d.triggerKey};d.prototype.Rr=function(d){return this.Yf[d]};d.prototype.rs=function(d){return d===this.Zd};d.prototype.as=function(){return!0};
d.prototype.zn=function(){return!0};d.prototype.Dn=function(d){return d===this.Zd};d.prototype.ts=function(d){return d===this.Zd};d.prototype.Cn=function(d){return d===this.Zd};n.g=new d;n.A=new function(){};n.T=new function(){}})();function Y(d){this.b=d}
(function(){function d(a){this.i=a;this.history=[]}function n(a){this.Ew=a;this.j=this.y=this.x=this.timestamp=0;this.ye=[]}function m(a,b,e,f){a=b-a;if(0===a)return 0;b=la(a);if(b<=la(e/10)||1>b||1E3<=b)return a;var d=b/50;f&&(d=ma(d,1));f=la(e/5);10<=b&&(d=b/10,f=la(e/2));e=ma(d,f);e>b&&(e=b);return 0<a?e:-e}function h(){}function t(){}function v(){}var r=Y.prototype;r.ba=function(a){this.na=a;this.b=a.b};r.ba.prototype.J=function(){};r.Q=function(a){this.type=a;this.b=a.b};var b=r.Q.prototype,
f=!1;b.J=function(){this.q=null;(f=window.C2Multiplayer_IsSupported())&&"undefined"!==typeof window.C2Multiplayer&&(this.q=new window.C2Multiplayer);this.Aw=this.Zp=this.$p=this.zw=this.rw=this.wj=this.zh=this.Rq="";this.fk={};this.Xg={};this.ud={};this.ug=this.ox=this.pv=null;this.Oi=[];this.Bf=[];this.sd={};var a=this;f&&(this.q.onserverlist=function(){a.b.trigger(Y.prototype.g.Gs,a)},this.q.onsignallingerror=function(){a.b.trigger(Y.prototype.g.On,a)},this.q.onsignallingclose=function(){a.b.trigger(Y.prototype.g.Nn,
a);a.Rq=""},this.q.onsignallingwelcome=function(){a.b.trigger(Y.prototype.g.Mn,a)},this.q.onsignallinglogin=function(){a.b.trigger(Y.prototype.g.Qn,a)},this.q.onsignallingjoin=function(b){a.Xg={};a.ud={};a.Bf.length=0;a.Oi.length=0;a.sd={};a.b.trigger(Y.prototype.g.Pn,a);a.b.hf&&b&&a.ug.postMessage("start")},this.q.onsignallingleave=function(){a.b.trigger(Y.prototype.g.Is,a)},this.q.onsignallingkicked=function(){a.b.trigger(Y.prototype.g.Hs,a)},this.q.onbeforeclientupdate=function(){a.b.trigger(Y.prototype.g.gs,
a)},this.q.onpeeropen=function(b){a.zh=b.id;a.wj=b.alias;a.b.trigger(Y.prototype.g.Jn,a)},this.q.onpeerclose=function(b,e){a.zh=b.id;a.wj=b.alias;a.rw=e||"unknown";var f=a.So(b);if(f){var d=a.fk[f.type];d&&d.removeObjectNid(b.nid);a.b.Jc(f)}a.ud.hasOwnProperty(b.id)&&delete a.ud[b.id];a.b.trigger(Y.prototype.g.Kn,a)},this.q.onpeermessage=function(b,e){a.$p=e.t;a.Zp=e.f?e.f:b.id;a.Aw=a.q.getAliasFromId(a.Zp);a.zw=e.m;a.b.trigger(Y.prototype.g.bs,a);a.b.trigger(Y.prototype.g.Cs,a)},this.q.onsignallinginstancelist=
function(b){a.pv=b;a.b.trigger(Y.prototype.g.ns,a)},this.q.onsignallingroomlist=function(b){a.ox=b;a.b.trigger(Y.prototype.g.Es,a)},this.q.ongetobjectcount=function(a){return a.e.length},this.q.ongetobjectvalue=function(b,e,f){if(!f)return b.e[e].uid;b=b.e[e];switch(f.tag){case "x":return b.x;case "y":return b.y;case "a":return b.j;case "iv":if(f.clientvaluetag&&(e=a.Xg[b.uid])&&a.q.me!==e&&!e.wasRemoved&&e.hasClientState(f.clientvaluetag))return e.getInterpClientState(f.clientvaluetag);f=b.qa[f.userdata];
return"number"===typeof f?f:0;default:return 0}},this.q.oninstancedestroyed=function(b,e,f){var d=b.userdata;b=d.Bl;d.Rk||(d.Rk={});d.Rk[e]=f;b&&b.hasOwnProperty(e)&&((f=b[e])&&a.b.Jc(f),delete b[e])},this.b.Bt(function(b){var e,f=b.uid;a.Xg.hasOwnProperty(f)&&delete a.Xg[f];for(e in a.ud)if(a.ud.hasOwnProperty(e)&&a.ud[e]===b){delete a.ud[e];break}a.sd.hasOwnProperty(f)&&delete a.sd[f];e=a.Oi.indexOf(b);-1<e&&a.Oi.splice(e,1);e=a.Bf.indexOf(b);-1<e&&a.Bf.splice(e,1);a.q.removeObjectId(f)}),this.ug=
new Worker("waker.js"),this.ug.addEventListener("message",function(b){"tick"===b.data&&a.b.hf&&a.b.xb(!0)},!1),this.ug.postMessage(""));this.b.$n(function(b){f&&a.q.isHost()&&(b?a.ug.postMessage("start"):a.ug.postMessage("stop"))});this.b.ax(this)};b.So=function(a){a=a.id;return this.ud.hasOwnProperty(a)?this.ud[a]:null};b.iw=function(a){return 0<=this.Oi.indexOf(a)};b.$w=function(){if(f){this.q.tick(this.b.ne);this.Kx();var a,b,e;if(this.q.isInRoom()&&!this.q.isHost())for(a=0,b=this.q.registeredObjects.length;a<
b;++a)e=this.q.registeredObjects[a],this.Mx(e)}};var e=[];b.Mx=function(a){a.tick();var b=a.obj,f=a.getCount(),d=a.netvalues,h=a.userdata;h.Bl||(h.Bl={});var q=h.Bl,h=h.Rk,l=a.simTime,m,n,v,r,t,K,N,A=d.length;for(m in q)q.hasOwnProperty(m)&&(r=q[m],this.b.nl(r.uid)||delete q[m]);if(h)for(m in h)h.hasOwnProperty(m)&&h[m]<l-3E3&&delete h[m];for(m=0;m<f;++m)if(n=a.getNetInstAt(m),v=n.nid,h&&h[v]>=l-3E3)e.push(n),q.hasOwnProperty(v)&&(this.b.Jc(q[v]),delete q[v]);else{if(q.hasOwnProperty(v))r=q[v],N=
!1;else{if(r=this.q.getPeerByNid(v))this.zh=r.id,this.wj=r.alias;else{if(a.hasOverriddenNids)continue;this.wj=this.zh=""}r=this.b.Nk(b,this.b.ga.P[b.Co],-1E3,-1E3);q[v]=r;N=!0}if(n.isTimedOut(l))e.push(n),q.hasOwnProperty(v)&&delete q[v],this.b.Jc(r);else{if(this.iw(r))this.St(r,n,d,l);else for(K=0;K<A;++K)switch(v=n.getInterp(l,K),t=d[K],t.tag){case "x":r.x=v;r.H();break;case "y":r.y=v;r.H();break;case "a":r.j=v;r.H();break;case "iv":t=t.userdata;if(t>r.qa.length||"number"!==typeof r.qa[t])break;
r.qa[t]=v}N&&this.b.trigger(Object.getPrototypeOf(b.na).g.Ff,r)}}m=0;for(f=e.length;m<f;++m)a.removeNetInstance(e[m]);e.length=0};b.Kx=function(){var a=this.q.getHostInputArrivalTime(),b,e;b=0;for(e=this.Bf.length;b<e;++b)this.Lx(this.Bf[b],a)};d.prototype.Yo=function(a){if(2>this.history.length)return 0;var b=this.history[this.history.length-2],e=this.history[this.history.length-1];switch(a){case "x":return e.x-b.x;case "y":return e.y-b.y;case "a":return e.j-b.j;case "iv":return e.ye[void 0]-b.ye[void 0]}return 0};
d.prototype.Xo=function(a,b,e,f){var d,h,l,m=null,n=null;d=0;for(h=this.history.length;d<h;++d)if(l=this.history[d],l.timestamp<e)m=l;else{d+1<this.history.length&&(n=this.history[d+1]);break}if(m){d=0;switch(a){case "x":d=m.x;break;case "y":d=m.y;break;case "a":d=m.j;break;case "iv":d=m.ye[b]}if(!n)return d;h=d;switch(a){case "x":h=n.x;break;case "y":h=n.y;break;case "a":h=n.j;break;case "iv":h=n.ye[b]}return window.interpNetValue(f,d,h,Va(m.timestamp,n.timestamp,e),!1)}};d.prototype.Ht=function(a,
b,e){var f,d,h;f=0;for(d=this.history.length;f<d;++f)switch(h=this.history[f],a){case "x":h.x+=e;break;case "y":h.y+=e;break;case "a":h.j+=e;break;case "iv":h.ye[b]+=e}};var a=[];b.Lx=function(b,e){this.sd.hasOwnProperty(b.uid)||(this.sd[b.uid]=new d(b));var f=this.sd[b.uid],h;a.length?(h=a.pop(),h.Ew=f):h=new n(f);h.timestamp=e;h.x=b.x;h.y=b.y;h.j=b.j;Ga(h.ye,b.qa);for(f.history.push(h);0<f.history.length&&f.history[0].timestamp<=e-2E3;)h=f.history.shift(),h.ye.length=0,1E3>a.length&&a.push(h)};
b.St=function(a,b,e,f){if(this.sd.hasOwnProperty(a.uid)){var d=this.sd[a.uid],h,l,u,n,v,r,t,K=e.length,N=R(0,0,d.Yo("x"),d.Yo("y")),A=!!a.I.isPlatformBehavior;for(h=0;h<K;++h)if(v=e[h],r=v.tag,t=v.userdata,n=v.interp,l=b.getLatestUpdate())if(u=l.data[h],n=d.Xo(r,t,l.timestamp,n),"undefined"!==typeof n){l=0;switch(r){case "x":l=m(n,u,N,A);0!==l&&(a.x+=l,a.H());break;case "y":l=m(n,u,N,A);0!==l&&(a.y+=l,a.H());break;case "a":l=Wa(n,u,.5)-n;0!==l&&(a.j+=l,a.H());break;case "iv":u=t;if(u>a.qa.length||
"number"!==typeof a.qa[u])break;v.clientvaluetag||(a.qa[u]=b.getInterp(f,h))}0!==l&&d.Ht(r,t,l)}}};b.yu=function(){};b.td=function(){};b.Oa=function(){return{}};b.bb=function(){};h.prototype.Gs=function(){return!0};h.prototype.On=function(){return!0};h.prototype.Mn=function(){return!0};h.prototype.Nn=function(){return!0};h.prototype.Qn=function(){return!0};h.prototype.Pn=function(){return!0};h.prototype.Is=function(){return!0};h.prototype.Hs=function(){return!0};h.prototype.Jn=function(){return!0};
h.prototype.Kn=function(){return!0};h.prototype.Pr=function(){return f&&this.q.isHost()};h.prototype.Sr=function(){return f};h.prototype.Cs=function(a){return this.$p===a};h.prototype.bs=function(){return!0};h.prototype.gs=function(){return!0};h.prototype.ns=function(){return!0};h.prototype.Es=function(){return!0};r.g=new h;t.prototype.ht=function(a){f&&!this.q.isConnected()&&(this.Rq=a,this.q.signallingConnect(a))};t.prototype.it=function(a){f&&this.q.isConnected&&!this.q.isLoggedIn()&&this.q.signallingLogin(a)};
t.prototype.gt=function(a,b,e,d,h){f&&this.q.isLoggedIn()&&!this.q.isInRoom()&&this.q.signallingAutoJoinGameRoom(a,b,e,d,0===h)};b.Go=function(a,b,e,d){f&&(d=this.q.registerObject(a,a.R,d),1===b?(d.addValue(this.q.INTERP_LINEAR,e,"x"),d.addValue(this.q.INTERP_LINEAR,e,"y")):2===b?d.addValue(this.q.INTERP_ANGULAR,e,"a"):3===b&&(d.addValue(this.q.INTERP_LINEAR,e,"x"),d.addValue(this.q.INTERP_LINEAR,e,"y"),d.addValue(this.q.INTERP_ANGULAR,e,"a")),this.fk[a]=d)};t.prototype.lt=function(a,b,e,d){if(f){var h,
q;if(a.G)for(h=0,q=a.qd.length;h<q;++h)this.Go(a.qd[h],b,e,d);else this.Go(a,b,e,d)}};b.Ho=function(a,b,e,d,h){if(f&&(a=this.fk[a])){var q=this.q.INTERP_NONE;1===d?q=this.q.INTERP_LINEAR:2===d&&(q=this.q.INTERP_ANGULAR);a.addValue(q,e,"iv",b,h)}};t.prototype.mt=function(a,b,e,d,h){if(f){var q,l,m;if(a.G)for(q=0,l=a.qd.length;q<l;++q)m=a.qd[q],this.Ho(m,b+m.Ng[a.md],e,d,h);else this.Ho(a,b,e,d,h)}};t.prototype.yr=function(a,b){if(f){var e=a.Wo();if(e){var d=this.fk[a];if(d){var h=this.q.getPeerById(b);
h&&(this.q.isHost()&&(d.overrideNid(e.uid,h.nid),-1===this.Bf.indexOf(e)&&this.Bf.push(e)),this.Xg[e.uid]=h,this.ud[h.id]=e)}}}};t.prototype.Ts=function(a,b){f&&this.q.setClientState(a,b)};t.prototype.sr=function(a,b,e){f&&this.q.addClientInputValue(a,b,e)};r.A=new t;v.prototype.Yr=function(a){a.tb(f?this.q.getMyID():"")};v.prototype.Ns=function(a){a.tb(this.zh)};v.prototype.Os=function(a,b,e){f?(b=this.q.getPeerById(b),a.C(b?b.getInterpClientState(e):0)):a.C(0)};b.Ag=function(a,b,e,d){if(!f||!this.q.isHost())return 0;
var h=this.q.getPeerById(a);if(!h)return 0;var q=this.So(h);if(!q)return 0;a=0;switch(e){case "x":a=q.x;break;case "y":a=q.y;break;case "a":a=q.j}b=this.q.getPeerById(b);if(!b||b===h||this.q.me===b)return a;b=2*(b.latency+this.q.clientDelay);q=q.uid;if(!this.sd.hasOwnProperty(q))return a;d=this.sd[q].Xo(e,0,Za()-b,d);return"undefined"===typeof d?a:d};r.T=new v})();function U(d){this.b=d}
(function(){function d(){if(0===this.Qk.length){var b=document.createElement("canvas");b.width=this.width;b.height=this.height;var a=b.getContext("2d");this.lg?a.drawImage(this.aa,this.fg,this.gg,this.width,this.height,0,0,this.width,this.height):a.drawImage(this.aa,0,0,this.width,this.height);this.Qk=b.toDataURL("image/png")}return this.Qk}function n(){}function m(){}var h=U.prototype;h.ba=function(b){this.na=b;this.b=b.b};var t=h.ba.prototype;t.J=function(){if(!this.G){var b,a,c,f,k,h,m,q,l;this.Lc=
[];this.Ug=!1;b=0;for(a=this.Ub.length;b<a;b++){k=this.Ub[b];m={};m.name=k[0];m.speed=k[1];m.loop=k[2];m.Gm=k[3];m.Hm=k[4];m.qq=k[5];m.R=k[6];m.frames=[];c=0;for(f=k[7].length;c<f;c++)h=k[7][c],q={},q.$m=h[0],q.an=h[1],q.fg=h[2],q.gg=h[3],q.width=h[4],q.height=h[5],q.duration=h[6],q.Ib=h[7],q.Jb=h[8],q.wl=h[9],q.xj=h[10],q.rq=h[11],q.lg=0!==q.width,q.Qk="",q.Uy=d,l={left:0,top:0,right:1,bottom:1},q.Rm=l,q.S=null,(l=this.b.nv(h[0]))?q.aa=l:(q.aa=new Image,q.aa.Tt=h[0],q.aa.Mk=h[1],q.aa.Lt=null,this.b.un(q.aa,
h[0])),m.frames.push(q),this.Lc.push(q);this.Ub[b]=m}}};t.mr=function(){var b,a,c;b=0;for(a=this.e.length;b<a;b++)c=this.e[b],c.qi=c.fb.S};t.yh=function(){if(!this.G){var b,a,c;b=0;for(a=this.Lc.length;b<a;++b)c=this.Lc[b],c.aa.Lt=null,c.S=null;this.Ug=!1;this.mr()}};t.sj=function(){if(!this.G&&this.e.length){var b,a,c;b=0;for(a=this.Lc.length;b<a;++b)c=this.Lc[b],c.S=this.b.n.gj(c.aa,!1,this.b.wa,c.rq);this.mr()}};t.am=function(){if(!this.G&&!this.Ug&&this.b.n){var b,a,c;b=0;for(a=this.Lc.length;b<
a;++b)c=this.Lc[b],c.S=this.b.n.gj(c.aa,!1,this.b.wa,c.rq);this.Ug=!0}};t.nn=function(){if(!this.G&&!this.e.length&&this.Ug){var b,a,c;b=0;for(a=this.Lc.length;b<a;++b)c=this.Lc[b],this.b.n.deleteTexture(c.S),c.S=null;this.Ug=!1}};var v=[];t.xm=function(b){var a,c,f;H(v);a=0;for(c=this.Lc.length;a<c;++a)f=this.Lc[a].aa,-1===v.indexOf(f)&&(b.drawImage(f,0,0),v.push(f))};h.Q=function(b){this.type=b;this.b=b.b;b=this.type.Ub[0].frames[0].xj;this.ec?this.D.Ih(b):this.D=new gb(b)};var r=h.Q.prototype;
r.J=function(){this.visible=0===this.u[0];this.xl=this.Ml=!1;this.Qc=0!==this.u[3];this.ua=this.Ro(this.u[1])||this.type.Ub[0];this.F=this.u[2];0>this.F&&(this.F=0);this.F>=this.ua.frames.length&&(this.F=this.ua.frames.length-1);var b=this.ua.frames[this.F];this.D.Ih(b.xj);this.Ib=b.Ib;this.Jb=b.Jb;this.Jf=this.ua.speed;this.le=this.ua.Hm;1===this.type.Ub.length&&1===this.type.Ub[0].frames.length||0===this.Jf||(this.b.cn(this),this.Ml=!0);this.ec?this.gd.reset():this.gd=new db;this.Md=this.gd.X;this.Re=
!0;this.Fd=0;this.Qe=!0;this.mi=this.co="";this.uo=0;this.Gk=-1;this.type.am();var a,c,f,d,h,m,q,b=0;for(a=this.type.Ub.length;b<a;b++)for(d=this.type.Ub[b],c=0,f=d.frames.length;c<f;c++)h=d.frames[c],0===h.width&&(h.width=h.aa.width,h.height=h.aa.height),h.lg&&(q=h.aa,m=h.Rm,m.left=h.fg/q.width,m.top=h.gg/q.height,m.right=(h.fg+h.width)/q.width,m.bottom=(h.gg+h.height)/q.height,0===h.fg&&0===h.gg&&h.width===q.width&&h.height===q.height&&(h.lg=!1));this.fb=this.ua.frames[this.F];this.qi=this.fb.S};
r.Oa=function(){var b={a:this.ua.R,f:this.F,cas:this.Jf,fs:this.Md,ar:this.Fd,at:this.gd.X,rt:this.le};this.Re||(b.ap=this.Re);this.Qe||(b.af=this.Qe);return b};r.bb=function(b){var a=this.rv(b.a);a&&(this.ua=a);this.F=b.f;0>this.F&&(this.F=0);this.F>=this.ua.frames.length&&(this.F=this.ua.frames.length-1);this.Jf=b.cas;this.Md=b.fs;this.Fd=b.ar;this.gd.reset();this.gd.X=b.at;this.Re=b.hasOwnProperty("ap")?b.ap:!0;this.Qe=b.hasOwnProperty("af")?b.af:!0;b.hasOwnProperty("rt")?this.le=b.rt:this.le=
this.ua.Hm;this.fb=this.ua.frames[this.F];this.qi=this.fb.S;this.D.Ih(this.fb.xj);this.Ib=this.fb.Ib;this.Jb=this.fb.Jb};r.xk=function(b){this.F=b?0:this.ua.frames.length-1;this.Re=!1;this.co=this.ua.name;this.xl=!0;this.b.trigger(U.prototype.g.$r,this);this.b.trigger(U.prototype.g.Zr,this);this.xl=!1;this.Fd=0};r.Ag=function(){return this.gd.X};r.xb=function(){this.gd.add(this.b.Qf(this));this.mi.length&&this.Do();0<=this.Gk&&this.bu();var b=this.gd.X,a=this.ua,c=a.frames[this.F],f=c.duration/this.Jf;
this.Re&&b>=this.Md+f&&(this.Qe?this.F++:this.F--,this.Md+=f,this.F>=a.frames.length&&(a.qq?(this.Qe=!1,this.F=a.frames.length-2):a.loop?this.F=this.le:(this.Fd++,this.Fd>=a.Gm?this.xk(!1):this.F=this.le)),0>this.F&&(a.qq?(this.F=1,this.Qe=!0,a.loop||(this.Fd++,this.Fd>=a.Gm&&this.xk(!0))):a.loop?this.F=this.le:(this.Fd++,this.Fd>=a.Gm?this.xk(!0):this.F=this.le)),0>this.F?this.F=0:this.F>=a.frames.length&&(this.F=a.frames.length-1),b>this.Md+a.frames[this.F].duration/this.Jf&&(this.Md=b),b=a.frames[this.F],
this.Gf(c,b),this.b.Z=!0)};r.Ro=function(b){var a,c,f;a=0;for(c=this.type.Ub.length;a<c;a++)if(f=this.type.Ub[a],mb(f.name,b))return f;return null};r.rv=function(b){var a,c,f;a=0;for(c=this.type.Ub.length;a<c;a++)if(f=this.type.Ub[a],f.R===b)return f;return null};r.Do=function(){var b=this.ua.frames[this.F],a=this.Ro(this.mi);this.mi="";!a||mb(a.name,this.ua.name)&&this.Re||(this.ua=a,this.Jf=a.speed,this.le=a.Hm,0>this.F&&(this.F=0),this.F>=this.ua.frames.length&&(this.F=this.ua.frames.length-1),
1===this.uo&&(this.F=0),this.Re=!0,this.Md=this.gd.X,this.Qe=!0,this.Gf(b,this.ua.frames[this.F]),this.b.Z=!0)};r.bu=function(){var b=this.ua.frames[this.F],a=this.F;this.F=E(this.Gk);0>this.F&&(this.F=0);this.F>=this.ua.frames.length&&(this.F=this.ua.frames.length-1);a!==this.F&&(this.Gf(b,this.ua.frames[this.F]),this.Md=this.gd.X,this.b.Z=!0);this.Gk=-1};r.Gf=function(b,a){var c=b.width,f=b.height,d=a.width,h=a.height;c!=d&&(this.width*=d/c);f!=h&&(this.height*=h/f);this.Ib=a.Ib;this.Jb=a.Jb;this.D.Ih(a.xj);
this.H();this.fb=a;this.qi=a.S;c=0;for(f=this.K.length;c<f;c++)d=this.K[c],d.Lw&&d.Lw(b,a);this.b.trigger(U.prototype.g.Gf,this)};r.Sc=function(b){b.globalAlpha=this.opacity;var a=this.fb,c=a.lg,f=a.aa,d=this.x,h=this.y,m=this.width,q=this.height;if(0===this.j&&0<=m&&0<=q)d-=this.Ib*m,h-=this.Jb*q,this.b.Xc&&(d=Math.round(d),h=Math.round(h)),c?b.drawImage(f,a.fg,a.gg,a.width,a.height,d,h,m,q):b.drawImage(f,d,h,m,q);else{this.b.Xc&&(d=Math.round(d),h=Math.round(h));b.save();var l=0<m?1:-1,u=0<q?1:
-1;b.translate(d,h);1===l&&1===u||b.scale(l,u);b.rotate(this.j*l*u);d=0-this.Ib*la(m);h=0-this.Jb*la(q);c?b.drawImage(f,a.fg,a.gg,a.width,a.height,d,h,la(m),la(q)):b.drawImage(f,d,h,la(m),la(q));b.restore()}};r.We=function(b){this.Gb(b)};r.Gb=function(b){b.Wa(this.qi);b.Me(this.opacity);var a=this.fb,c=this.Qa;if(this.b.Xc){var f=Math.round(this.x)-this.x,d=Math.round(this.y)-this.y;a.lg?b.wd(c.Xa+f,c.Ya+d,c.yb+f,c.zb+d,c.qb+f,c.rb+d,c.ob+f,c.pb+d,a.Rm):b.uf(c.Xa+f,c.Ya+d,c.yb+f,c.zb+d,c.qb+f,c.rb+
d,c.ob+f,c.pb+d)}else a.lg?b.wd(c.Xa,c.Ya,c.yb,c.zb,c.qb,c.rb,c.ob,c.pb,a.Rm):b.uf(c.Xa,c.Ya,c.yb,c.zb,c.qb,c.rb,c.ob,c.pb)};r.wv=function(b){var a=this.fb,c,f;c=0;for(f=a.wl.length;c<f;c++)if(mb(b,a.wl[c][0]))return c;return-1};r.kl=function(b,a){var c=this.fb,f=c.wl,d;w(b)?d=this.wv(b):d=b-1;d=E(d);if(0>d||d>=f.length)return a?this.x:this.y;var h=(f[d][1]-c.Ib)*this.width,f=f[d][2],f=(f-c.Jb)*this.height,c=Math.cos(this.j);d=Math.sin(this.j);var m=h*c-f*d,f=f*c+h*d,h=m+this.x,f=f+this.y;return a?
h:f};var b=new ca,f=!1;new ta(0,0,0,0);t.finish=function(e){if(f){if(e){var a=this.b.jb().hb.xc;e=null.ca();var c=b.qc(),d,h;if(e.da){e.da=!1;H(e.e);d=0;for(h=c.length;d<h;++d)e.e[d]=c[d];if(a)for(H(e.Y),d=0,h=null.e.length;d<h;++d)c=null.e[d],b.contains(c)||e.Y.push(c)}else if(a)for(a=e.e.length,d=0,h=c.length;d<h;++d)e.e[a+d]=c[d],Ja(e.Y,c[d]);else Ga(e.e,c);null.fe()}b.clear();f=!1}};n.prototype.Zr=function(b){return mb(this.co,b)};n.prototype.$r=function(){return!0};n.prototype.Gf=function(){return!0};
h.g=new n;m.prototype.Rs=function(b,a){this.mi=b;this.uo=a;this.Ml||(this.b.cn(this),this.Ml=!0);this.xl||this.Do()};m.prototype.Zs=function(b){b=la(this.width)*(0===b?-1:1);this.width!==b&&(this.width=b,this.H())};h.A=new m;h.T=new function(){}})();function sc(d){this.b=d}
(function(){function d(){return b.length?b.pop():{}}function n(f){var e,a;e=0;for(a=f.length;e<a;e++)b.push(f[e]);H(f)}function m(b){return b.length&&" "===b.charAt(b.length-1)?b.substring(0,b.length-1):b}function h(){}var t=sc.prototype;t.J=function(){t.A.ft=function(b){this.width!==b&&(this.width=b,this.zf=!0,this.H())}};t.ba=function(b){this.na=b;this.b=b.b};var v=t.ba.prototype;v.J=function(){};v.yh=function(){if(!this.G){var b,e,a;b=0;for(e=this.e.length;b<e;b++)a=this.e[b],a.rd=null,a.qf=null,
a.ac=null}};t.Q=function(b){this.type=b;this.b=b.b;this.ec?H(this.Ce):this.Ce=[];this.zf=!0};v=t.Q.prototype;v.J=function(){this.text=this.u[0];this.visible=0===this.u[1];this.font=this.u[2];this.color=this.u[3];this.Mi=this.u[4];this.ik=this.u[5];this.vn=0===this.u[7];this.Xl=this.bj=this.width;this.aj=this.height;this.$l=this.u[8];this.Ei=this.Nf="";this.Yq=this.Zq=this.Ch=0;this.Ow();this.ac=this.qf=this.rd=null;this.bq=!1;this.fh=this.b.Gc;this.ec?this.Ke.set(0,0,1,1):this.Ke=new ta(0,0,1,1);
this.b.n&&this.b.cn(this)};v.Ow=function(){var b=this.font.split(" "),e;for(e=0;e<b.length;e++)if("pt"===b[e].substr(b[e].length-2,2)){this.Ch=parseInt(b[e].substr(0,b[e].length-2));this.Am=Math.ceil(this.Ch/72*96)+4;0<e&&(this.Ei=b[e-1]);this.Nf=b[e+1];for(e+=2;e<b.length;e++)this.Nf+=" "+b[e];break}};v.Oa=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Mi,va:this.ik,wr:this.vn,lho:this.$l,fn:this.Nf,fs:this.Ei,ps:this.Ch,pxh:this.Am,tw:this.Zq,th:this.Yq,lrt:this.fh}};v.bb=function(b){this.text=
b.t;this.font=b.f;this.color=b.c;this.Mi=b.ha;this.ik=b.va;this.vn=b.wr;this.$l=b.lho;this.Nf=b.fn;this.Ei=b.fs;this.Ch=b.ps;this.Am=b.pxh;this.Zq=b.tw;this.Yq=b.th;this.fh=b.lrt;this.zf=!0;this.Xl=this.bj=this.width;this.aj=this.height};v.xb=function(){if(this.b.n&&this.ac&&300<=this.b.Gc-this.fh){var b=this.k;this.U();var e=this.N;if(e.right<b.ia||e.bottom<b.ja||e.left>b.ma||e.top>b.la)this.b.n.deleteTexture(this.ac),this.rd=this.qf=this.ac=null}};v.td=function(){this.rd=this.qf=null;this.b.n&&
this.ac&&this.b.n.deleteTexture(this.ac);this.ac=null};v.Ag=function(){this.font=this.Ei+" "+this.Ch.toString()+"pt "+this.Nf;this.zf=!0;this.b.Z=!0};v.Sc=function(b,e){b.font=this.font;b.textBaseline="top";b.fillStyle=this.color;b.globalAlpha=e?1:this.opacity;var a=1;e&&(a=Math.abs(this.k.Zb()),b.save(),b.scale(a,a));if(this.zf||this.width!==this.Xl)this.type.na.tt(this.text,this.Ce,b,this.width,this.vn),this.zf=!1,this.Xl=this.width;this.U();var a=e?0:this.Qa.Xa,c=e?0:this.Qa.Ya;this.b.Xc&&(a=a+
.5|0,c=c+.5|0);0===this.j||e||(b.save(),b.translate(a,c),b.rotate(this.j),c=a=0);var d=c+this.height,h=this.Am,h=h+this.$l,m,n;1===this.ik?c+=Math.max(this.height/2-this.Ce.length*h/2,0):2===this.ik&&(c+=Math.max(this.height-this.Ce.length*h-2,0));for(n=0;n<this.Ce.length&&!(m=a,1===this.Mi?m=a+(this.width-this.Ce[n].width)/2:2===this.Mi&&(m=a+(this.width-this.Ce[n].width)),b.fillText(this.Ce[n].text,m,c),c+=h,c>=d-h);n++);(0!==this.j||e)&&b.restore();this.fh=this.b.Gc};v.Gb=function(b){if(!(1>this.width||
1>this.height)){var e=this.zf||this.bq;this.bq=!1;var a=this.k.Zb(),c=this.k.Xb(),d=this.Ke,h=a*this.width,m=a*this.height,n=Math.ceil(h),q=Math.ceil(m),l=Math.abs(n),u=Math.abs(q),v=this.b.M/2,r=this.b.L/2;this.qf||(this.rd=document.createElement("canvas"),this.rd.width=l,this.rd.height=u,this.bj=l,this.aj=u,e=!0,this.qf=this.rd.getContext("2d"));if(l!==this.bj||u!==this.aj)this.rd.width=l,this.rd.height=u,this.ac&&(b.deleteTexture(this.ac),this.ac=null),e=!0;e&&(this.qf.clearRect(0,0,l,u),this.Sc(this.qf,
!0),this.ac||(this.ac=b.Fb(l,u,this.b.wa,this.b.we)),b.tn(this.rd,this.ac,this.b.we));this.bj=l;this.aj=u;b.Wa(this.ac);b.Me(this.opacity);b.Bc();b.translate(-v,-r);b.oc();var t=this.Qa,e=this.k.za(t.Xa,t.Ya,!0,!0),l=this.k.za(t.Xa,t.Ya,!1,!0),u=this.k.za(t.yb,t.zb,!0,!0),v=this.k.za(t.yb,t.zb,!1,!0),r=this.k.za(t.qb,t.rb,!0,!0),ka=this.k.za(t.qb,t.rb,!1,!0),K=this.k.za(t.ob,t.pb,!0,!0),t=this.k.za(t.ob,t.pb,!1,!0);if(this.b.Xc||0===this.j&&0===c)var N=(e+.5|0)-e,A=(l+.5|0)-l,e=e+N,l=l+A,u=u+N,v=
v+A,r=r+N,ka=ka+A,K=K+N,t=t+A;0===this.j&&0===c?(u=e+n,v=l,r=u,ka=l+q,K=e,t=ka,d.right=1,d.bottom=1):(d.right=h/n,d.bottom=m/q);b.wd(e,l,u,v,r,ka,K,t,d);b.Bc();b.scale(a,a);b.Jj(-this.k.Xb());b.translate((this.k.ia+this.k.ma)/-2,(this.k.ja+this.k.la)/-2);b.oc();this.fh=this.b.Gc}};var r=[];t.nt=function(b){H(r);for(var e="",a,c=0;c<b.length;)if(a=b.charAt(c),"\n"===a)e.length&&(r.push(e),e=""),r.push("\n"),++c;else if(" "===a||"\t"===a||"-"===a){do e+=b.charAt(c),c++;while(c<b.length&&(" "===b.charAt(c)||
"\t"===b.charAt(c)));r.push(e);e=""}else c<b.length&&(e+=a,c++);e.length&&r.push(e)};var b=[];t.tt=function(b,e,a,c,g){if(b&&b.length)if(2>=c)n(e);else{if(100>=b.length&&-1===b.indexOf("\n")){var h=a.measureText(b).width;if(h<=c){n(e);e.push(d());e[0].text=b;e[0].width=h;return}}this.ut(b,e,a,c,g)}else n(e)};t.ut=function(f,e,a,c,g){g&&(this.nt(f),f=r);var h="",p,n,q,l=0;for(q=0;q<f.length;q++)"\n"===f[q]?(l>=e.length&&e.push(d()),h=m(h),n=e[l],n.text=h,n.width=a.measureText(h).width,l++,h=""):(p=
h,h+=f[q],n=a.measureText(h).width,n>=c&&(l>=e.length&&e.push(d()),p=m(p),n=e[l],n.text=p,n.width=a.measureText(p).width,l++,h=f[q],g||" "!==h||(h="")));h.length&&(l>=e.length&&e.push(d()),h=m(h),n=e[l],n.text=h,n.width=a.measureText(h).width,l++);for(q=l;q<e.length;q++)b.push(e[q]);e.length=l};t.g=new function(){};h.prototype.ur=function(b){ha(b)&&(b=Math.round(1E10*b)/1E10);if(b=b.toString())this.text+=b,this.zf=!0,this.b.Z=!0};t.A=new h;t.T=new function(){}})();function tc(d){this.b=d}
(function(){var d=tc.prototype;d.ba=function(d){this.na=d;this.b=d.b};var n=d.ba.prototype;n.J=function(){this.G||(this.aa=new Image,this.aa.Mk=this.an,this.b.un(this.aa,this.$m),this.S=this.pattern=null)};n.yh=function(){this.G||(this.S=null)};n.sj=function(){if(!this.G&&this.e.length){this.S||(this.S=this.b.n.gj(this.aa,!0,this.b.wa,this.bn));var d,h;d=0;for(h=this.e.length;d<h;d++)this.e[d].S=this.S}};n.am=function(){this.G||this.S||!this.b.n||(this.S=this.b.n.gj(this.aa,!0,this.b.wa,this.bn))};
n.nn=function(){this.G||this.e.length||!this.S||(this.b.n.deleteTexture(this.S),this.S=null)};n.xm=function(d){d.drawImage(this.aa,0,0)};d.Q=function(d){this.type=d;this.b=d.b};n=d.Q.prototype;n.J=function(){this.visible=0===this.u[0];this.Ke=new ta(0,0,0,0);this.fp=!1;this.aa=this.type.aa;this.b.n?(this.type.am(),this.S=this.type.S):(this.type.pattern||(this.type.pattern=this.b.xa.createPattern(this.type.aa,"repeat")),this.pattern=this.type.pattern)};n.Ed=function(){this.fp=!1;this.aa=this.type.aa};
n.td=function(){this.b.n&&this.fp&&this.S&&(this.b.n.deleteTexture(this.S),this.S=null)};n.Sc=function(d){d.globalAlpha=this.opacity;d.save();d.fillStyle=this.pattern;var h=this.x,n=this.y;this.b.Xc&&(h=Math.round(h),n=Math.round(n));var v=-(this.Ib*this.width),r=-(this.Jb*this.height),b=v%this.aa.width,f=r%this.aa.height;0>b&&(b+=this.aa.width);0>f&&(f+=this.aa.height);d.translate(h,n);d.rotate(this.j);d.translate(b,f);d.fillRect(v-b,r-f,this.width,this.height);d.restore()};n.We=function(d){this.Gb(d)};
n.Gb=function(d){d.Wa(this.S);d.Me(this.opacity);var h=this.Ke;h.right=this.width/this.aa.width;h.bottom=this.height/this.aa.height;var n=this.Qa;if(this.b.Xc){var v=Math.round(this.x)-this.x,r=Math.round(this.y)-this.y;d.wd(n.Xa+v,n.Ya+r,n.yb+v,n.zb+r,n.qb+v,n.rb+r,n.ob+v,n.pb+r,h)}else d.wd(n.Xa,n.Ya,n.yb,n.zb,n.qb,n.rb,n.ob,n.pb,h)};d.g=new function(){};d.A=new function(){};d.T=new function(){}})();function Z(d){this.b=d}
(function(){function d(b){e=b.x;a=b.y;c=b.z}function n(a,b,c,e){var f;f=g.length?g.pop():new m;f.init(a,b,c,e);return f}function m(){this.Mh=this.id=this.y=this.x=this.Yj=this.Xj=this.Vl=this.time=this.Wm=0;this.Rh=this.dk=!1}function h(a){return a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents||a.originalEvent&&a.originalEvent.sourceCapabilities&&a.originalEvent.sourceCapabilities.firesTouchEvents}function t(){}function v(){}var r=Z.prototype;r.ba=function(a){this.na=a;this.b=a.b};r.ba.prototype.J=
function(){};r.Q=function(a){this.type=a;this.b=a.b;this.touches=[];this.jm=!1};var b=r.Q.prototype,f={left:0,top:0};b.Og=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var e=0,a=0,c=0,g=[];m.prototype.init=function(a,b,c,e){var f=Za();this.Wm=this.Vl=this.time=f;this.Xj=a;this.Yj=b;this.x=a;this.y=b;this.pressure=this.height=this.width=0;this.id=c;this.Mh=e;this.Rh=this.dk=!1};m.prototype.update=function(a,b,c,e,f,d){this.Vl=this.time;this.time=
a;this.x=b;this.y=c;this.width=e;this.height=f;this.pressure=d;!this.Rh&&15<=R(this.Xj,this.Yj,this.x,this.y)&&(this.Rh=!0)};m.prototype.ww=function(a,b){!this.dk&&500<=Za()-this.Wm&&!this.Rh&&15>R(this.Xj,this.Yj,this.x,this.y)&&(this.dk=!0,a.Dd=this.Mh,a.og=this.id,a.Sf=b,a.b.trigger(Z.prototype.g.os,a),a.Hd=this.x,a.Id=this.y,a.b.trigger(Z.prototype.g.qs,a),a.Sf=0)};var k=-1E3,p=-1E3,z=-1E4;m.prototype.Vp=function(a,b){if(!this.dk){var c=Za();333>=c-this.Wm&&!this.Rh&&15>R(this.Xj,this.Yj,this.x,
this.y)&&(a.Dd=this.Mh,a.og=this.id,a.Sf=b,666>=c-z&&25>R(k,p,this.x,this.y)?(a.b.trigger(Z.prototype.g.An,a),a.Hd=this.x,a.Id=this.y,a.b.trigger(Z.prototype.g.js,a),p=k=-1E3,z=-1E4):(a.b.trigger(Z.prototype.g.Js,a),a.Hd=this.x,a.Id=this.y,a.b.trigger(Z.prototype.g.Ks,a),k=this.x,p=this.y,z=c),a.Sf=0)}};b.J=function(){this.lw=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Sf=this.og=this.Dd=this.Id=this.Hd=this.Xn=this.Wn=this.Vn=this.At=this.zt=this.yt=this.vj=this.uj=this.tj=
0;this.Qx=0!==this.u[0];var a=0<this.b.Hb?document:this.b.canvas,b=document;this.b.Od?b=a=window.Canvas:this.b.tc&&(b=a=window);var c=this;"undefined"!==typeof PointerEvent?(a.addEventListener("pointerdown",function(a){c.kq(a)},!1),a.addEventListener("pointermove",function(a){c.jq(a)},!1),b.addEventListener("pointerup",function(a){c.rj(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.rj(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},
!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.kq(a)},!1),a.addEventListener("MSPointerMove",function(a){c.jq(a)},!1),b.addEventListener("MSPointerUp",function(a){c.rj(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.rj(a,
!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.mq(a)},!1),a.addEventListener("touchmove",function(a){c.lq(a)},!1),b.addEventListener("touchend",function(a){c.rm(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.rm(a,!0)},!1));if(this.lw){var e=function(a){a=a.reading;c.Vn=a.accelerationX;c.Wn=a.accelerationY;
c.Xn=a.accelerationZ},f=function(a){a=a.reading;c.tj=a.yawDegrees;c.uj=a.pitchDegrees;c.vj=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?
(g&&g.removeEventListener("readingchanged",e),h&&h.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),h&&h.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",function(a){c.tj=a.alpha||0;c.uj=a.beta||0;c.vj=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.yt=a.accelerationIncludingGravity.x||0,c.zt=a.accelerationIncludingGravity.y||0,c.At=a.accelerationIncludingGravity.z||
0);a.acceleration&&(c.Vn=a.acceleration.x||0,c.Wn=a.acceleration.y||0,c.Xn=a.acceleration.z||0)},!1);this.Qx&&!this.b.La&&(jQuery(document).mousemove(function(a){c.Iw(a)}),jQuery(document).mousedown(function(a){c.Hw(a)}),jQuery(document).mouseup(function(a){c.Jw(a)}));!this.b.Xi&&this.b.uc&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(d,null,{frequency:40});this.b.$q(this)};b.jq=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&
"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Og(a.pointerId),c=Za();if(0<=b){var e=this.b.La?f:jQuery(this.b.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-e.left,a.pageY-e.top,a.width||0,a.height||0,a.pressure||0)}}};b.kq=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&nb(a)&&a.preventDefault();var b=this.b.La?f:jQuery(this.b.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top;Za();this.Dd=this.touches.length;
this.og=a.pointerId;this.touches.push(n(c,b,a.pointerId,this.Dd));this.b.vc=!0;this.b.trigger(Z.prototype.g.In,this);this.b.trigger(Z.prototype.g.qk,this);this.Hd=c;this.Id=b;this.b.trigger(Z.prototype.g.Sn,this);this.b.vc=!1}};b.rj=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&nb(a)&&a.preventDefault();var c=this.Og(a.pointerId);this.Dd=0<=c?this.touches[c].Mh:-1;this.og=0<=c?this.touches[c].id:-1;this.b.vc=!0;this.b.trigger(Z.prototype.g.Hn,
this);this.b.trigger(Z.prototype.g.Rn,this);0<=c&&(b||this.touches[c].Vp(this,c),100>g.length&&g.push(this.touches[c]),this.touches.splice(c,1));this.b.vc=!1}};b.lq=function(a){a.preventDefault&&a.preventDefault();var b=Za(),c,e,d,g;c=0;for(e=a.changedTouches.length;c<e;c++)if(d=a.changedTouches[c],g=this.Og(d.identifier),0<=g){var h=this.b.La?f:jQuery(this.b.canvas).offset();g=this.touches[g];2>b-g.time||g.update(b,d.pageX-h.left,d.pageY-h.top,2*(d.cz||d.lz||d.Yy||d.az||0),2*(d.dz||d.mz||d.Zy||d.bz||
0),d.Sy||d.kz||d.Xy||d.$y||0)}};b.mq=function(a){a.preventDefault&&nb(a)&&a.preventDefault();var b=this.b.La?f:jQuery(this.b.canvas).offset();Za();this.b.vc=!0;var c,e,d,g;c=0;for(e=a.changedTouches.length;c<e;c++)if(d=a.changedTouches[c],g=this.Og(d.identifier),-1===g){g=d.pageX-b.left;var h=d.pageY-b.top;this.Dd=this.touches.length;this.og=d.identifier;this.touches.push(n(g,h,d.identifier,this.Dd));this.b.trigger(Z.prototype.g.In,this);this.b.trigger(Z.prototype.g.qk,this);this.Hd=g;this.Id=h;this.b.trigger(Z.prototype.g.Sn,
this)}this.b.vc=!1};b.rm=function(a,b){a.preventDefault&&nb(a)&&a.preventDefault();this.b.vc=!0;var c,e,f;c=0;for(e=a.changedTouches.length;c<e;c++)f=a.changedTouches[c],f=this.Og(f.identifier),0<=f&&(this.Dd=this.touches[f].Mh,this.og=this.touches[f].id,this.b.trigger(Z.prototype.g.Hn,this),this.b.trigger(Z.prototype.g.Rn,this),b||this.touches[f].Vp(this,f),100>g.length&&g.push(this.touches[f]),this.touches.splice(f,1));this.b.vc=!1};b.Ag=function(){return this.b.uc&&0===this.tj&&0!==c?90*c:this.tj};
b.yu=function(){return this.b.uc&&0===this.uj&&0!==a?90*a:this.uj};b.Ty=function(){return this.b.uc&&0===this.vj&&0!==e?90*e:this.vj};b.Hw=function(a){h(a)||(this.mq({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),this.jm=!0)};b.Iw=function(a){this.jm&&!h(a)&&this.lq({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};b.Jw=function(a){a.preventDefault&&this.b.cp&&!this.b.we&&a.preventDefault();this.b.cp=!0;h(a)||(this.rm({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),
this.jm=!1)};b.Af=function(){var a,b,c,e=Za();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=e-50&&(c.Vl=e),c.ww(this,a)};t.prototype.qk=function(){return!0};t.prototype.Rn=function(){return!0};t.prototype.Qr=function(){return this.touches.length};t.prototype.Sn=function(a){return a?this.b.$j(a,this.Hd,this.Id):!1};t.prototype.In=function(a){a=Math.floor(a);return a===this.Dd};t.prototype.Hn=function(a){a=Math.floor(a);return a===this.Dd};t.prototype.os=function(){return!0};t.prototype.Js=
function(){return!0};t.prototype.An=function(){return!0};t.prototype.qs=function(a){return a?this.b.$j(a,this.Hd,this.Id):!1};t.prototype.Ks=function(a){return a?this.b.$j(a,this.Hd,this.Id):!1};t.prototype.js=function(a){return a?this.b.$j(a,this.Hd,this.Id):!1};r.g=new t;v.prototype.sk=function(a,b){var c=this.Sf;if(0>c||c>=this.touches.length)a.C(0);else{var e,f,d,g,h;ga(b)?(e=this.b.Pg(0),f=e.scale,d=e.ed,g=e.zc,h=e.j,e.scale=1,e.ed=1,e.zc=1,e.j=0,a.C(e.Ab(this.touches[c].x,this.touches[c].y,
!0)),e.scale=f,e.ed=d,e.zc=g,e.j=h):(e=ha(b)?this.b.Pg(b):this.b.ml(b))?a.C(e.Ab(this.touches[c].x,this.touches[c].y,!0)):a.C(0)}};v.prototype.tk=function(a,b){var c=this.Sf;if(0>c||c>=this.touches.length)a.C(0);else{var e,f,d,g,h;ga(b)?(e=this.b.Pg(0),f=e.scale,d=e.ed,g=e.Ac,h=e.j,e.scale=1,e.ed=1,e.Ac=1,e.j=0,a.C(e.Ab(this.touches[c].x,this.touches[c].y,!1)),e.scale=f,e.ed=d,e.Ac=g,e.j=h):(e=ha(b)?this.b.Pg(b):this.b.ml(b))?a.C(e.Ab(this.touches[c].x,this.touches[c].y,!1)):a.C(0)}};r.T=new v})();
function uc(d){this.b=d}
(function(){function d(a){a%=g.length;0>a&&(a+=g.length);return a}function n(){var a,b,c,e;a=0;for(b=g.length;a<b;++a)c=g[a],(e=g[d(a-1)])&&!c&&(p=a),!e&&c&&(q=a)}function m(){}var h=uc.prototype;h.ba=function(a){this.na=a;this.b=a.b};var t=h.ba.prototype,v=!1,r=null,b=null;t.J=function(){this.G||v||(v=!0,r=new Image,r.Mk=15E3,this.b.un(r,"penumbra.png"))};t.yh=function(){if(!this.G){this.cc=this.S=null;var a,b,c;a=0;for(b=this.e.length;a<b;++a)c=this.e[a],c.S=null,c.cc=null}};t.sj=function(){if(!this.G){var a,
b;a=0;for(b=this.e.length;a<b;++a)this.e[a].Ok()}};h.Q=function(a){this.type=a;this.b=a.b};t=h.Q.prototype;t.J=function(){if(!b){var a=r.width,c=r.height,e=document.createElement("canvas");e.width=a;e.height=c;e=e.getContext("2d");e.clearRect(0,0,a,c);e.drawImage(r,0,0,a,c);b=e.getImageData(0,0,a,c).data}this.Ae=this.x;this.Be=this.y;this.Bp=this.u[0];this.Kb=1E3;this.bg=this.u[1];this.so=this.u[2];this.tag=this.u[3];this.hh=this.ih=this.jh=0;this.up=this.x;this.vp=this.y;this.cc=this.S=null;this.b.n?
this.Ok():this.bg=0;this.b.$q(this)};t.to=function(a){return 1===this.so?mb(this.tag,a):2===this.so?!mb(this.tag,a):!0};t.Af=function(){if(this.up!==this.x||this.vp!==this.y)this.Ae=this.x,this.Be=this.y;var a=this.k,b=(a.ia+a.ma)/2,c=(a.ja+a.la)/2,e=a.ma-a.ia+this.Kb,f=a.la-a.ja+this.Kb;if(b!==this.x||c!==this.y||e!==this.width||f!==this.height)this.x=b,this.y=c,this.width=e,this.height=f,this.H();this.up=this.x;this.vp=this.y;this.Kb=1.5*R(a.ia,a.ja,a.ma,a.la)};t.td=function(){this.b.n&&(this.S&&
(this.b.n.deleteTexture(this.S),this.S=null),this.cc&&(this.b.n.deleteTexture(this.cc),this.cc=null))};t.Oa=function(){return{}};t.bb=function(){};var f=[],e=[];t.bp=function(){this.b.Om&&(this.b.Li(this.k,this.b.Om.km,this.N,f),$a(f))};var a=[],c=0,g=[],k=[],p=-1,z=-1,q=-1,l=-1,u=0,W=0,C=[],sa=0,ka=0,K=0,N=0,A=0,M=0,V=0,O=0,I=new gb([]);t.Sc=function(a){this.bp();a.save();a.fillStyle="rgba("+this.jh+","+this.ih+","+this.hh+","+this.opacity+")";var b,c,d,h,k,l,m,p,n,q;b=0;for(c=f.length;b<c;++b)if(d=
f[b],d.I.shadowcasterEnabled&&this.to(d.I.shadowcasterTag))if(d.U(),m=d.I.shadowcasterHeight,d.Cd){d.Ii(this.N,e);p=d.x;n=d.y;d=0;for(h=e.length;d<h;++d){k=e[d];q=k.Dj;k.Yc?(k=k.Yc,l=q.left,q=q.top):(I.Ad(q,0,0),k=I,q=l=0);this.li(k,p+l,n+q,m,!1);a.beginPath();a.moveTo(C[0],C[1]);k=2;for(l=C.length;k<l;k+=2)a.lineTo(C[k],C[k+1]);a.closePath();a.fill();H(g);H(C)}H(e)}else{d.D&&!d.D.od()?(d.D.jd(d.width,d.height,d.j),k=d.D):(I.Ud(d.Qa,d.x,d.y,d.width,d.height),k=I);this.li(k,d.x,d.y,m,Ua(0>d.width,
0>d.height));a.beginPath();a.moveTo(C[0],C[1]);d=2;for(h=C.length;d<h;d+=2)a.lineTo(C[d],C[d+1]);a.closePath();a.fill();H(g);H(C)}a.restore();H(f)};t.Av=function(b,e,d,f){c=b.nc;H(a);var g,h=b.Ja;W=u=0;var k;for(k=0;k<c;++k)g=2*k,b=h[g]+e,g=h[g+1]+d,f?(a.unshift(g),a.unshift(b)):(a.push(b),a.push(g)),u+=b,W+=g;u/=c;W/=c};t.li=function(b,e,d,f,h){this.Av(b,e,d,h);var m;H(g);H(k);H(C);l=z=q=p=-1;d=this.Ae;h=this.Be;if(0<this.bg)this.Bk(-this.bg),n(),Ga(k,g),z=p,l=q,H(g),q=p=-1,this.Bk(this.bg),n(),
-1!==p&&-1!==q&&-1!==z&&-1!==l&&this.Nt();else for(this.Bk(0),n(),b=0;b<c;++b)m=2*b,e=a[m],m=a[m+1],this.Mt(b,d,h,e,m,f)};t.Mt=function(a,b,c,e,f,h){var k;k=g[d(a-1)];var l=a===p,m=a===q;g[a]||k?(a=Qa(b,c,e,f),k=R(b,c,e,f),h=this.Ot(b,c,e,f,h),b+=Math.cos(a)*(k+h),c+=Math.sin(a)*(k+h)):(b=e,c=f);m&&(C.push(e),C.push(f));C.push(b);C.push(c);l&&(C.push(e),C.push(f))};t.Bk=function(b){var e=this.Ae,d=this.Be,f=e,h=d,k,l,m,p,n;for(k=0;k<c;++k)l=2*k,m=k+1,m=m===c?0:2*m,p=a[l],l=a[l+1],n=a[m],m=a[m+1],
0!==b&&(h=Qa(e,d,u,W)-Math.PI/2,f=e+Math.cos(h)*b,h=d+Math.sin(h)*b),g.push(Ra(Qa(p,l,f,h),Qa(p,l,n,m)-Math.PI/2)>=Math.PI/2)};var B=0,D=0;t.Nt=function(){for(var b=z,e,d,f;b=b%c,e=2*b,d=a[e],f=a[e+1],C.push(d),C.push(f),b!==q;++b);var g=this.bg,h=Qa(this.Ae,this.Be,u,W),b=this.Ae+Math.cos(h-Math.PI/2)*g,k=this.Be+Math.sin(h-Math.PI/2)*g,h=Qa(b,k,d,f),l=R(b,k,d,f),b=b+Math.cos(h)*(l+this.Kb),k=k+Math.sin(h)*(l+this.Kb);e=2*z;var m=a[e];e=a[e+1];var h=Qa(this.Ae,this.Be,u,W),p=this.Ae+Math.cos(h+Math.PI/
2)*g,n=this.Be+Math.sin(h+Math.PI/2)*g,h=Qa(p,n,m,e),l=R(p,n,m,e),g=p+Math.cos(h)*(l+this.Kb),h=n+Math.sin(h)*(l+this.Kb);A=d;M=f;sa=m;ka=e;var v,r,t,l=b-d,p=k-f;v=g-m;r=h-e;t=-v*p+l*r;0===t?d=!1:(n=(-p*(d-m)+l*(f-e))/t,t=-v*p+l*r,0===t?d=!1:(m=(v*(f-e)-r*(d-m))/t,0<=n&&1>=n&&0<=m&&1>=m?(B=d+m*l,D=f+m*p,d=!0):d=!1));d?(C.push(B),C.push(D),V=B,O=D,K=B,N=D):(C.push(b),C.push(k),C.push(g),C.push(h),V=b,O=k,K=g,N=h)};t.Ot=function(a,b,c,e,d){if(d>=this.Bp)return this.Kb;if(0>=d)return 0;a=R(a,b,c,e);
a=Math.atan(a/(this.Bp-d));d=d*Math.tan(a);d>=this.Kb&&(d=this.Kb);0>d&&(d=0);return d};t.Gb=function(a){a.Me(this.opacity);this.bp();var b,c,d,h,k,m,n,v,r,t;b=0;for(c=f.length;b<c;++b)if(d=f[b],d.I.shadowcasterEnabled&&this.to(d.I.shadowcasterTag))if(d.U(),k=d.I.shadowcasterHeight,d.Cd){d.Ii(this.N,e);n=d.x;v=d.y;d=0;for(h=e.length;d<h;++d)m=e[d],r=m.Dj,m.Yc?(m=m.Yc,t=r.left,r=r.top):(I.Ad(r,0,0),m=I,r=t=0),this.li(m,n+t,v+r,k,!1),6>C.length||(a.Wa(this.S),a.yo(C),-1<p&&-1<z&&(a.Wa(this.cc),this.xi(a,
!0)),-1<q&&-1<l&&(a.Wa(this.cc),this.xi(a,!1)),H(g),H(C));H(e)}else d.D&&!d.D.od()?(d.D.jd(d.width,d.height,d.j),m=d.D):(I.Ud(d.Qa,d.x,d.y,d.width,d.height),m=I),this.li(m,d.x,d.y,k,Ua(0>d.width,0>d.height)),6>C.length||(a.Wa(this.S),a.yo(C),-1<p&&-1<z&&(a.Wa(this.cc),this.xi(a,!0)),-1<q&&-1<l&&(a.Wa(this.cc),this.xi(a,!1)),H(g),H(C));H(f)};t.xi=function(b,c){var e=this.Ae,d=this.Be,f,g,h,k,m,n;c?(h=sa,k=ka,m=K,n=N):(h=A,k=M,m=V,n=O);var v=this.bg,r=Qa(e,d,u,W),t=Math.PI/2;c&&(t=-t);e+=Math.cos(r+
t)*v;d+=Math.sin(r+t)*v;v=!1;if(c){if(v=p!==z)f=a[2*p],g=a[2*p+1]}else if(v=q!==l)f=a[2*l],g=a[2*l+1];var r=v?Qa(f,g,h,k):Qa(e,d,h,k),t=h+Math.cos(r)*this.Kb,B=k+Math.sin(r)*this.Kb,C,D,I,vb=I=0,wb=1;v&&(I=Qa(e,d,f,g),C=f+Math.cos(I)*this.Kb,D=g+Math.sin(I)*this.Kb,e=Qa(h,k,m,n),I=Ra(r,I)/Ra(e,I),r=R(f,g,h,k),r=r/(r+this.Kb),e=Qa(0,1,I,0),d=R(0,1,I,0),vb+=Math.cos(e)*r*d,wb+=Math.sin(e)*r*d);b.yq(h,k,m,n,t,B,t,B,vb,wb,1,I,I);v&&b.yq(f,g,t,B,C,D,C,D,0,1,I,0,0)};t.Ok=function(){this.b.n&&(this.S&&(this.b.n.deleteTexture(this.S),
this.S=null),this.cc&&(this.b.n.deleteTexture(this.cc),this.cc=null),this.Ut(),this.Xt())};t.Ut=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.jh+","+this.ih+","+this.hh+")";b.fillRect(0,0,16,16);this.S=this.b.n.Fb(16,16,!1,!1,!0);this.b.n.tn(a,this.S)};t.Xt=function(){var a=r.width,c=r.height,e=this.jh,d=this.ih,f=this.hh,g=b,h=document.createElement("canvas");h.width=a;h.height=c;var k=h.getContext("2d"),l=k.createImageData(a,
c),m=l.data,p,n;p=0;for(n=m.length;p<n;p+=4)m[p]=e,m[p+1]=d,m[p+2]=f,m[p+3]=g[p+3];k.putImageData(l,0,0);this.cc=this.b.n.Fb(a,c,this.b.wa,!1,!1);this.b.n.tn(h,this.cc)};h.g=new function(){};m.prototype.Ys=function(a){var b=ya(a),c=za(a);a=Aa(a);if(this.jh!==b||this.ih!==c||this.hh!==a)this.jh=b,this.ih=c,this.hh=a,this.Ok(),this.b.Z=!0};h.A=new m;h.T=new function(){}})();function vc(d){this.b=d}
(function(){function d(){}var n=vc.prototype;n.ba=function(d){this.behavior=d;this.b=d.b};n.ba.prototype.J=function(){};n.Q=function(d,m){this.type=d;this.behavior=d.behavior;this.i=m;this.b=d.b};var m=n.Q.prototype;m.J=function(){this.ao=this.u[0];this.bo=this.u[1];this.Gt=this.u[2];this.Ft=this.u[3];this.i.U();this.kk=this.i.N.left;this.nk=this.i.N.top;this.lk=this.b.Ba-this.i.N.left;this.mk=this.b.Aa-this.i.N.top;this.Ej=this.b.Ba-this.i.N.right;this.hi=this.b.Aa-this.i.N.bottom;this.enabled=0!==
this.u[4]};m.Oa=function(){return{xleft:this.kk,ytop:this.nk,xright:this.lk,ybottom:this.mk,rdiff:this.Ej,bdiff:this.hi,enabled:this.enabled}};m.bb=function(d){this.kk=d.xleft;this.nk=d.ytop;this.lk=d.xright;this.mk=d.ybottom;this.Ej=d.rdiff;this.hi=d.bdiff;this.enabled=d.enabled};m.xb=function(){if(this.enabled){var d,m=this.i.k,n=this.i,r=this.i.N;0===this.ao?(n.U(),d=m.ia+this.kk-r.left,0!==d&&(n.x+=d,n.H())):1===this.ao&&(n.U(),d=m.ma-this.lk-r.left,0!==d&&(n.x+=d,n.H()));0===this.bo?(n.U(),d=
m.ja+this.nk-r.top,0!==d&&(n.y+=d,n.H())):1===this.bo&&(n.U(),d=m.la-this.mk-r.top,0!==d&&(n.y+=d,n.H()));1===this.Gt&&(n.U(),d=m.ma-this.Ej-r.right,0!==d&&(n.width+=d,0>n.width&&(n.width=0),n.H()));1===this.Ft&&(n.U(),d=m.la-this.hi-r.bottom,0!==d&&(n.height+=d,0>n.height&&(n.height=0),n.H()))}};n.g=new function(){};d.prototype.Hf=function(d){this.enabled&&0===d?this.enabled=!1:this.enabled||0===d||(this.i.U(),this.kk=this.i.N.left,this.nk=this.i.N.top,this.lk=this.b.Ba-this.i.N.left,this.mk=this.b.Aa-
this.i.N.top,this.Ej=this.b.Ba-this.i.N.right,this.hi=this.b.Aa-this.i.N.bottom,this.enabled=!0)};n.A=new d;n.T=new function(){}})();function wc(d){this.b=d}
(function(){function d(){}function n(){}function m(){}var h=wc.prototype;h.ba=function(d){this.behavior=d;this.b=d.b};h.ba.prototype.J=function(){};h.Q=function(d,h){this.type=d;this.behavior=d.behavior;this.i=h;this.b=d.b;this.Tj=this.Sj=this.Rj=this.Uj=this.ul=this.Gh=this.gh=this.Hg=this.Sh=!1;this.Ul=this.Tl=this.Sl=this.Wl=-1;this.fa=this.ea=0};var t=h.Q.prototype;t.J=function(){this.sh=this.u[0];this.Sb=this.u[1];this.Wb=this.u[2];this.Xk=this.u[3];this.wk=this.u[4];this.Yt=1===this.u[5];this.enabled=
0!==this.u[6];this.Yt&&!this.b.La&&(jQuery(document).keydown(function(d){return function(h){d.pm(h)}}(this)),jQuery(document).keyup(function(d){return function(h){d.qm(h)}}(this)))};t.Oa=function(){return{dx:this.ea,dy:this.fa,enabled:this.enabled,maxspeed:this.sh,acc:this.Sb,dec:this.Wb,ignoreInput:this.ul}};t.bb=function(d){this.ea=d.dx;this.fa=d.dy;this.enabled=d.enabled;this.sh=d.maxspeed;this.Sb=d.acc;this.Wb=d.dec;this.ul=d.ignoreInput;this.Tj=this.Sj=this.Rj=this.Uj=this.Gh=this.gh=this.Hg=
this.Sh=!1;this.Ul=this.Tl=this.Sl=this.Wl=-1};t.pm=function(d){var h=this.b.Gc;switch(d.which){case 37:d.preventDefault();this.Tl<h&&(this.gh=!0);break;case 38:d.preventDefault();this.Wl<h&&(this.Sh=!0);break;case 39:d.preventDefault();this.Ul<h&&(this.Gh=!0);break;case 40:d.preventDefault(),this.Sl<h&&(this.Hg=!0)}};t.qm=function(d){var h=this.b.Gc;switch(d.which){case 37:d.preventDefault();this.gh=!1;this.Tl=h;break;case 38:d.preventDefault();this.Sh=!1;this.Wl=h;break;case 39:d.preventDefault();
this.Gh=!1;this.Ul=h;break;case 40:d.preventDefault(),this.Hg=!1,this.Sl=h}};t.sf=function(){this.Gh=this.gh=this.Hg=this.Sh=!1};t.xb=function(){var d=this.b.Qf(this.i),h=this.gh||this.Sj,b=this.Gh||this.Tj,f=this.Sh||this.Uj,e=this.Hg||this.Rj;this.Rj=this.Uj=this.Tj=this.Sj=!1;if(this.enabled){var a=this.b.yf(this.i);if(a&&(this.b.Fj(this.i,a),!this.b.ix(this.i)))return;this.ul&&(e=f=b=h=!1);0===this.Xk?b=h=!1:1===this.Xk&&(e=f=!1);2===this.Xk&&(f||e)&&(b=h=!1);h==b&&(0>this.ea?(this.ea+=this.Wb*
d,0<this.ea&&(this.ea=0)):0<this.ea&&(this.ea-=this.Wb*d,0>this.ea&&(this.ea=0)));f==e&&(0>this.fa?(this.fa+=this.Wb*d,0<this.fa&&(this.fa=0)):0<this.fa&&(this.fa-=this.Wb*d,0>this.fa&&(this.fa=0)));h&&!b&&(this.ea=0<this.ea?this.ea-(this.Sb+this.Wb)*d:this.ea-this.Sb*d);b&&!h&&(this.ea=0>this.ea?this.ea+(this.Sb+this.Wb)*d:this.ea+this.Sb*d);f&&!e&&(this.fa=0<this.fa?this.fa-(this.Sb+this.Wb)*d:this.fa-this.Sb*d);e&&!f&&(this.fa=0>this.fa?this.fa+(this.Sb+this.Wb)*d:this.fa+this.Sb*d);if(0!==this.ea||
0!==this.fa){Math.sqrt(this.ea*this.ea+this.fa*this.fa)>this.sh&&(a=Math.atan2(this.fa,this.ea),this.ea=this.sh*Math.cos(a),this.fa=this.sh*Math.sin(a));b=this.i.x;f=this.i.y;h=this.i.j;this.i.x+=this.ea*d;this.i.H();if(a=this.b.yf(this.i))this.b.xq(this.i,0>this.ea?1:-1,0,Math.abs(Math.floor(this.ea*d)))||(this.i.x=b),this.ea=0,this.i.H(),this.b.Fj(this.i,a);this.i.y+=this.fa*d;this.i.H();if(a=this.b.yf(this.i))this.b.xq(this.i,0,0>this.fa?1:-1,Math.abs(Math.floor(this.fa*d)))||(this.i.y=f),this.fa=
0,this.i.H(),this.b.Fj(this.i,a);d=lb(this.ea);a=lb(this.fa);0===d&&0===a||!this.i.type.na.ow||(1===this.wk?this.i.j=Pa(90*Math.round(La(Math.atan2(a,d))/90)):2===this.wk?this.i.j=Pa(45*Math.round(La(Math.atan2(a,d))/45)):3===this.wk&&(this.i.j=Math.atan2(a,d)));this.i.H();this.i.j!=h&&(a=this.b.yf(this.i))&&(this.i.j=h,this.i.H(),this.b.Fj(this.i,a))}}};d.prototype.yn=function(){return 1E-10<Math.sqrt(this.ea*this.ea+this.fa*this.fa)};h.g=new d;n.prototype.jt=function(d){switch(d){case 0:this.Sj=
!0;break;case 1:this.Tj=!0;break;case 2:this.Uj=!0;break;case 3:this.Rj=!0}};n.prototype.Hf=function(d){this.enabled=1===d};n.prototype.ct=function(d){this.ea=d};n.prototype.dt=function(d){this.fa=d};h.A=new n;m.prototype.pt=function(d){d.C(this.ea)};h.T=new m})();function xc(d){this.b=d}
(function(){function d(){}function n(){}var m=xc.prototype;m.ba=function(d){this.behavior=d;this.b=d.b};m.ba.prototype.J=function(){};m.Q=function(d,h){this.type=d;this.behavior=d.behavior;this.i=h;this.b=d.b};var h=m.Q.prototype;h.J=function(){this.uk=1===this.u[0];this.Kq=!1;this.Lg=this.u[1];this.sg=this.u[2];this.Ai=this.u[3];this.Zt=this.u[4];this.fc=this.uk?0:3;this.ec?this.Dc.reset():this.Dc=new db;this.Ge=this.i.opacity?this.i.opacity:1;this.uk&&(0===this.Lg?(this.fc=1,0===this.sg&&(this.fc=
2)):(this.i.opacity=0,this.b.Z=!0))};h.Oa=function(){return{fit:this.Lg,wt:this.sg,fot:this.Ai,s:this.fc,st:this.Dc.X,mo:this.Ge}};h.bb=function(d){this.Lg=d.fit;this.sg=d.wt;this.Ai=d.fot;this.fc=d.s;this.Dc.reset();this.Dc.X=d.st;this.Ge=d.mo};h.xb=function(){this.Dc.add(this.b.Qf(this.i));0===this.fc&&(this.i.opacity=this.Dc.X/this.Lg*this.Ge,this.b.Z=!0,this.i.opacity>=this.Ge&&(this.i.opacity=this.Ge,this.fc=1,this.Dc.reset(),this.b.trigger(xc.prototype.g.ks,this.i)));1===this.fc&&this.Dc.X>=
this.sg&&(this.fc=2,this.Dc.reset(),this.b.trigger(xc.prototype.g.Ms,this.i));2===this.fc&&0!==this.Ai&&(this.i.opacity=this.Ge-this.Dc.X/this.Ai*this.Ge,this.b.Z=!0,0>this.i.opacity&&(this.i.opacity=0,this.fc=3,this.Dc.reset(),this.b.trigger(xc.prototype.g.Bn,this.i),1===this.Zt&&this.b.Jc(this.i)))};h.Fo=function(){this.fc=0;this.Dc.reset();0===this.Lg?(this.fc=1,0===this.sg&&(this.fc=2)):(this.i.opacity=0,this.b.Z=!0)};d.prototype.Bn=function(){return!0};d.prototype.ks=function(){return!0};d.prototype.Ms=
function(){return!0};m.g=new d;n.prototype.kt=function(){this.uk||this.Kq||(this.Ge=this.i.opacity?this.i.opacity:1,this.Kq=!0);3===this.fc&&this.Fo()};n.prototype.Qs=function(){this.Fo()};n.prototype.et=function(d){0>d&&(d=0);this.sg=d};m.A=new n;m.T=new function(){}})();function yc(d){this.b=d}
(function(){function d(){}var n=yc.prototype;n.ba=function(b){this.behavior=b;this.b=b.b};var m=n.ba.prototype;m.J=function(){this.mc=[]};m.mv=function(b){var d,e,a;d=0;for(e=b.K.length;d<e;++d)if(a=b.K[d],a instanceof yc.prototype.Q&&a.type===this)return a;return null};n.Q=function(b,d){this.type=b;this.behavior=b.behavior;this.i=d;this.b=b.b};m=n.Q.prototype;m.J=function(){this.Cw=this.u[0];this.Cm=this.u[1];this.Kk=Q(this.u[2]);this.or=0!==this.u[3]};m.td=function(){};m.Oa=function(){var b={r:this.Cm,
c:this.Kk,t:[]},d,e;d=0;for(e=this.type.mc.length;d<e;d++)b.t.push(this.type.mc[d].R);return b};m.bb=function(b){this.Cm=b.r;this.Kk=b.c;H(this.type.mc);var d,e,a;d=0;for(e=b.t.length;d<e;d++)(a=this.b.$e(b.t[d]))&&this.type.mc.push(a)};m.xb=function(){};var h=[],t=new ta(0,0,0,0);m.Wv=function(b,d){var e=this.i.x,a=this.i.y,c=this.i.j;0>this.i.width&&(c+=Math.PI);if(R(e,a,b,d)>this.Cm||Ra(c,Qa(e,a,b,d))>this.Kk/2)return!1;var g,k;t.set(e,a,b,d);t.normalize();if(0===this.Cw)for(this.or?this.b.ql(this.i.k,
t,h):(c=this.b.Um)&&Ha(h,c.uh.qc()),c=0,g=h.length;c<g;++c){if(k=h[c],k.I.solidEnabled&&k!==this.i&&this.b.Wq(e,a,b,d,k))return H(h),!1}else{if(this.or)this.b.Li(this.i.k,this.type.mc,t,h);else for(c=0,g=this.type.mc.length;c<g;++c)Ha(h,this.type.mc[c].e);c=0;for(g=h.length;c<g;++c)if(k=h[c],k!==this.i&&this.b.Wq(e,a,b,d,k))return H(h),!1}H(h);return!0};var v=new ca,r=new ca;d.prototype.Ir=function(b){if(!b)return!1;var d,e,a,c,g,h,m,n,q=this.b.tv().ca();b=b.ca();var l=q.Yb(),t=b.Yb();q.da&&H(q.Y);
b.da&&H(b.Y);var W=this.b.Ji().Pi;d=0;for(a=l.length;d<a;++d){g=l[d];n=!1;h=this.mv(g);e=0;for(c=t.length;e<c;++e)m=t[e],g!==m&&Ua(h.Wv(m.x,m.y),W)&&(n=!0,r.add(m));n&&v.add(g)}d=v.qc();e=r.qc();q.da=!1;b.da=!1;Ga(q.e,d);Ga(b.e,e);v.clear();r.clear();return q.Ni()};n.g=new d;n.A=new function(){};n.T=new function(){}})();function zc(d){this.b=d}
(function(){function d(){}function n(){}var m={},h=zc.prototype;h.hg=function(){var b,d;for(b in m)m.hasOwnProperty(b)&&(d=m[b],d.Ie.unsetReady(),d.Fh=!0)};h.ba=function(b){this.behavior=b;this.b=b.b};h.ba.prototype.J=function(){this.mc=[];this.je=[]};h.Q=function(b,d){this.type=b;this.behavior=b.behavior;this.i=d;this.b=b.b};var t=h.Q.prototype;t.J=function(){this.Da=this.u[0];3>this.Da&&(this.Da=3);this.Pc=this.u[1];this.Dw=this.u[2];this.pd=this.u[3];this.Sb=this.u[4];this.Wb=this.u[5];this.ci=
Q(this.u[6]);this.Hj=0!==this.u[7];this.wi=0!==this.u[8];this.enabled=0!==this.u[9];this.Tg=this.Di=this.oj=this.Uf=!1;this.Lb=0;this.Zi=this.fd=this.i.j;this.Eh=this.yd=this.xd=this.Ka=0;this.He=Math.ceil(this.b.ga.width/this.Da);this.pf=Math.ceil(this.b.ga.height/this.Da);this.Fa=[];this.Gg=!1;this.Uk=this.Tk=0;this.Ri=this.Vi=!1;this.qo=this.po=0;this.Oo=!0;var b=this;this.ec||(this.Qw=function(){b.Vi||(b.Ri=!1,b.Rt(),b.Tg=0<b.Fa.length,b.Lb=0,b.b.trigger(zc.prototype.g.Bs,b.i),b.Yk())},this.Pw=
function(){b.Vi||(b.Ri=!1,b.wo(),b.Tg=!1,b.Uf=!1,b.Lb=0,b.b.trigger(zc.prototype.g.ls,b.i),b.Yk())})};t.td=function(){this.Vi=!0;this.Gg=!1};t.Oa=function(){var b={cs:this.Da,cb:this.Pc,ms:this.pd,acc:this.Sb,dec:this.Wb,av:this.ci,re:this.Hj,de:this.wi,im:this.Uf,mfs:this.oj,ftmwm:this.Di,hp:this.Tg,mn:this.Lb,a:this.fd,lka:this.Zi,s:this.Ka,rx:this.xd,ry:this.yd,ra:this.Eh,myhc:this.He,myvc:this.pf,path:this.Fa,en:this.enabled,fr:this.Oo,obs:[],costs:[]};this.Ri?(b.dfp=!0,b.dpx=this.po,b.dpy=this.qo):
(b.dfp=this.Gg,b.dpx=this.Tk,b.dpy=this.Uk);var d,e;d=0;for(e=this.type.mc.length;d<e;d++)b.obs.push(this.type.mc[d].R);d=0;for(e=this.type.je.length;d<e;d++)b.costs.push({sid:this.type.je[d].fq.R,cost:this.type.je[d].zo});return b};t.bb=function(b){this.Da=b.cs;this.Pc=b.cb;this.pd=b.ms;this.Sb=b.acc;this.Wb=b.dec;this.ci=b.av;this.Hj=b.re;this.wi=b.de;this.Uf=b.im;this.oj=b.mfs;this.Di=b.ftmwm;this.Tg=b.hp;this.Lb=b.mn;this.fd=b.a;this.Zi=b.lka;this.Ka=b.s;this.xd=b.rx;this.yd=b.ry;this.Eh=b.ra;
this.He=b.myhc;this.pf=b.myvc;this.Fa=b.path;this.enabled=b.en;this.Oo=b.fr;this.Gg=b.dfp;this.Tk=b.dpx;this.Uk=b.dpy;H(this.type.mc);var d=b.obs,e,a,c;e=0;for(a=d.length;e<a;e++)(c=this.b.$e(d[e]))&&this.type.mc.push(c);H(this.type.je);b=b.costs;e=0;for(a=b.length;e<a;e++)(c=this.b.$e(b[e].sid))&&this.type.je.push({fq:c,zo:b[e].cost});this.Rf().Ie.setDiagonals(this.wi)};t.Ed=function(){this.Rf().Fh=!0};t.xb=function(){if(this.enabled&&this.Uf){this.Hj&&this.i.j!==this.Zi&&(this.fd=this.i.j);var b=
this.b.Qf(this.i),d,e,a,c,g,h=this.i,m=Math.min(.4*this.pd,2*Math.abs(this.i.width)),n=Math.max(1.5*this.Ka,30);this.Lb<this.Fa.length?(c=this.Fa[this.Lb].x,g=this.Fa[this.Lb].y,a=R(this.xd,this.yd,c,g),a<3*n*b&&(this.Lb++,this.xd=c,this.yd=g,this.Lb<this.Fa.length&&(c=this.Fa[this.Lb].x,g=this.Fa[this.Lb].y))):(c=this.Fa[this.Fa.length-1].x,g=this.Fa[this.Fa.length-1].y);this.Eh=Qa(this.xd,this.yd,c,g);a=R(h.x,h.y,this.xd,this.yd);a<m&&this.Lb<this.Fa.length&&(this.Di?this.Di=!1:m=n*b,this.xd+=Math.cos(this.Eh)*
m,this.yd+=Math.sin(this.Eh)*m);d=Qa(h.x,h.y,this.xd,this.yd);e=Ra(this.fd,d);m=R(h.x,h.y,this.Fa[this.Fa.length-1].x,this.Fa[this.Fa.length-1].y);n=this.pd*this.pd/(2*this.Wb);1<a&&(this.fd=Sa(this.fd,d,this.ci*b),.5>=La(e)?e=this.pd:120<=La(e)||this.oj&&0===this.Lb?(e=0,this.oj=!0):(d=e/this.ci,a=R(h.x,h.y,this.xd,this.yd),a=a/(2*Math.sin(e)),e=a*e/d,0>e&&(e=0),e>this.pd&&(e=this.pd)),m<n&&(e=Math.min(e,m/n*this.pd+this.pd/40)),this.Ka+=this.Sb*b,this.Ka>e&&(this.Ka=e));h.x+=Math.cos(this.fd)*this.Ka*
b;h.y+=Math.sin(this.fd)*this.Ka*b;this.Hj&&(this.Zi=h.j=this.fd);h.H();this.Lb===this.Fa.length&&R(h.x,h.y,c,g)<Math.max(3*this.Ka*b,10)&&(this.Tg=this.Uf=!1,this.Ka=this.Lb=0,this.b.trigger(zc.prototype.g.ds,h))}};t.Af=function(){this.enabled&&(this.qv(),this.Yk())};t.Yk=function(){this.Gg&&!this.Vi&&(this.Gg=!1,this.eu(this.i.x,this.i.y,this.Tk,this.Uk))};t.Rf=function(){var b=""+this.Da+","+this.Pc;m.hasOwnProperty(b)||(m[b]={Ie:new window.Pathfinder,cells:null,Fh:!1,vf:[]});return m[b]};t.qv=
function(){var b=this.Rf();if(!b.Ie.isReady()||b.Fh||b.vf.length){var d,e,a,c,g,h,m,n,q,l;if(!b.Ie.isReady()||b.Fh){this.He=Math.ceil(this.b.ga.width/this.Da);this.pf=Math.ceil(this.b.ga.height/this.Da);d=[];c=d.length=this.He;g=this.pf;for(e=0;e<c;++e)for(d[e]=[],d[e].length=g,a=0;a<g;++a)d[e][a]=this.zq(e,a);b.cells=d;b.Ie.init(this.He,this.pf,d,this.wi);b.Fh=!1;H(b.vf)}else if(b.vf.length){h=0;for(m=b.vf.length;h<m;++h){d=b.vf[h];n=d[0];q=d[1];c=d[2];e=d[3];d=[];c=c-n;g=e-q;d.length=c;for(e=0;e<
c;++e)for(d[e]=[],d[e].length=g,a=0;a<g;++a)l=this.zq(n+e,q+a),d[e][a]=l,b.cells[n+e][q+a]=l;b.Ie.updateRegion(n,q,c,g,d)}H(b.vf)}}};t.wo=function(){var b,d;b=0;for(d=this.Fa.length;b<d;b++)window.freeResultNode(this.Fa[b]);H(this.Fa)};t.Rt=function(){var b=this.Rf().Ie.pathList;this.wo();var d,e,a,c;d=0;for(e=b.length;d<e;d++)a=b[d],c=window.allocResultNode(),c.x=(a.x+.5)*this.Da,c.y=(a.y+.5)*this.Da,this.Fa.push(c)};var v=[],r=new ta;t.zq=function(b,d){var e,a,c,g,h,m=0;r.left=b*this.Da-this.Pc;
r.top=d*this.Da-this.Pc;r.right=(b+1)*this.Da+this.Pc;r.bottom=(d+1)*this.Da+this.Pc;if(0===this.Dw){if(this.b.Gx(r))return window.PF_OBSTACLE}else{this.b.Li(this.i.k,this.type.mc,r,v);e=0;for(a=v.length;e<a;++e)if(this.b.Zm(r,v[e]))return H(v),window.PF_OBSTACLE;v.length=0}e=0;for(a=this.type.je.length;e<a;e++){c=this.type.je[e].fq;h=this.type.je[e].zo;this.b.To(this.i.k,c,r,v);c=0;for(g=v.length;c<g;++c)this.b.Zm(r,v[c])&&(m+=h);H(v)}return m};t.eu=function(b,d,e,a){var c=this.Rf().Ie;if(c.isReady()){this.Ri=
!0;this.po=e;this.qo=a;b=Math.floor(b/this.Da);d=Math.floor(d/this.Da);e=Math.floor(e/this.Da);a=Math.floor(a/this.Da);var g,h,m,n,q,l,r;if(c.at(e,a)===window.PF_OBSTACLE){g=1E6;for(n=m=h=0;n<this.He;n++)for(q=0;q<this.pf;q++)c.at(n,q)!==window.PF_OBSTACLE&&(l=e-n,r=a-q,l=l*l+r*r,l<g&&(g=l,h=n,m=q));e=h;a=m}c.findPath(b,d,e,a,this.Qw,this.Pw)}};d.prototype.Bs=function(){return!0};d.prototype.ls=function(){return!0};d.prototype.yn=function(){return this.Uf};d.prototype.ds=function(){return!0};h.g=
new d;n.prototype.Hf=function(b){this.enabled=0!==b};t.Ag=function(b,d,e,a){var c=Math.min(b,e)-this.Pc,g=Math.min(d,a)-this.Pc;b=Math.max(b,e)+this.Pc;d=Math.max(d,a)+this.Pc;c=Math.max(Math.floor(c/this.Da),0);g=Math.max(Math.floor(g/this.Da),0);b=Math.min(Math.ceil(b/this.Da),this.He);d=Math.min(Math.ceil(d/this.Da),this.pf);c>=b||g>=d||this.Rf().vf.push([c,g,b,d])};h.A=new n;h.T=new function(){}})();function Ac(d){this.b=d}
(function(){var d=Ac.prototype;d.ba=function(d){this.behavior=d;this.b=d.b};d.ba.prototype.J=function(){};d.Q=function(d,h){this.type=d;this.behavior=d.behavior;this.i=h;this.b=d.b};var n=d.Q.prototype;n.J=function(){this.Qb={}};n.td=function(){Ya(this.Qb)};n.Oa=function(){var d={},h,n;for(h in this.Qb)this.Qb.hasOwnProperty(h)&&(n=this.Qb[h],d[h]={c:n.current.X,t:n.total.X,d:n.duration,r:n.Bq});return d};n.bb=function(d){this.Qb={};for(var h in d)d.hasOwnProperty(h)&&(this.Qb[h]={current:new db,
total:new db,duration:d[h].d,Bq:d[h].r},this.Qb[h].current.X=d[h].c,this.Qb[h].total.X=d[h].t)};n.xb=function(){var d=this.b.Qf(this.i),h,n;for(h in this.Qb)this.Qb.hasOwnProperty(h)&&(n=this.Qb[h],n.current.add(d),n.total.add(d))};n.Af=function(){var d,h;for(d in this.Qb)this.Qb.hasOwnProperty(d)&&(h=this.Qb[d],h.current.X>=h.duration&&(h.Bq?h.current.X-=h.duration:delete this.Qb[d]))};d.g=new function(){};d.A=new function(){};d.T=new function(){}})();
function Bc(d){this.b=d;this.Qm=this.Qj=this.Kh=this.Pm=0}
(function(){function d(){}var n=Bc.prototype;n.ba=function(d){this.behavior=d;this.b=d.b};n.ba.prototype.J=function(){};n.Q=function(d,m){this.type=d;this.behavior=d.behavior;this.i=m;this.b=d.b};var m=n.Q.prototype;m.J=function(){this.enabled=0!==this.u[0]};m.Oa=function(){return{smg:this.behavior.Pm,ss:this.behavior.Kh,se:this.behavior.Qj,smd:this.behavior.Qm}};m.bb=function(d){this.behavior.Pm=d.smg;this.behavior.Kh=d.ss;this.behavior.Qj=d.se;this.behavior.Qm=d.smd};m.xb=function(){};m.Af=function(){if(this.enabled){var d=
this.behavior.uh.qc(),m=0,n=0,r,b,f,e=0;r=0;for(b=d.length;r<b;r++){a:{f=d[r];for(var a=void 0,c=void 0,g=void 0,a=0,c=f.K.length;a<c;++a)if(g=f.K[a],g.behavior instanceof Bc){f=g;break a}f=null}f&&f.enabled&&(m+=d[r].x,n+=d[r].y,++e)}d=this.i.k.Ua;b=this.b.$b.X;f=r=0;b>=this.behavior.Kh&&b<this.behavior.Qj&&(r=this.behavior.Pm*Math.min(this.b.ng,1),0===this.behavior.Qm&&(r*=1-(b-this.behavior.Kh)/(this.behavior.Qj-this.behavior.Kh)),b=Math.random()*Math.PI*2,f=Math.random()*r,r=Math.cos(b)*f,f*=
Math.sin(b));d.Mm(m/e+r);d.Nm(n/e+f)}};d.prototype.Hf=function(d){this.enabled=0!==d};n.A=new d})();function qc(d){this.b=d;this.km=[]}
(function(){function d(){}function n(){}function m(){}var h=qc.prototype;h.ba=function(d,h){this.behavior=d;this.b=d.b;-1===this.behavior.km.indexOf(h)&&this.behavior.km.push(h)};h.ba.prototype.J=function(){};h.Q=function(d,h){this.type=d;this.behavior=d.behavior;this.i=h;this.b=d.b};var t=h.Q.prototype;t.J=function(){this.i.I.shadowcasterEnabled=0!==this.u[0];this.i.I.shadowcasterHeight=this.u[1];this.i.I.shadowcasterTag=this.u[2]};t.xb=function(){};d.prototype.Dr=function(d,h){return ec(this.i.I.shadowcasterHeight,
d,h)};h.g=new d;n.prototype.Hf=function(d){this.i.I.shadowcasterEnabled=!!d};n.prototype.Vs=function(d){this.i.I.shadowcasterHeight!==d&&(this.i.I.shadowcasterHeight=d,this.b.Z=!0)};h.A=new n;m.prototype.Jr=function(d){d.C(this.i.I.shadowcasterHeight)};h.T=new m})();function pc(d){this.b=d}
(function(){function d(){}var n=pc.prototype;n.ba=function(d){this.behavior=d;this.b=d.b};n.ba.prototype.J=function(){};n.Q=function(d,m){this.type=d;this.behavior=d.behavior;this.i=m;this.b=d.b};var m=n.Q.prototype;m.J=function(){this.i.I.solidEnabled=0!==this.u[0]};m.xb=function(){};n.g=new function(){};d.prototype.Hf=function(d){this.i.I.solidEnabled=!!d};n.A=new d})();
function oc(){return[X,Y,rc,sc,tc,Z,U,uc,wc,Bc,yc,xc,pc,qc,zc,vc,Ac,U.prototype.g.Er,Y.prototype.T.Yr,Bc.prototype.A.Hf,Z.prototype.g.An,X.prototype.g.Nr,X.prototype.A.Ps,X.prototype.A.Vr,Z.prototype.g.Qr,U.prototype.A.bt,Z.prototype.T.sk,Z.prototype.T.tk,Z.prototype.g.qk,U.prototype.g.Lr,U.prototype.A.Ss,T.prototype.g.Cr,T.prototype.T.$t,U.prototype.T.sk,U.prototype.T.tk,U.prototype.A.$s,U.prototype.A.Un,U.prototype.A.Tn,T.prototype.g.En,T.prototype.A.Xs,uc.prototype.A.Ys,T.prototype.T.nx,Y.prototype.A.lt,
Y.prototype.A.sr,Y.prototype.A.mt,yc.prototype.g.Ir,xc.prototype.g.Bn,sc.prototype.A.Un,U.prototype.A.Rs,T.prototype.g.Hr,wc.prototype.T.pt,U.prototype.A.Ws,U.prototype.A.Zs,T.prototype.g.Or,T.prototype.g.ot,Y.prototype.g.Sr,sc.prototype.A.ur,Y.prototype.A.ht,Y.prototype.g.Mn,Y.prototype.A.it,T.prototype.T.round,T.prototype.T.random,Y.prototype.g.Qn,Y.prototype.A.gt,Y.prototype.g.Pn,T.prototype.T.Bw,Y.prototype.g.Pr,T.prototype.A.qt,Y.prototype.A.yr,U.prototype.A.Gr,T.prototype.A.Us,Y.prototype.g.On,
Y.prototype.g.Jn,Y.prototype.g.Kn,Y.prototype.g.Nn,T.prototype.A.Fr,Y.prototype.T.Ns,U.prototype.A.Xr,Y.prototype.T.Os,T.prototype.T.Rv,wc.prototype.A.jt,xc.prototype.A.et,xc.prototype.A.kt,T.prototype.T.Zv,xc.prototype.A.Qs,uc.prototype.A.Tn,rc.prototype.g.Rr,wc.prototype.A.dt,wc.prototype.A.ct,wc.prototype.g.yn,T.prototype.T.Cx,U.prototype.g.Ff,T.prototype.g.xn,Y.prototype.A.Ts,U.prototype.A.xt,U.prototype.A.Wr,T.prototype.T.j]};
