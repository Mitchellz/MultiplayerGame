// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,da,ea,fa,ga,ha,v,ia,ja,ka,la,ma,na,F,oa,qa,M,ra,sa,ta,wa,xa,Aa,Ba,Ca,T,Da,Ea,Fa,Ga,Ha,W,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc={},ec={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(d){return d.__proto__}:function(d){return d.constructor.prototype});
(function(){function d(a,c,b,e){this.set(a,c,b,e)}function l(){this.lb=this.kb=this.nb=this.mb=this.yb=this.xb=this.Xa=this.Wa=0}function n(a,c,b,e){a<c?b<e?(t=a<b?a:b,w=c>e?c:e):(t=a<e?a:e,w=c>b?c:b):b<e?(t=c<b?c:b,w=a>e?a:e):(t=c<e?c:e,w=a>b?a:b)}function g(){this.items=this.Ka=null;this.Sg=0;B&&(this.Ka=new Set);this.ig=[];this.Wd=!0}function r(a){H[K++]=a}function q(){this.V=this.Hj=this.y=this.ck=0}function p(a){this.Ja=[];this.Th=this.Vh=this.Wh=this.Uh=0;this.xh(a)}function b(a,c){this.hk=
a;this.gk=c;this.cells={}}function f(a,c){this.hk=a;this.gk=c;this.cells={}}function e(a,c,b){var e;return A.length?(e=A.pop(),e.Uk=a,e.x=c,e.y=b,e):new ba(a,c,b)}function a(a,c,b){this.Uk=a;this.x=c;this.y=b;this.ab=new ca}function c(a,c,b){var e;return C.length?(e=C.pop(),e.Uk=a,e.x=c,e.y=b,e):new da(a,c,b)}function k(a,c,b){this.Uk=a;this.x=c;this.y=b;this.ab=[];this.Of=!0;this.pd=new ca;this.ng=!1}function h(a,c){return a.Zc-c.Zc}ea=function(a){window.console&&window.console.log&&window.console.log(a)};
fa=function(a){window.console&&window.console.error&&window.console.error(a)};aa=function(a){return a};ga=function(a){return"undefined"===typeof a};ha=function(a){return"number"===typeof a};v=function(a){return"string"===typeof a};ia=function(a){return 0<a&&0===(a-1&a)};ja=function(a){--a;for(var c=1;32>c;c<<=1)a=a|a>>c;return a+1};ka=function(a){return 0>a?-a:a};la=function(a,c){return a>c?a:c};ma=function(a,c){return a<c?a:c};na=Math.PI;F=function(a){return 0<=a?a|0:(a|0)-1};oa=function(a){var c=
a|0;return c===a?c:c+1};qa=function(a,c,b,e,f,h,k,m){var x,y,z,t;a<b?(y=a,x=b):(y=b,x=a);f<k?(t=f,z=k):(t=k,z=f);if(x<t||y>z)return!1;c<e?(y=c,x=e):(y=e,x=c);h<m?(t=h,z=m):(t=m,z=h);if(x<t||y>z)return!1;x=f-a+k-b;y=h-c+m-e;a=b-a;c=e-c;f=k-f;h=m-h;m=ka(c*f-h*a);return ka(f*y-h*x)>m?!1:ka(a*y-c*x)<=m};d.prototype.set=function(a,c,b,e){this.left=a;this.top=c;this.right=b;this.bottom=e};d.prototype.tg=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};d.prototype.width=
function(){return this.right-this.left};d.prototype.height=function(){return this.bottom-this.top};d.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};d.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};d.prototype.fl=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};d.prototype.gl=
function(a,c,b){return!(a.right+c<this.left||a.bottom+b<this.top||a.left+c>this.right||a.top+b>this.bottom)};d.prototype.ob=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};d.prototype.zg=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};M=d;l.prototype.ud=function(a){this.Wa=a.left;this.Xa=a.top;this.xb=a.right;this.yb=a.top;this.mb=a.right;this.nb=a.bottom;this.kb=a.left;this.lb=a.bottom};l.prototype.Yp=function(a,
c){if(0===c)this.ud(a);else{var b=Math.sin(c),e=Math.cos(c),f=a.left*b,h=a.top*b,k=a.right*b,b=a.bottom*b,m=a.left*e,x=a.top*e,y=a.right*e,e=a.bottom*e;this.Wa=m-h;this.Xa=x+f;this.xb=y-h;this.yb=x+k;this.mb=y-b;this.nb=e+k;this.kb=m-b;this.lb=e+f}};l.prototype.offset=function(a,c){this.Wa+=a;this.Xa+=c;this.xb+=a;this.yb+=c;this.mb+=a;this.nb+=c;this.kb+=a;this.lb+=c;return this};var t=0,w=0;l.prototype.zn=function(a){n(this.Wa,this.xb,this.mb,this.kb);a.left=t;a.right=w;n(this.Xa,this.yb,this.nb,
this.lb);a.top=t;a.bottom=w};l.prototype.ob=function(a,c){var b=this.Wa,e=this.Xa,f=this.xb-b,h=this.yb-e,k=this.mb-b,m=this.nb-e,x=a-b,y=c-e,z=f*f+h*h,t=f*k+h*m,h=f*x+h*y,d=k*k+m*m,u=k*x+m*y,w=1/(z*d-t*t),f=(d*h-t*u)*w,z=(z*u-t*h)*w;if(0<=f&&0<z&&1>f+z)return!0;f=this.kb-b;h=this.lb-e;z=f*f+h*h;t=f*k+h*m;h=f*x+h*y;w=1/(z*d-t*t);f=(d*h-t*u)*w;z=(z*u-t*h)*w;return 0<=f&&0<z&&1>f+z};l.prototype.qc=function(a,c){if(c)switch(a){case 0:return this.Wa;case 1:return this.xb;case 2:return this.mb;case 3:return this.kb;
case 4:return this.Wa;default:return this.Wa}else switch(a){case 0:return this.Xa;case 1:return this.yb;case 2:return this.nb;case 3:return this.lb;case 4:return this.Xa;default:return this.Xa}};l.prototype.mp=function(){return(this.Wa+this.xb+this.mb+this.kb)/4};l.prototype.np=function(){return(this.Xa+this.yb+this.nb+this.lb)/4};l.prototype.Ng=function(a,c,b,e){if(this.ob(a,c)||this.ob(b,e))return!0;var f,h,k,m,x;for(x=0;4>x;x++)if(f=this.qc(x,!0),h=this.qc(x,!1),k=this.qc(x+1,!0),m=this.qc(x+1,
!1),qa(a,c,b,e,f,h,k,m))return!0;return!1};l.prototype.el=function(a){var c=a.mp(),b=a.np();if(this.ob(c,b))return!0;c=this.mp();b=this.np();if(a.ob(c,b))return!0;var e,f,h,k,m,x,y,z;for(y=0;4>y;y++)for(z=0;4>z;z++)if(c=this.qc(y,!0),b=this.qc(y,!1),e=this.qc(y+1,!0),f=this.qc(y+1,!1),h=a.qc(z,!0),k=a.qc(z,!1),m=a.qc(z+1,!0),x=a.qc(z+1,!1),qa(c,b,e,f,h,k,m,x))return!0;return!1};ra=l;sa=function(a,c,b){return Math.max(Math.min(a,255),0)|Math.max(Math.min(c,255),0)<<8|Math.max(Math.min(b,255),0)<<16};
ta=function(a){return a&255};wa=function(a){return(a&65280)>>8};xa=function(a){return(a&16711680)>>16};Aa=function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a};Ba=function(a,c){var b,e;c=F(c);if(!(0>c||c>=a.length)){b=c;for(e=a.length-1;b<e;b++)a[b]=a[b+1];Ca(a,e)}};Ca=function(a,c){a.length=c};T=function(a){Ca(a,0)};Da=function(a,c){T(a);var b,e;b=0;for(e=c.length;b<e;++b)a[b]=c[b]};Ea=function(a,c){a.push.apply(a,c)};Fa=function(a,c){var b,e;b=0;for(e=a.length;b<e;++b)if(a[b]===
c)return b;return-1};Ga=function(a,c){var b=Fa(a,c);-1!==b&&Ba(a,b)};Ha=function(a,c,b){return a<c?c:a>b?b:a};W=function(a){return a/(180/na)};Ia=function(a){return 180/na*a};Ja=function(a){a%=360;0>a&&(a+=360);return a};Ka=function(a){a%=2*na;0>a&&(a+=2*na);return a};La=function(a){return Ja(Ia(a))};Ma=function(a){return Ka(W(a))};Na=function(a,c,b,e){return Math.atan2(e-c,b-a)};Oa=function(a,c){if(a===c)return 0;var b=Math.sin(a),e=Math.cos(a),f=Math.sin(c),h=Math.cos(c),b=b*f+e*h;return 1<=b?0:
-1>=b?na:Math.acos(b)};Pa=function(a,c,b){var e=Math.sin(a),f=Math.cos(a),h=Math.sin(c),k=Math.cos(c);return Math.acos(e*h+f*k)>b?0<f*h-e*k?Ka(a+b):Ka(a-b):Ka(c)};Qa=function(a,c){var b=Math.sin(a),e=Math.cos(a),f=Math.sin(c),h=Math.cos(c);return 0>=e*f-b*h};Ra=function(a,c,b,e){a=b-a;c=e-c;return Math.sqrt(a*a+c*c)};Sa=function(a,c){return!a!==!c};Ta=function(a,c,b){return a===c?0:(b-a)/(c-a)};Ua=function(a,c,b){var e=Oa(a,c);return Qa(c,a)?a+e*b:a-e*b};Va=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;
return!1};Wa=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var G=+new Date;Xa=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-G};var m=!1,u=m=!1,Q=!1;"undefined"!==typeof window&&(m=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
m=!m&&/safari/i.test(navigator.userAgent),u=/(iphone|ipod|ipad)/i.test(navigator.userAgent),Q=window.c2ejecta);var B=!m&&!Q&&!u&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;g.prototype.contains=function(a){return this.Fd()?!1:B?this.Ka.has(a):this.items&&this.items.hasOwnProperty(a)};g.prototype.add=function(a){if(B)this.Ka.has(a)||(this.Ka.add(a),this.Wd=!1);else{var c=a.toString(),b=this.items;b?b.hasOwnProperty(c)||(b[c]=a,this.Sg++,this.Wd=!1):(this.items={},this.items[c]=
a,this.Sg=1,this.Wd=!1)}};g.prototype.remove=function(a){if(!this.Fd())if(B)this.Ka.has(a)&&(this.Ka["delete"](a),this.Wd=!1);else if(this.items){a=a.toString();var c=this.items;c.hasOwnProperty(a)&&(delete c[a],this.Sg--,this.Wd=!1)}};g.prototype.clear=function(){this.Fd()||(B?this.Ka.clear():(this.items=null,this.Sg=0),T(this.ig),this.Wd=!0)};g.prototype.Fd=function(){return 0===this.count()};g.prototype.count=function(){return B?this.Ka.size:this.Sg};var H=null,K=0;g.prototype.vw=function(){if(!this.Wd){if(B)T(this.ig),
H=this.ig,K=0,this.Ka.forEach(r),H=null,K=0;else{var a=this.ig;T(a);var c,b=0,e=this.items;if(e)for(c in e)e.hasOwnProperty(c)&&(a[b++]=e[c])}this.Wd=!0}};g.prototype.pc=function(){this.vw();return this.ig};ca=g;var N=new ca;Ya=function(a){var c,b;c=0;for(b=a.length;c<b;++c)N.add(a[c]);Da(a,N.pc());N.clear()};Za=function(a,c){B?$a(a,c.Ka):ab(a,c.pc())};$a=function(a,c){var b,e,f,h;e=b=0;for(f=a.length;b<f;++b)h=a[b],c.has(h)||(a[e++]=h);Ca(a,e)};ab=function(a,c){var b,e,f,h;e=b=0;for(f=a.length;b<
f;++b)h=a[b],-1===Fa(c,h)&&(a[e++]=h);Ca(a,e)};q.prototype.add=function(a){this.y=a-this.ck;this.Hj=this.V+this.y;this.ck=this.Hj-this.V-this.y;this.V=this.Hj};q.prototype.reset=function(){this.V=this.Hj=this.y=this.ck=0};bb=q;cb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};p.prototype.xh=function(a){this.Hp=a;this.lc=a.length/2;this.Ja.length=a.length;this.Zh=this.$h=-1;this.Cn=0};p.prototype.hd=function(){return!this.Hp.length};p.prototype.Z=function(){for(var a=this.Ja,c=a[0],
b=c,e=a[1],f=e,h,k,m=1,x=this.lc;m<x;++m)k=2*m,h=a[k],k=a[k+1],h<c&&(c=h),h>b&&(b=h),k<e&&(e=k),k>f&&(f=k);this.Uh=c;this.Vh=b;this.Wh=e;this.Th=f};p.prototype.ud=function(a,c,b){this.Ja.length=8;this.lc=4;var e=this.Ja;e[0]=a.left-c;e[1]=a.top-b;e[2]=a.right-c;e[3]=a.top-b;e[4]=a.right-c;e[5]=a.bottom-b;e[6]=a.left-c;e[7]=a.bottom-b;this.$h=a.right-a.left;this.Zh=a.bottom-a.top;this.Z()};p.prototype.Md=function(a,c,b,e,f){this.Ja.length=8;this.lc=4;var h=this.Ja;h[0]=a.Wa-c;h[1]=a.Xa-b;h[2]=a.xb-
c;h[3]=a.yb-b;h[4]=a.mb-c;h[5]=a.nb-b;h[6]=a.kb-c;h[7]=a.lb-b;this.$h=e;this.Zh=f;this.Z()};p.prototype.Xp=function(a){this.lc=a.lc;Da(this.Ja,a.Ja);this.Uh=a.Uh;this.Wh-a.Wh;this.Vh=a.Vh;this.Th=a.Th};p.prototype.cd=function(a,c,b){if(this.$h!==a||this.Zh!==c||this.Cn!==b){this.$h=a;this.Zh=c;this.Cn=b;var e,f,h,k,m,x=0,y=1,z=this.Hp,t=this.Ja;0!==b&&(x=Math.sin(b),y=Math.cos(b));b=0;for(h=this.lc;b<h;b++)e=2*b,f=e+1,k=z[e]*a,m=z[f]*c,t[e]=k*y-m*x,t[f]=m*y+k*x;this.Z()}};p.prototype.ob=function(a,
c){var b=this.Ja;if(a===b[0]&&c===b[1])return!0;var e,f,h,k=this.lc,m=this.Uh-110,x=this.Wh-101,y=this.Vh+131,z=this.Th+120,t,d,u=0,w=0;for(e=0;e<k;e++)f=2*e,h=(e+1)%k*2,t=b[f],f=b[f+1],d=b[h],h=b[h+1],qa(m,x,a,c,t,f,d,h)&&u++,qa(y,z,a,c,t,f,d,h)&&w++;return 1===u%2||1===w%2};p.prototype.We=function(a,c,b){var e=a.Ja,f=this.Ja;if(this.ob(e[0]+c,e[1]+b)||a.ob(f[0]-c,f[1]-b))return!0;var h,k,m,x,y,z,t,d,u,w,p,G;h=0;for(x=this.lc;h<x;h++)for(k=2*h,m=(h+1)%x*2,d=f[k],k=f[k+1],u=f[m],w=f[m+1],m=0,t=a.lc;m<
t;m++)if(y=2*m,z=(m+1)%t*2,p=e[y]+c,y=e[y+1]+b,G=e[z]+c,z=e[z+1]+b,qa(d,k,u,w,p,y,G,z))return!0;return!1};p.prototype.Ng=function(a,c,b,e,f,h){var k=this.Ja;if(this.ob(b-a,e-c))return!0;var m,x,y,z,t,d;m=0;for(x=this.lc;m<x;m++)if(y=2*m,z=(m+1)%x*2,t=k[y]+a,y=k[y+1]+c,d=k[z]+a,z=k[z+1]+c,qa(b,e,f,h,t,y,d,z))return!0;return!1};eb=p;b.prototype.ge=function(a,c,b){var f;f=this.cells[a];return f?(f=f[c])?f:b?(f=e(this,a,c),this.cells[a][c]=f):null:b?(f=e(this,a,c),this.cells[a]={},this.cells[a][c]=f):
null};b.prototype.Bb=function(a){return F(a/this.hk)};b.prototype.Cb=function(a){return F(a/this.gk)};b.prototype.update=function(a,c,b){var e,f,h,k,m;if(c)for(e=c.left,f=c.right;e<=f;++e)for(h=c.top,k=c.bottom;h<=k;++h)if(!b||!b.ob(e,h))if(m=this.ge(e,h,!1))m.remove(a),m.Fd()&&(m.ab.clear(),1E3>A.length&&A.push(m),this.cells[e][h]=null);if(b)for(e=b.left,f=b.right;e<=f;++e)for(h=b.top,k=b.bottom;h<=k;++h)c&&c.ob(e,h)||this.ge(e,h,!0).bl(a)};b.prototype.mj=function(a,c){var b,e,f,h,k,m;b=this.Bb(a.left);
f=this.Cb(a.top);e=this.Bb(a.right);for(k=this.Cb(a.bottom);b<=e;++b)for(h=f;h<=k;++h)(m=this.ge(b,h,!1))&&m.dump(c)};fb=b;f.prototype.ge=function(a,b,e){var f;f=this.cells[a];return f?(f=f[b])?f:e?(f=c(this,a,b),this.cells[a][b]=f):null:e?(f=c(this,a,b),this.cells[a]={},this.cells[a][b]=f):null};f.prototype.Bb=function(a){return F(a/this.hk)};f.prototype.Cb=function(a){return F(a/this.gk)};f.prototype.update=function(a,c,b){var e,f,h,k,m;if(c)for(e=c.left,f=c.right;e<=f;++e)for(h=c.top,k=c.bottom;h<=
k;++h)if(!b||!b.ob(e,h))if(m=this.ge(e,h,!1))m.remove(a),m.Fd()&&(m.reset(),1E3>C.length&&C.push(m),this.cells[e][h]=null);if(b)for(e=b.left,f=b.right;e<=f;++e)for(h=b.top,k=b.bottom;h<=k;++h)c&&c.ob(e,h)||this.ge(e,h,!0).bl(a)};f.prototype.mj=function(a,c,b,e,f){var h,k;a=this.Bb(a);c=this.Cb(c);b=this.Bb(b);for(h=this.Cb(e);a<=b;++a)for(e=c;e<=h;++e)(k=this.ge(a,e,!1))&&k.dump(f)};f.prototype.kv=function(a){var c,b,e,f,h;c=a.left;e=a.top;b=a.right;for(f=a.bottom;c<=b;++c)for(a=e;a<=f;++a)if(h=this.ge(c,
a,!1))h.Of=!1};gb=f;var A=[];a.prototype.Fd=function(){return this.ab.Fd()};a.prototype.bl=function(a){this.ab.add(a)};a.prototype.remove=function(a){this.ab.remove(a)};a.prototype.dump=function(a){Ea(a,this.ab.pc())};ba=a;var C=[];k.prototype.Fd=function(){if(!this.ab.length)return!0;if(this.ab.length>this.pd.count())return!1;this.Hk();return!0};k.prototype.bl=function(a){this.pd.contains(a)?(this.pd.remove(a),this.pd.Fd()&&(this.ng=!1)):this.ab.length?(this.ab[this.ab.length-1].gd()>a.gd()&&(this.Of=
!1),this.ab.push(a)):(this.ab.push(a),this.Of=!0)};k.prototype.remove=function(a){this.pd.add(a);this.ng=!0;30<=this.pd.count()&&this.Hk()};k.prototype.Hk=function(){this.ng&&(this.pd.count()===this.ab.length?this.reset():(Za(this.ab,this.pd),this.pd.clear(),this.ng=!1))};k.prototype.xt=function(){this.Of||(this.ab.sort(h),this.Of=!0)};k.prototype.reset=function(){T(this.ab);this.Of=!0;this.pd.clear();this.ng=!1};k.prototype.dump=function(a){this.Hk();this.xt();this.ab.length&&a.push(this.ab)};da=
k;var P="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");hb=function(a){return 0>=a||11<=a?"source-over":P[a-1]};ib=function(a,c,b){if(b)switch(a.tb=b.ONE,a.qb=b.ONE_MINUS_SRC_ALPHA,c){case 1:a.tb=b.ONE;a.qb=b.ONE;break;case 3:a.tb=b.ONE;a.qb=b.ZERO;break;case 4:a.tb=b.ONE_MINUS_DST_ALPHA;a.qb=b.ONE;break;case 5:a.tb=b.DST_ALPHA;a.qb=b.ZERO;break;case 6:a.tb=b.ZERO;a.qb=b.SRC_ALPHA;break;case 7:a.tb=b.ONE_MINUS_DST_ALPHA;
a.qb=b.ZERO;break;case 8:a.tb=b.ZERO;a.qb=b.ONE_MINUS_SRC_ALPHA;break;case 9:a.tb=b.DST_ALPHA;a.qb=b.ONE_MINUS_SRC_ALPHA;break;case 10:a.tb=b.ONE_MINUS_DST_ALPHA,a.qb=b.SRC_ALPHA}};jb=function(a){return Math.round(1E6*a)/1E6};kb=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};lb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||kb(a.tagName,"canvas")?!0:!1}})();
var fc="undefined"!==typeof Float32Array?Float32Array:Array;function gc(d){var l=new fc(3);d&&(l[0]=d[0],l[1]=d[1],l[2]=d[2]);return l}function hc(d){var l=new fc(16);d&&(l[0]=d[0],l[1]=d[1],l[2]=d[2],l[3]=d[3],l[4]=d[4],l[5]=d[5],l[6]=d[6],l[7]=d[7],l[8]=d[8],l[9]=d[9],l[10]=d[10],l[11]=d[11],l[12]=d[12],l[13]=d[13],l[14]=d[14],l[15]=d[15]);return l}
function ic(d,l){l[0]=d[0];l[1]=d[1];l[2]=d[2];l[3]=d[3];l[4]=d[4];l[5]=d[5];l[6]=d[6];l[7]=d[7];l[8]=d[8];l[9]=d[9];l[10]=d[10];l[11]=d[11];l[12]=d[12];l[13]=d[13];l[14]=d[14];l[15]=d[15]}function jc(d,l){var n=l[0],g=l[1];l=l[2];d[0]*=n;d[1]*=n;d[2]*=n;d[3]*=n;d[4]*=g;d[5]*=g;d[6]*=g;d[7]*=g;d[8]*=l;d[9]*=l;d[10]*=l;d[11]*=l}
function kc(d,l,n,g){g||(g=hc());var r,q,p,b,f,e,a,c,k=d[0],h=d[1];d=d[2];q=n[0];p=n[1];r=n[2];n=l[1];e=l[2];k===l[0]&&h===n&&d===e?(d=g,d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1):(n=k-l[0],e=h-l[1],a=d-l[2],c=1/Math.sqrt(n*n+e*e+a*a),n*=c,e*=c,a*=c,l=p*a-r*e,r=r*n-q*a,q=q*e-p*n,(c=Math.sqrt(l*l+r*r+q*q))?(c=1/c,l*=c,r*=c,q*=c):q=r=l=0,p=e*q-a*r,b=a*l-n*q,f=n*r-e*l,(c=Math.sqrt(p*p+b*b+f*f))?(c=1/c,p*=c,b*=c,f*=c):f=b=p=0,
g[0]=l,g[1]=p,g[2]=n,g[3]=0,g[4]=r,g[5]=b,g[6]=e,g[7]=0,g[8]=q,g[9]=f,g[10]=a,g[11]=0,g[12]=-(l*k+r*h+q*d),g[13]=-(p*k+b*h+f*d),g[14]=-(n*k+e*h+a*d),g[15]=1)}
(function(){function d(b,f,e){this.le=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.oa=!!e;this.Ei=this.Og=!1;this.hi=0;this.Vj=1;this.Sm=1E3;this.Cw=(this.Sm-this.Vj)/32768;this.ek=gc([0,0,100]);this.Uo=gc([0,0,0]);this.sq=gc([0,1,0]);this.Mh=gc([1,1,1]);this.Vn=!0;this.bj=hc();this.jc=hc();this.ul=hc();this.rk=hc();this.u=b;this.version=0===this.u.getParameter(this.u.VERSION).indexOf("WebGL 2")?2:1;this.yo()}function l(b,f,e){this.u=b;this.yh=
f;this.name=e;this.sc=b.getAttribLocation(f,"aPos");this.xe=b.getAttribLocation(f,"aTex");this.So=b.getUniformLocation(f,"matP");this.Xi=b.getUniformLocation(f,"matMV");this.Vf=b.getUniformLocation(f,"opacity");this.Fl=b.getUniformLocation(f,"colorFill");this.To=b.getUniformLocation(f,"samplerFront");this.bh=b.getUniformLocation(f,"samplerBack");this.ef=b.getUniformLocation(f,"destStart");this.df=b.getUniformLocation(f,"destEnd");this.eh=b.getUniformLocation(f,"seconds");this.Hl=b.getUniformLocation(f,
"pixelWidth");this.Gl=b.getUniformLocation(f,"pixelHeight");this.ah=b.getUniformLocation(f,"layerScale");this.$g=b.getUniformLocation(f,"layerAngle");this.fh=b.getUniformLocation(f,"viewOrigin");this.dh=b.getUniformLocation(f,"scrollPos");this.Nu=!!(this.Hl||this.Gl||this.eh||this.bh||this.ef||this.df||this.ah||this.$g||this.fh||this.dh);this.cp=this.dp=-999;this.aj=1;this.Yo=this.Xo=0;this.$o=this.Wo=this.Vo=1;this.gp=this.fp=this.ep=this.jp=this.ip=this.Zo=0;this.tl=[];this.bp=hc();this.Vf&&b.uniform1f(this.Vf,
1);this.Fl&&b.uniform4f(this.Fl,1,1,1,1);this.To&&b.uniform1i(this.To,0);this.bh&&b.uniform1i(this.bh,1);this.ef&&b.uniform2f(this.ef,0,0);this.df&&b.uniform2f(this.df,1,1);this.ah&&b.uniform1f(this.ah,1);this.$g&&b.uniform1f(this.$g,0);this.fh&&b.uniform2f(this.fh,0,0);this.dh&&b.uniform2f(this.dh,0,0);this.eh&&b.uniform1f(this.eh,0);this.Ue=!1}function n(b,f){return b[0]===f[0]&&b[1]===f[1]&&b[2]===f[2]&&b[3]===f[3]&&b[4]===f[4]&&b[5]===f[5]&&b[6]===f[6]&&b[7]===f[7]&&b[8]===f[8]&&b[9]===f[9]&&
b[10]===f[10]&&b[11]===f[11]&&b[12]===f[12]&&b[13]===f[13]&&b[14]===f[14]&&b[15]===f[15]}function g(b,f){this.type=b;this.n=f;this.u=f.u;this.hc=this.ub=this.zp=0;this.T=this.yc=null;this.Zp=[]}var r=hc();d.prototype.yo=function(){var b=this.u,f;this.Mo=1;this.$e=this.pe=null;this.gi=1;b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);b.enable(b.BLEND);b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA);b.disable(b.CULL_FACE);b.disable(b.STENCIL_TEST);b.disable(b.DITHER);this.oa?(b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL)):
b.disable(b.DEPTH_TEST);this.No=b.ONE;this.Jo=b.ONE_MINUS_SRC_ALPHA;this.Kh=new Float32Array(8E3*(this.oa?3:2));this.Eh=new Float32Array(16E3);this.Ep=new Float32Array(32E3);this.Ul=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,this.Ul);b.bufferData(b.ARRAY_BUFFER,this.Ep.byteLength,b.DYNAMIC_DRAW);this.Jh=Array(4);this.Dh=Array(4);for(f=0;4>f;f++)this.Jh[f]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.Jh[f]),b.bufferData(b.ARRAY_BUFFER,this.Kh.byteLength,b.DYNAMIC_DRAW),this.Dh[f]=b.createBuffer(),
b.bindBuffer(b.ARRAY_BUFFER,this.Dh[f]),b.bufferData(b.ARRAY_BUFFER,this.Eh.byteLength,b.DYNAMIC_DRAW);this.zd=0;this.Qu=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.Qu);for(var e=new Uint16Array(12E3),a=f=0;12E3>f;)e[f++]=a,e[f++]=a+1,e[f++]=a+2,e[f++]=a,e[f++]=a+2,e[f++]=a+3,a+=4;b.bufferData(b.ELEMENT_ARRAY_BUFFER,e,b.STATIC_DRAW);this.Vl=this.Fe=this.Bc=0;this.Ha=[];f=this.oa?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";e=this.ug({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},f,"<default>");this.Ha.push(e);e=this.ug({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ha.push(e);e=this.ug({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},f,"<earlyz>");this.Ha.push(e);e=this.ug({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
f,"<fill>");this.Ha.push(e);for(var c in lc)lc.hasOwnProperty(c)&&this.Ha.push(this.ug(lc[c],f,c));b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,null);this.bd=[];this.Gc=0;this.Ya=!1;this.Pn=this.Tg=-1;this.Cf=null;this.Gk=b.createFramebuffer();this.ji=this.qj=null;this.xn=!1;this.oa&&(this.ji=b.createRenderbuffer());this.Ge=gc([0,0,0]);this.kp=b.getParameter(b.ALIASED_POINT_SIZE_RANGE)[1];2048<this.kp&&(this.kp=2048);this.Mb(0)};l.prototype.Mm=function(b){n(this.bp,b)||(ic(b,this.bp),this.u.uniformMatrix4fv(this.Xi,
!1,b))};d.prototype.ug=function(b,f,e){var a=this.u,c=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(c,b.src);a.compileShader(c);if(!a.getShaderParameter(c,a.COMPILE_STATUS))throw b=a.getShaderInfoLog(c),a.deleteShader(c),Error("error compiling fragment shader: "+b);var k=a.createShader(a.VERTEX_SHADER);a.shaderSource(k,f);a.compileShader(k);if(!a.getShaderParameter(k,a.COMPILE_STATUS))throw b=a.getShaderInfoLog(k),a.deleteShader(c),a.deleteShader(k),Error("error compiling vertex shader: "+b);f=
a.createProgram();a.attachShader(f,c);a.attachShader(f,k);a.linkProgram(f);if(!a.getProgramParameter(f,a.LINK_STATUS))throw b=a.getProgramInfoLog(f),a.deleteShader(c),a.deleteShader(k),a.deleteProgram(f),Error("error linking shader program: "+b);a.useProgram(f);a.deleteShader(c);a.deleteShader(k);c=new l(a,f,e);c.Ek=b.Ek||0;c.Fk=b.Fk||0;c.On=!!b.On;c.Uc=!!b.Uc;c.vn=!!b.vn;c.U=b.U||[];b=0;for(k=c.U.length;b<k;b++)c.U[b][1]=a.getUniformLocation(f,c.U[b][0]),c.tl.push(0),a.uniform1f(c.U[b][1],0);return c};
d.prototype.Rk=function(b){var f,e;f=0;for(e=this.Ha.length;f<e;f++)if(this.Ha[f].name===b)return f;return-1};d.prototype.Gp=function(b,f,e){var a=this.jc,c=this.bj,k=[0,0,0,0,0,0,0,0];k[0]=a[0]*b+a[4]*f+a[12];k[1]=a[1]*b+a[5]*f+a[13];k[2]=a[2]*b+a[6]*f+a[14];k[3]=a[3]*b+a[7]*f+a[15];k[4]=c[0]*k[0]+c[4]*k[1]+c[8]*k[2]+c[12]*k[3];k[5]=c[1]*k[0]+c[5]*k[1]+c[9]*k[2]+c[13]*k[3];k[6]=c[2]*k[0]+c[6]*k[1]+c[10]*k[2]+c[14]*k[3];k[7]=-k[2];0!==k[7]&&(k[7]=1/k[7],k[4]*=k[7],k[5]*=k[7],k[6]*=k[7],e[0]=(.5*k[4]+
.5)*this.width,e[1]=(.5*k[5]+.5)*this.height)};d.prototype.pf=function(b,f,e){if(this.width!==b||this.height!==f||e){this.Bd();e=this.u;this.width=b;this.height=f;e.viewport(0,0,b,f);kc(this.ek,this.Uo,this.sq,this.jc);if(this.oa){var a=-b/2;b=b/2;var c=f/2;f=-f/2;var k=this.Vj,h=this.Sm,t=this.bj;t||(t=hc());var d=b-a,p=f-c,m=h-k;t[0]=2/d;t[1]=0;t[2]=0;t[3]=0;t[4]=0;t[5]=2/p;t[6]=0;t[7]=0;t[8]=0;t[9]=0;t[10]=-2/m;t[11]=0;t[12]=-(a+b)/d;t[13]=-(f+c)/p;t[14]=-(h+k)/m;t[15]=1;this.Mh[0]=1;this.Mh[1]=
1}else f=b/f,a=this.Vj,b=this.Sm,t=this.bj,h=a*Math.tan(45*Math.PI/360),f*=h,c=-f,k=-h,t||(t=hc()),d=f-c,p=h-k,m=b-a,t[0]=2*a/d,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a/p,t[6]=0,t[7]=0,t[8]=(f+c)/d,t[9]=(h+k)/p,t[10]=-(b+a)/m,t[11]=-1,t[12]=0,t[13]=0,t[14]=-(b*a*2)/m,t[15]=0,a=[0,0],b=[0,0],this.Gp(0,0,a),this.Gp(1,1,b),this.Mh[0]=1/(b[0]-a[0]),this.Mh[1]=-1/(b[1]-a[1]);a=0;for(b=this.Ha.length;a<b;a++)c=this.Ha[a],c.Ue=!1,c.So&&(e.useProgram(c.yh),e.uniformMatrix4fv(c.So,!1,this.bj));e.useProgram(this.Ha[this.Tg].yh);
e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE1);e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE0);this.$e=this.pe=null;this.ji&&(e.bindFramebuffer(e.FRAMEBUFFER,this.Gk),e.bindRenderbuffer(e.RENDERBUFFER,this.ji),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.width,this.height),this.xn||(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.ji),this.xn=!0),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),
this.qj=null)}};d.prototype.uc=function(){kc(this.ek,this.Uo,this.sq,this.jc);jc(this.jc,this.Mh)};d.prototype.translate=function(b,f){if(0!==b||0!==f){this.Ge[0]=b;this.Ge[1]=f;this.Ge[2]=0;var e=this.jc,a=this.Ge,c=a[0],k=a[1],a=a[2];e[12]=e[0]*c+e[4]*k+e[8]*a+e[12];e[13]=e[1]*c+e[5]*k+e[9]*a+e[13];e[14]=e[2]*c+e[6]*k+e[10]*a+e[14];e[15]=e[3]*c+e[7]*k+e[11]*a+e[15]}};d.prototype.scale=function(b,f){if(1!==b||1!==f)this.Ge[0]=b,this.Ge[1]=f,this.Ge[2]=1,jc(this.jc,this.Ge)};d.prototype.tj=function(b){if(0!==
b){var f=this.jc,e,a=Math.sin(b);b=Math.cos(b);var c=f[0],k=f[1],h=f[2],t=f[3],d=f[4],p=f[5],m=f[6],u=f[7];e?f!==e&&(e[8]=f[8],e[9]=f[9],e[10]=f[10],e[11]=f[11],e[12]=f[12],e[13]=f[13],e[14]=f[14],e[15]=f[15]):e=f;e[0]=c*b+d*a;e[1]=k*b+p*a;e[2]=h*b+m*a;e[3]=t*b+u*a;e[4]=c*-a+d*b;e[5]=k*-a+p*b;e[6]=h*-a+m*b;e[7]=t*-a+u*b}};d.prototype.nc=function(){if(!n(this.ul,this.jc)){var b=this.Kb();b.type=5;b.T?ic(this.jc,b.T):b.T=hc(this.jc);ic(this.jc,this.ul);this.Ya=!1}};d.prototype.xj=function(b){this.oa&&
(32760<b&&(b=32760),this.hi=this.ek[2]-this.Vj-b*this.Cw)};g.prototype.dt=function(){var b=this.u,f=this.n;0!==this.ub?(b.depthMask(!0),b.colorMask(!1,!1,!1,!1),b.disable(b.BLEND),b.bindFramebuffer(b.FRAMEBUFFER,f.Gk),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.clear(b.DEPTH_BUFFER_BIT),b.bindFramebuffer(b.FRAMEBUFFER,null),f.Ei=!0):(b.depthMask(!1),b.colorMask(!0,!0,!0,!0),b.enable(b.BLEND),f.Ei=!1)};g.prototype.ht=function(){this.u.bindTexture(this.u.TEXTURE_2D,
this.yc)};g.prototype.it=function(){var b=this.u;b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,this.yc);b.activeTexture(b.TEXTURE0)};g.prototype.et=function(){var b=this.zp,f=this.n;f.gi=b;f=f.Cf;f.Vf&&f.aj!==b&&(f.aj=b,this.u.uniform1f(f.Vf,b))};g.prototype.Ys=function(){this.u.drawElements(this.u.TRIANGLES,this.hc,this.u.UNSIGNED_SHORT,this.ub)};g.prototype.$s=function(){this.u.blendFunc(this.ub,this.hc)};g.prototype.jt=function(){var b,f,e,a=this.n.Ha,c=this.n.Pn;b=0;for(f=a.length;b<
f;b++)e=a[b],b===c&&e.Xi?(e.Mm(this.T),e.Ue=!0):e.Ue=!1;ic(this.T,this.n.rk)};g.prototype.Zs=function(){var b=this.u,f=this.n;this.yc?(f.$e===this.yc&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,null),f.$e=null,b.activeTexture(b.TEXTURE0)),b.bindFramebuffer(b.FRAMEBUFFER,f.Gk),f.Ei||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.yc,0)):(f.oa||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.bindFramebuffer(b.FRAMEBUFFER,null))};
g.prototype.Us=function(){var b=this.u,f=this.ub;0===f?(b.clearColor(this.T[0],this.T[1],this.T[2],this.T[3]),b.clear(b.COLOR_BUFFER_BIT)):1===f?(b.enable(b.SCISSOR_TEST),b.scissor(this.T[0],this.T[1],this.T[2],this.T[3]),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.disable(b.SCISSOR_TEST)):b.clear(b.DEPTH_BUFFER_BIT)};g.prototype.ct=function(){var b=this.u;0!==this.ub?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)};g.prototype.Xs=function(){var b=this.u,f=this.n;f.oa&&b.disable(b.DEPTH_TEST);
var e=f.Ha[1];b.useProgram(e.yh);!e.Ue&&e.Xi&&(e.Mm(f.rk),e.Ue=!0);b.enableVertexAttribArray(e.sc);b.bindBuffer(b.ARRAY_BUFFER,f.Ul);b.vertexAttribPointer(e.sc,4,b.FLOAT,!1,0,0);b.drawArrays(b.POINTS,this.ub/4,this.hc);e=f.Cf;b.useProgram(e.yh);0<=e.sc&&(b.enableVertexAttribArray(e.sc),b.bindBuffer(b.ARRAY_BUFFER,f.Jh[f.zd]),b.vertexAttribPointer(e.sc,f.oa?3:2,b.FLOAT,!1,0,0));0<=e.xe&&(b.enableVertexAttribArray(e.xe),b.bindBuffer(b.ARRAY_BUFFER,f.Dh[f.zd]),b.vertexAttribPointer(e.xe,2,b.FLOAT,!1,
0,0));f.oa&&b.enable(b.DEPTH_TEST)};g.prototype.ft=function(){var b=this.u,f=this.n,e=f.Ha[this.ub];f.Pn=this.ub;f.Cf=e;b.useProgram(e.yh);!e.Ue&&e.Xi&&(e.Mm(f.rk),e.Ue=!0);e.Vf&&e.aj!==f.gi&&(e.aj=f.gi,b.uniform1f(e.Vf,f.gi));0<=e.sc&&(b.enableVertexAttribArray(e.sc),b.bindBuffer(b.ARRAY_BUFFER,f.Jh[f.zd]),b.vertexAttribPointer(e.sc,f.oa?3:2,b.FLOAT,!1,0,0));0<=e.xe&&(b.enableVertexAttribArray(e.xe),b.bindBuffer(b.ARRAY_BUFFER,f.Dh[f.zd]),b.vertexAttribPointer(e.xe,2,b.FLOAT,!1,0,0))};g.prototype.bt=
function(){var b=this.T;this.u.uniform4f(this.n.Cf.Fl,b[0],b[1],b[2],b[3])};g.prototype.gt=function(){var b,f,e=this.n.Cf,a=this.u;b=this.T;e.bh&&this.n.$e!==this.yc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this.yc),this.n.$e=this.yc,a.activeTexture(a.TEXTURE0));var c=b[0];e.Hl&&c!==e.dp&&(e.dp=c,a.uniform1f(e.Hl,c));c=b[1];e.Gl&&c!==e.cp&&(e.cp=c,a.uniform1f(e.Gl,c));c=b[2];f=b[3];!e.ef||c===e.Xo&&f===e.Yo||(e.Xo=c,e.Yo=f,a.uniform2f(e.ef,c,f));c=b[4];f=b[5];!e.df||c===e.Vo&&f===
e.Wo||(e.Vo=c,e.Wo=f,a.uniform2f(e.df,c,f));c=b[6];e.ah&&c!==e.$o&&(e.$o=c,a.uniform1f(e.ah,c));c=b[7];e.$g&&c!==e.Zo&&(e.Zo=c,a.uniform1f(e.$g,c));c=b[8];f=b[9];!e.fh||c===e.ip&&f===e.jp||(e.ip=c,e.jp=f,a.uniform2f(e.fh,c,f));c=b[10];f=b[11];!e.dh||c===e.ep&&f===e.fp||(e.ep=c,e.fp=f,a.uniform2f(e.dh,c,f));c=b[12];e.eh&&c!==e.gp&&(e.gp=c,a.uniform1f(e.eh,c));if(e.U.length)for(b=0,f=e.U.length;b<f;b++)c=this.Zp[b],c!==e.tl[b]&&(e.tl[b]=c,a.uniform1f(e.U[b][1],c))};d.prototype.Kb=function(){this.Gc===
this.bd.length&&this.bd.push(new g(0,this));return this.bd[this.Gc++]};d.prototype.Bd=function(){if(0!==this.Gc&&!this.u.isContextLost()){var b=this.u;0<this.Vl&&(b.bindBuffer(b.ARRAY_BUFFER,this.Ul),b.bufferSubData(b.ARRAY_BUFFER,0,this.Ep.subarray(0,this.Vl)),f&&0<=f.sc&&"<point>"===f.name&&b.vertexAttribPointer(f.sc,4,b.FLOAT,!1,0,0));if(0<this.Bc){var f=this.Cf;b.bindBuffer(b.ARRAY_BUFFER,this.Jh[this.zd]);b.bufferSubData(b.ARRAY_BUFFER,0,this.Kh.subarray(0,this.Bc));f&&0<=f.sc&&"<point>"!==f.name&&
b.vertexAttribPointer(f.sc,this.oa?3:2,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,this.Dh[this.zd]);b.bufferSubData(b.ARRAY_BUFFER,0,this.Eh.subarray(0,this.Fe));f&&0<=f.xe&&"<point>"!==f.name&&b.vertexAttribPointer(f.xe,2,b.FLOAT,!1,0,0)}for(var e,b=0,f=this.Gc;b<f;b++)switch(e=this.bd[b],e.type){case 1:e.Ys();break;case 2:e.ht();break;case 3:e.et();break;case 4:e.$s();break;case 5:e.jt();break;case 6:e.Zs();break;case 7:e.Us();break;case 8:e.Xs();break;case 9:e.ft();break;case 10:e.gt();break;
case 11:e.it();break;case 12:e.bt();break;case 13:e.ct();break;case 14:e.dt()}this.Vl=this.Fe=this.Bc=this.Gc=0;this.Ei=this.Ya=!1;this.zd++;4<=this.zd&&(this.zd=0)}};d.prototype.De=function(b){if(b!==this.Mo&&!this.Og){var f=this.Kb();f.type=3;this.Mo=f.zp=b;this.Ya=!1}};d.prototype.Va=function(b){if(b!==this.pe){var f=this.Kb();f.type=2;this.pe=f.yc=b;this.Ya=!1}};d.prototype.Ce=function(b,f){if((b!==this.No||f!==this.Jo)&&!this.Og){var e=this.Kb();e.type=4;e.ub=b;e.hc=f;this.No=b;this.Jo=f;this.Ya=
!1}};d.prototype.Rp=function(){this.Ce(this.u.ONE,this.u.ONE_MINUS_SRC_ALPHA)};d.prototype.nf=function(b,f,e,a,c,k,h,t){15992<=this.Bc&&this.Bd();var d=this.Bc,p=this.Fe,m=this.Kh,u=this.Eh,g=this.hi;if(this.Ya)this.bd[this.Gc-1].hc+=6;else{var l=this.Kb();l.type=1;l.ub=this.oa?d:d/2*3;l.hc=6;this.Ya=!0}this.oa?(m[d++]=b,m[d++]=f,m[d++]=g,m[d++]=e,m[d++]=a,m[d++]=g,m[d++]=c,m[d++]=k,m[d++]=g,m[d++]=h,m[d++]=t,m[d++]=g):(m[d++]=b,m[d++]=f,m[d++]=e,m[d++]=a,m[d++]=c,m[d++]=k,m[d++]=h,m[d++]=t);u[p++]=
0;u[p++]=0;u[p++]=1;u[p++]=0;u[p++]=1;u[p++]=1;u[p++]=0;u[p++]=1;this.Bc=d;this.Fe=p};d.prototype.qd=function(b,f,e,a,c,k,h,t,d){15992<=this.Bc&&this.Bd();var p=this.Bc,m=this.Fe,u=this.Kh,g=this.Eh,l=this.hi;if(this.Ya)this.bd[this.Gc-1].hc+=6;else{var n=this.Kb();n.type=1;n.ub=this.oa?p:p/2*3;n.hc=6;this.Ya=!0}var n=d.left,q=d.top,r=d.right;d=d.bottom;this.oa?(u[p++]=b,u[p++]=f,u[p++]=l,u[p++]=e,u[p++]=a,u[p++]=l,u[p++]=c,u[p++]=k,u[p++]=l,u[p++]=h,u[p++]=t,u[p++]=l):(u[p++]=b,u[p++]=f,u[p++]=e,
u[p++]=a,u[p++]=c,u[p++]=k,u[p++]=h,u[p++]=t);g[m++]=n;g[m++]=q;g[m++]=r;g[m++]=q;g[m++]=r;g[m++]=d;g[m++]=n;g[m++]=d;this.Bc=p;this.Fe=m};d.prototype.Kp=function(b,f,e,a,c,k,h,t,d,p,m,u,g){15992<=this.Bc&&this.Bd();var l=this.Bc,n=this.Fe,q=this.Kh,r=this.Eh,A=this.hi;if(this.Ya)this.bd[this.Gc-1].hc+=6;else{var C=this.Kb();C.type=1;C.ub=this.oa?l:l/2*3;C.hc=6;this.Ya=!0}this.oa?(q[l++]=b,q[l++]=f,q[l++]=A,q[l++]=e,q[l++]=a,q[l++]=A,q[l++]=c,q[l++]=k,q[l++]=A,q[l++]=h,q[l++]=t,q[l++]=A):(q[l++]=
b,q[l++]=f,q[l++]=e,q[l++]=a,q[l++]=c,q[l++]=k,q[l++]=h,q[l++]=t);r[n++]=d;r[n++]=p;r[n++]=m;r[n++]=0;r[n++]=u;r[n++]=0;r[n++]=g;r[n++]=0;this.Bc=l;this.Fe=n};d.prototype.Mn=function(b){var f=b.length/2-2,e=f-1,a=b[0],c=b[1],k,h,t,d,p,m,u;for(k=0;k<f;k+=2)h=2*k,t=b[h+2],d=b[h+3],p=b[h+4],m=b[h+5],k===e?this.nf(a,c,t,d,p,m,p,m):(u=b[h+6],h=b[h+7],this.nf(a,c,t,d,p,m,u,h))};d.prototype.Mb=function(b){if(this.Tg!==b){if(!this.Ha[b]){if(0===this.Tg)return;b=0}var f=this.Kb();f.type=9;this.Tg=f.ub=b;this.Ya=
!1}};d.prototype.ph=function(b){b=this.Ha[b];return!(!b.ef&&!b.df)};d.prototype.Yl=function(b){b=this.Ha[b];return!!(b.ef||b.df||b.On)};d.prototype.Xl=function(b){return this.Ha[b].Uc};d.prototype.Nv=function(b){b=this.Ha[b];return 0!==b.Ek||0!==b.Fk};d.prototype.tu=function(b){return this.Ha[b].Ek};d.prototype.uu=function(b){return this.Ha[b].Fk};d.prototype.vu=function(b,f){return this.Ha[b].U[f][2]};d.prototype.jj=function(b){return this.Ha[b].vn};d.prototype.bg=function(b,f,e,a,c,k,h,t,d,p,m,
u,l,g,n){var q=this.Ha[this.Tg],r,A;if(q.Nu||n.length){r=this.Kb();r.type=10;r.T?ic(this.jc,r.T):r.T=hc();A=r.T;A[0]=f;A[1]=e;A[2]=a;A[3]=c;A[4]=k;A[5]=h;A[6]=t;A[7]=d;A[8]=p;A[9]=m;A[10]=u;A[11]=l;A[12]=g;q.bh?r.yc=b:r.yc=null;if(n.length)for(e=r.Zp,e.length=n.length,b=0,f=n.length;b<f;b++)e[b]=n[b];this.Ya=!1}};d.prototype.clear=function(b,f,e,a){var c=this.Kb();c.type=7;c.ub=0;c.T||(c.T=hc());c.T[0]=b;c.T[1]=f;c.T[2]=e;c.T[3]=a;this.Ya=!1};d.prototype.clearRect=function(b,f,e,a){if(!(0>e||0>a)){var c=
this.Kb();c.type=7;c.ub=1;c.T||(c.T=hc());c.T[0]=b;c.T[1]=f;c.T[2]=e;c.T[3]=a;this.Ya=!1}};d.prototype.Up=function(b){if(this.oa&&(b=!!b,this.Og!==b)){var f=this.Kb();f.type=14;f.ub=b?1:0;this.Ya=!1;this.Og=b;this.qj=null;this.Og?this.Mb(2):this.Mb(0)}};d.prototype.Tp=function(b){if(this.oa){var f=this.Kb();f.type=13;f.ub=b?1:0;this.Ya=!1}};d.prototype.co=function(){ic(this.ul,r);this.uc();this.nc();var b=this.width/2,f=this.height/2;this.nf(-b,f,b,f,b,-f,-b,-f);ic(r,this.jc);this.nc()};d.prototype.Sp=
function(b,f,e){this.Mb(3);var a=this.Kb();a.type=12;a.T||(a.T=hc());a.T[0]=b;a.T[1]=f;a.T[2]=e;a.T[3]=1;this.Ya=!1};d.prototype.ew=function(){this.Mb(0)};d.prototype.Uv=function(){this.Mb(2)};d.prototype.Kv=function(){this.Bd();this.u.flush()};var q=[],p={};d.prototype.Hs=function(){T(q);p={}};d.prototype.Vi=function(b,f,e,a){f=!!f;e=!!e;var c=b.src+","+f+","+e+(f?",undefined":""),k=null;if("undefined"!==typeof b.src&&p.hasOwnProperty(c))return k=p[c],k.Yh++,k;this.Bd();var h=this.u,t=ia(b.width)&&
ia(b.height),k=h.createTexture();h.bindTexture(h.TEXTURE_2D,k);h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var d=h.RGBA,l=h.RGBA,m=h.UNSIGNED_BYTE;if(a&&!this.le)switch(a){case 1:l=d=h.RGB;break;case 2:m=h.UNSIGNED_SHORT_4_4_4_4;break;case 3:m=h.UNSIGNED_SHORT_5_5_5_1;break;case 4:l=d=h.RGB,m=h.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!t&&f){a=document.createElement("canvas");a.width=ja(b.width);a.height=ja(b.height);var u=a.getContext("2d");"undefined"!==typeof u.imageSmoothingEnabled?u.imageSmoothingEnabled=
e:(u.webkitImageSmoothingEnabled=e,u.mozImageSmoothingEnabled=e,u.msImageSmoothingEnabled=e);u.drawImage(b,0,0,b.width,b.height,0,0,a.width,a.height);h.texImage2D(h.TEXTURE_2D,0,d,l,m,a)}else h.texImage2D(h.TEXTURE_2D,0,d,l,m,b);f?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE));e?(h.texParameteri(h.TEXTURE_2D,
h.TEXTURE_MAG_FILTER,h.LINEAR),(t||2<=this.version)&&this.Vn?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR_MIPMAP_LINEAR),h.generateMipmap(h.TEXTURE_2D)):h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST));h.bindTexture(h.TEXTURE_2D,null);this.pe=null;k.Me=b.width;k.Le=b.height;k.Yh=1;k.Bn=c;q.push(k);return p[c]=k};d.prototype.Db=function(b,f,e,a,c){this.Bd();
var k=this.u;this.le&&(a=!1);var h=k.createTexture();k.bindTexture(k.TEXTURE_2D,h);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,b,f,0,k.RGBA,a?k.UNSIGNED_SHORT_4_4_4_4:k.UNSIGNED_BYTE,null);c?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,e?k.LINEAR:k.NEAREST);k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MIN_FILTER,e?k.LINEAR:k.NEAREST);k.bindTexture(k.TEXTURE_2D,null);this.pe=null;h.Me=b;h.Le=f;q.push(h);return h};d.prototype.Pm=function(b,f,e){this.Bd();var a=this.u;this.le&&(e=!1);a.bindTexture(a.TEXTURE_2D,f);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,e?a.UNSIGNED_SHORT_4_4_4_4:a.UNSIGNED_BYTE,b)}catch(c){console&&console.error&&console.error("Error updating WebGL texture: ",c)}a.bindTexture(a.TEXTURE_2D,null);this.pe=null};d.prototype.deleteTexture=
function(b){b&&("undefined"!==typeof b.Yh&&1<b.Yh?b.Yh--:(this.Bd(),b===this.pe&&(this.u.bindTexture(this.u.TEXTURE_2D,null),this.pe=null),b===this.$e&&(this.u.activeTexture(this.u.TEXTURE1),this.u.bindTexture(this.u.TEXTURE_2D,null),this.u.activeTexture(this.u.TEXTURE0),this.$e=null),Ga(q,b),"undefined"!==typeof b.Bn&&delete p[b.Bn],this.u.deleteTexture(b)))};d.prototype.vc=function(b){if(b!==this.qj){var f=this.Kb();f.type=6;this.qj=f.yc=b;this.Ya=!1}};mb=d})();
(function(){function d(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.je=(this.il=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.ke=!!a.dc;this.Uu="undefined"!==typeof window.AppMobi||
this.ke;this.Nc=!!window.c2cocoonjs;this.Oc=!!window.c2ejecta;this.Nc&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.Oc&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.Hb=this.ke||this.Nc||this.Oc;this.Hi=
/edge\//i.test(navigator.userAgent);this.le=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Hi;this.Do=/tizen/i.test(navigator.userAgent);this.hl=/android/i.test(navigator.userAgent)&&!this.Do&&!this.le&&!this.Hi;this.Io=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.le&&!this.Hi;this.dv=/ipad/i.test(navigator.userAgent);this.sl=this.Io||this.dv||this.Oc;this.Wu=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.le&&!this.Hi;this.Tu=/amazonwebappplatform/i.test(navigator.userAgent);this.Xu=/firefox/i.test(navigator.userAgent);this.ll="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Go=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.bv=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Qg=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.ql=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.pl=!!window.cr_windows10;this.Fo=this.Go||this.bv||this.ql||this.pl;this.Vu=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Co=this.hl&&!this.Wu&&!this.il&&!this.Xu&&!this.Tu&&!this.Hb;this.devicePixelRatio=1;this.Xe=this.je||this.il||this.Uu||this.Nc||this.hl||this.sl||this.Qg||this.ql||this.Vu||this.Do||this.Oc;this.Xe||
(this.Xe=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Eo=!!(this.sl&&this.je&&window.webkit);"undefined"===typeof cr_is_preview||this.ll||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.ll=!0);this.canvas=a;this.Fn=document.getElementById("c2canvasdiv");this.n=this.u=null;this.Tk="(unavailable)";this.oa=!1;this.Pe=0;this.xa=null;this.pi=!1;this.wp=this.xp=
0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.ke&&(window.c2runtime=this);this.ll&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Co&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.K=this.width;this.J=this.height;this.ei=this.width;this.wg=this.height;this.Sf=window.innerWidth;this.Rf=window.innerHeight;this.X=!0;this.Ze=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.p=[];this.Ca=[];this.Cl={};this.Qc=[];this.Dk={};this.Cd=[];this.kg=[];this.Lj=[];this.ts=[];this.us=[];this.om=this.vm=null;this.Ne={};this.kl=this.he=!1;this.Pc=
0;this.jl=this.nl=!1;this.Kc=[];this.Pg=!1;this.Ti=this.lm="";this.Ua=null;this.Gd="";this.Bh=this.aq=!1;this.oi=[];this.ee=this.Df=0;this.op=30;this.nk=this.gh=0;this.gg=1;this.Zb=new bb;this.Qj=new bb;this.ej=this.ti=this.Bg=this.zc=this.cf=this.Ik=this.Oi=0;this.jk=null;this.yk=[];this.Ck=[];this.mi=-1;this.Il=[[]];this.Hm=this.Yi=0;this.lj(null);this.Jl=[];this.$i=-1;this.tp=this.kh=0;this.Bl=!0;this.Dg=0;this.Ch=[];this.Em=this.$l=-1;this.Mi=!0;this.Wi=0;this.Ii=!1;this.iw=0;this.qg=null;this.Gi=
!1;this.Nl=new ca;this.Ol=new ca;this.Pl=new ca;this.dm=[];this.Nb=new eb([]);this.ym=new eb([]);this.Af=[];this.Lf={};this.Yd={};this.Vd={};this.jg={};this.yn={};this.Qo=this.Si=this.La=this.Sa=this.Po=this.Ri=this.fa=null;this.hg=this.rl=!1;this.Jk=[null,null];this.If=0;this.Jd={};this.Ah=this.ve=null;this.dq="";this.dj=[];this.Tv()}}function l(a,c){return 128>=c?a[3]:256>=c?a[2]:512>=c?a[1]:a[0]}function n(){try{return!!window.indexedDB}catch(a){return!1}}function g(a){a.target.result.createObjectStore("saves",
{keyPath:"slot"})}function r(a,c,b,e){try{var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=g;f.onerror=e;f.onsuccess=function(f){f=f.target.result;f.onerror=e;f.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=b}}catch(h){e(h)}}function q(a,c,b){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=g;e.onerror=b;e.onsuccess=function(e){e=e.target.result;e.onerror=b;var f=e.transaction(["saves"]).objectStore("saves").get(a);f.onsuccess=function(){f.result?
c(f.result.data):c(null)}}}catch(f){b(f)}}function p(){ea("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function b(a){var c,b={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof ca||a[c]&&"undefined"!==typeof a[c].Fx||"spriteCreatedDestroyCallback"!==c&&(b[c]=a[c]);return b}var f=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;d.prototype.Tv=function(){var a=this;if(this.Eo)this.cu(function(c){a.Zg(JSON.parse(c))},function(){alert("Error fetching data.js")});else{var c;this.Qg?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var b="data.js";if(this.Go||this.Qg||this.ql||this.pl)b="data.json";c.open("GET",b,!0);var e=!1;if(!this.Hb&&"response"in c&&"responseType"in c)try{c.responseType="json",e="json"===c.responseType}catch(f){e=!1}if(!e&&"responseType"in
c)try{c.responseType="text"}catch(h){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(k){}this.Qg?c.onreadystatechange=function(){4===c.readyState&&a.Zg(JSON.parse(c.responseText))}:(c.onload=function(){if(e)a.Zg(c.response);else if(a.Oc){var b=c.responseText,b=b.substr(b.indexOf("{"));a.Zg(JSON.parse(b))}else a.Zg(JSON.parse(c.responseText))},c.onerror=function(a){fa("Error requesting "+b+":");fa(a)});c.send()}};d.prototype.Ru=function(){var a=this,c,b,e,
f,h,k,m,t,d;this.Ye=(!this.Hb||this.Oc||this.je)&&this.xw&&!this.Co;0===this.Vb&&this.sl&&(this.Ye=!1);this.devicePixelRatio=this.Ye?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.ib();0<this.Vb&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();a.tv();ea("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",
function(){a.n.yo();a.n.pf(a.n.width,a.n.height,!0);a.Sa=null;a.La=null;a.Jk[0]=null;a.Jk[1]=null;a.uv();a.X=!0;ea("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.tt&&(this.Nc||this.Oc||!this.Hb)&&(c={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.hl||(this.u=this.canvas.getContext("webgl2",c)),this.u||(this.u=this.canvas.getContext("webgl",c)||this.canvas.getContext("experimental-webgl",c)))}catch(u){}if(this.u){if(c=
this.u.getExtension("WEBGL_debug_renderer_info"))this.Tk=this.u.getParameter(c.UNMASKED_RENDERER_WEBGL)+" ["+this.u.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.oa&&(this.Tk+=" [front-to-back enabled]");this.Hb||(this.gb=document.createElement("canvas"),jQuery(this.gb).appendTo(this.canvas.parentNode),this.gb.oncontextmenu=function(){return!1},this.gb.onselectstart=function(){return!1},this.gb.width=Math.round(this.ei*this.devicePixelRatio),this.gb.height=Math.round(this.wg*this.devicePixelRatio),
jQuery(this.gb).css({width:this.ei+"px",height:this.wg+"px"}),this.Fp(),this.Tl=this.gb.getContext("2d"));this.n=new mb(this.u,this.Xe,this.oa);this.n.pf(this.canvas.width,this.canvas.height);this.n.Vn=0!==this.kt;this.xa=null;c=0;for(b=this.p.length;c<b;c++)for(h=this.p[c],e=0,f=h.O.length;e<f;e++)m=h.O[e],m.Oa=this.n.Rk(m.id),m.Uc=this.n.Xl(m.Oa),this.hg=this.hg||this.n.ph(m.Oa);c=0;for(b=this.Qc.length;c<b;c++){t=this.Qc[c];e=0;for(f=t.O.length;e<f;e++)m=t.O[e],m.Oa=this.n.Rk(m.id),m.Uc=this.n.Xl(m.Oa);
t.Yc();e=0;for(f=t.P.length;e<f;e++){d=t.P[e];h=0;for(k=d.O.length;h<k;h++)m=d.O[h],m.Oa=this.n.Rk(m.id),m.Uc=this.n.Xl(m.Oa),this.hg=this.hg||this.n.ph(m.Oa);d.Yc()}}}else{if(0<this.Vb&&this.ke){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.xa=AppMobi.canvas.getContext("2d");try{this.xa.samplingMode=this.wa?"smooth":"sharp",this.xa.globalScale=1,this.xa.HTML5CompatibilityMode=!0,this.xa.imageSmoothingEnabled=this.wa}catch(p){}0!==this.width&&
0!==this.height&&(this.xa.width=this.width,this.xa.height=this.height)}this.xa||(this.Nc?(c={antialias:!!this.wa,alpha:!0},this.xa=this.canvas.getContext("2d",c)):(c={alpha:!0},this.xa=this.canvas.getContext("2d",c)),this.wj(this.xa,this.wa));this.Tl=this.gb=null}this.lq=function(c){a.wb(!1,c)};window==window.top||this.Hb||this.Fo||this.Qg||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&
(this.Nc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ea("Reloading for continuous preview"),this.Ti="__c2_continuouspreview",this.Bh=!0),this.Cv&&!this.Xe&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var c=window.parent;c&&c.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.lf()});this.Hb||(c=function(a){if(lb(a)&&document.activeElement&&document.activeElement!==
document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",c):document.addEventListener("touchstart",c),document.addEventListener("mousedown",c));0===this.Vb&&this.Ye&&1<this.devicePixelRatio&&this.setSize(this.Ba,this.Aa,!0);this.pq();this.Ku();this.go();this.H={}};d.prototype.setSize=function(a,
c,b){var e=0,f=0,h=0,k=0,k=0;if(this.Sf!==a||this.Rf!==c||b){this.Sf=a;this.Rf=c;var m=this.Vb;if((h=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Ii)&&!this.je)||0!==this.Vb||b)h&&(m=this.If),b=this.devicePixelRatio,4<=m?(h=this.Ba/this.Aa,a/c>h?(h*=c,5===m?(k=h*b/this.Ba,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),h=this.Ba*k/b,k=this.Aa*k/b,e=(a-h)/2,f=(c-k)/2,a=h,c=k):(e=(a-h)/2,a=h)):(k=a/h,5===m?(k=k*b/this.Aa,1<k?k=Math.floor(k):
1>k&&(k=1/Math.ceil(1/k)),h=this.Ba*k/b,k=this.Aa*k/b,e=(a-h)/2,f=(c-k)/2,a=h):f=(c-k)/2,c=k)):h&&0===m&&(e=Math.floor((a-this.Ba)/2),f=Math.floor((c-this.Aa)/2),a=this.Ba,c=this.Aa),2>m&&(this.pg=b),this.ei=Math.round(a),this.wg=Math.round(c),this.width=Math.round(a*b),this.height=Math.round(c*b),this.X=!0,this.Aq?(this.K=this.width,this.J=this.height,this.gc=!0):this.width<this.Ba&&this.height<this.Aa||1===m?(this.K=this.width,this.J=this.height,this.gc=!0):(this.K=this.Ba,this.J=this.Aa,this.gc=
!1,2===m?(h=this.Ba/this.Aa,m=this.Sf/this.Rf,m<h?this.K=this.J*m:m>h&&(this.J=this.K/m)):3===m&&(h=this.Ba/this.Aa,m=this.Sf/this.Rf,m>h?this.K=this.J*m:m<h&&(this.J=this.K/m))),this.Fn&&!this.Hb&&(jQuery(this.Fn).css({width:Math.round(a)+"px",height:Math.round(c)+"px","margin-left":Math.floor(e)+"px","margin-top":Math.floor(f)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*b),
this.canvas.height=Math.round(c*b),this.Oc?(this.canvas.style.left=Math.floor(e)+"px",this.canvas.style.top=Math.floor(f)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.Ye&&!this.Hb&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px")),this.gb&&(this.gb.width=Math.round(a*b),this.gb.height=Math.round(c*b),this.gb.style.width=this.ei+"px",this.gb.style.height=this.wg+"px"),this.n&&this.n.pf(Math.round(a*b),Math.round(c*
b)),this.ke&&this.xa&&(this.xa.width=Math.round(a),this.xa.height=Math.round(c)),this.xa&&this.wj(this.xa,this.wa),this.pq(),this.Io&&!this.je&&window.scrollTo(0,0)}};d.prototype.pq=function(){if(this.zs&&0!==this.Sl){var a="portrait";2===this.Sl&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):
screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",c)}}};d.prototype.tv=function(){this.n.Hs();this.rl=!0;var a,c,b;a=0;for(c=this.p.length;a<c;a++)b=this.p[a],b.mh&&b.mh()};d.prototype.uv=function(){this.rl=!1;var a,c,b;a=0;for(c=this.p.length;a<c;a++)b=this.p[a],b.fj&&b.fj()};d.prototype.Fp=function(){if(!this.Hb){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||
this.Ii)&&!this.je?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.gb).css(a)}};var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;d.prototype.setSuspended=function(a){var c;if(a&&!this.Ze)for(ea("[Construct 2] Suspending"),this.Ze=!0,-1!==this.$l&&e&&e(this.$l),-1!==this.Em&&clearTimeout(this.Em),a=0,c=this.Ch.length;a<c;a++)this.Ch[a](!0);else if(!a&&
this.Ze){ea("[Construct 2] Resuming");this.Ze=!1;this.Oi=Xa();this.cf=Xa();a=this.gh=this.ti=0;for(c=this.Ch.length;a<c;a++)this.Ch[a](!1);this.wb(!1)}};d.prototype.rn=function(a){this.Ch.push(a)};d.prototype.Td=function(a){return this.dj[a]};d.prototype.Zg=function(a){a&&a.project||fa("Project model unavailable");a=a.project;this.name=a[0];this.bo=a[1];this.Vb=a[12];this.Ba=a[10];this.Aa=a[11];this.Ap=this.Ba/2;this.Bp=this.Aa/2;this.Hb&&!this.Oc&&(4<=a[12]||0===a[12])&&(ea("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.Vb=3);this.Om=a[18];this.we=a[19];if(0===this.we){var c=new Image;c.crossOrigin="anonymous";this.Vp(c,"loading-logo.png");this.ve={Zi:c}}else if(4===this.we){c=new Image;c.src="";var b=new Image;b.src="";var e=new Image;e.src="";var f=new Image;f.src="";var h=new Image;h.src="";var k=new Image;k.src="";var m=new Image;m.src="";var t=new Image;t.src="";var d=new Image;d.src="";var u=new Image;u.src="";var p=new Image;p.src="";var w=new Image;w.src="";this.ve={Zi:[c,b,e,f],Hv:[h,k,m,t],Bw:[d,u,
p,w]}}this.kh=a[21];this.dj=mc();this.vd=new X(this);c=0;for(b=a[2].length;c<b;c++)m=a[2][c],e=this.Td(m[0]),nb(m,e.prototype),t=new e(this),t.Fj=m[1],t.ne=m[2],t.cv=m[5],t.rp=m[9],t.L&&t.L(),this.plugins.push(t);this.dj=mc();c=0;for(b=a[3].length;c<b;c++){m=a[3][c];h=this.Td(m[1]);t=null;e=0;for(f=this.plugins.length;e<f;e++)if(this.plugins[e]instanceof h){t=this.plugins[e];break}d=new t.da(t);d.name=m[0];d.F=m[2];d.dl=m[3].slice(0);d.yw=m[3].length;d.As=m[4];d.gu=m[5];d.Q=m[11];d.F?(d.kd=[],d.fd=
this.Dg++,d.ya=null):(d.kd=null,d.fd=-1,d.ya=[]);d.Eg=null;d.Gf=null;d.Wn=null;d.zb=!1;d.Tb=null;m[6]?(d.Am=m[6][0],d.Bm=m[6][1],d.Cm=m[6][2]):(d.Am=null,d.Bm=0,d.Cm=0);m[7]?d.Sb=m[7]:d.Sb=null;d.index=c;d.e=[];d.ii=[];d.Pd=[new ob(d)];d.dd=0;d.rc=null;d.Qn=0;d.eg=!0;d.Nj=pb;d.ko=qb;d.ru=rb;d.ba=sb;d.rh=vb;d.kj=wb;d.mf=xb;d.vi=yb;d.Kk=zb;d.Mk=Ab;d.Je=Bb;d.Ok=Cb;d.ci=new fb(this.Ba,this.Aa);d.Qh=!0;d.Rh=!1;d.H={};d.toString=Db;d.Ca=[];e=0;for(f=m[8].length;e<f;e++){u=m[8][e];p=this.Td(u[1]);w=null;
h=0;for(k=this.Ca.length;h<k;h++)if(this.Ca[h]instanceof p){w=this.Ca[h];break}w||(w=new p(this),w.Ml=[],w.ih=new ca,w.L&&w.L(),this.Ca.push(w),nc&&w instanceof nc&&(this.vm=w),oc&&w instanceof oc&&(this.om=w));-1===w.Ml.indexOf(d)&&w.Ml.push(d);h=new w.da(w,d);h.name=u[0];h.Q=u[2];h.L();d.Ca.push(h)}d.global=m[9];d.ml=m[10];d.O=[];e=0;for(f=m[12].length;e<f;e++)d.O.push({id:m[12][e][0],name:m[12][e][1],Oa:-1,Uc:!1,ec:!0,index:e});d.Px=m[13];this.Om&&!d.F&&!d.ml&&t.ne||d.L();d.name&&(this.types[d.name]=
d);this.p.push(d);t.Fj&&(e=new t.S(d),e.uid=this.kh++,e.Ip=this.tp++,e.Ve=0,e.Gg=Eb,e.toString=Fb,e.A=m[14],e.L(),d.e.push(e),this.Jd[e.uid.toString()]=e)}c=0;for(b=a[4].length;c<b;c++)for(h=a[4][c],k=this.p[h[0]],e=1,f=h.length;e<f;e++)m=this.p[h[e]],m.ya.push(k),k.kd.push(m);c=0;for(b=a[28].length;c<b;c++){h=a[28][c];k=[];e=0;for(f=h.length;e<f;e++)k.push(this.p[h[e]]);e=0;for(f=k.length;e<f;e++)k[e].zb=!0,k[e].Tb=k}if(0<this.Dg)for(c=0,b=this.p.length;c<b;c++)if(m=this.p[c],!m.F&&m.ya.length){m.Eg=
Array(this.Dg);m.Gf=Array(this.Dg);m.Wn=Array(this.Dg);d=[];e=w=p=u=0;for(f=m.ya.length;e<f;e++)for(t=m.ya[e],m.Eg[t.fd]=u,u+=t.yw,m.Gf[t.fd]=p,p+=t.As,m.Wn[t.fd]=w,w+=t.gu,h=0,k=t.O.length;h<k;h++)d.push(Aa({},t.O[h]));m.O=d.concat(m.O);e=0;for(f=m.O.length;e<f;e++)m.O[e].index=e}c=0;for(b=a[5].length;c<b;c++)m=a[5][c],e=new Gb(this,m),this.Cl[e.name]=e,this.Qc.push(e);c=0;for(b=a[6].length;c<b;c++)m=a[6][c],e=new Hb(this,m),this.Dk[e.name]=e,this.Cd.push(e);c=0;for(b=this.Cd.length;c<b;c++)this.Cd[c].Ia();
c=0;for(b=this.Cd.length;c<b;c++)this.Cd[c].Lm();c=0;for(b=this.Lj.length;c<b;c++)this.Lj[c].Ia();T(this.Lj);this.ys=a[7];this.Sc=a[9];this.pg=1;this.tt=a[13];this.wa=a[14];this.Jn=a[15];this.xw=a[17];this.Sl=a[20];this.zs=0<this.Sl;this.Cv=a[22];this.gc=this.Aq=a[23];this.kt=a[24];this.Iv=a[25];this.oa=a[27]&&!this.le;this.Gj=Date.now();T(this.dj);this.Ru()};var a=!1,c=0,k=[];d.prototype.Sv=function(a,b){function e(){c--;h.lp()}var h=this;a.addEventListener("load",e);a.addEventListener("error",e);
k.push([a,b]);this.lp()};d.prototype.lp=function(){for(var a;k.length&&100>c;)c++,a=k.shift(),this.Vp(a[0],a[1])};d.prototype.Qm=function(c,b){c.cocoonLazyLoad=!0;c.onerror=function(b){a=c.An=!0;console&&console.error&&console.error("Error loading image '"+c.src+"': ",b)};this.Oc?c.src=b:c.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(a){c.src=a},function(e){a=c.An=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",e)}):(c.crossOrigin=
"anonymous",this.Sv(c,b)));this.kg.push(c)};d.prototype.fu=function(a){var c,b;c=0;for(b=this.kg.length;c<b;c++)if(this.kg[c].Ks===a)return this.kg[c];return null};var h=0,t=!1;d.prototype.Ku=function(){this.qg&&(h=this.qg.Lx(this.ys))};d.prototype.wn=function(){var a=h,c=0,b=0,e=!0,f,k,b=0;for(f=this.kg.length;b<f;b++){k=this.kg[b];var m=k.ok;if(!m||0>=m)m=5E4;a+=m;k.src&&(k.complete||k.loaded)&&!k.An?c+=m:e=!1}e&&this.Iv&&this.qg&&(t||(this.qg.Mx(),t=!0),b=this.qg.Ix(),c+=b,b<h&&(e=!1));this.Vc=
0==a?1:c/a;return e};var w=!1;d.prototype.go=function(){if(this.xa||this.n){var c=this.xa||this.Tl;this.gb&&this.Fp();var b=window.innerWidth,e=window.innerHeight;this.Sf===b&&this.Rf===e||this.setSize(b,e);this.Vc=0;this.Oo=-1;var h=this;if(this.wn()&&(4!==this.we||w))this.Lu();else{e=Date.now()-this.Gj;if(c){var k=this.width,m=this.height,b=this.devicePixelRatio;if(3>this.we&&(this.Nc||500<=e&&this.Oo!=this.Vc)){c.clearRect(0,0,k,m);var e=k/2,m=m/2,k=0===this.we&&this.ve.Zi.complete,d=40*b,t=0,
u=80*b,p;if(k){var l=this.ve.Zi,u=l.width*b;p=l.height*b;d=u/2;t=p/2;c.drawImage(l,F(e-d),F(m-t),u,p)}1>=this.we?(e=F(e-d)+.5,m=F(m+(t+(k?12*b:0)))+.5,c.fillStyle=a?"red":"DodgerBlue",c.fillRect(e,m,Math.floor(u*this.Vc),6*b),c.strokeStyle="black",c.strokeRect(e,m,u,6*b),c.strokeStyle="white",c.strokeRect(e-1*b,m-1*b,u+2*b,8*b)):2===this.we&&(c.font=this.Oc?"12pt ArialMT":"12pt Arial",c.fillStyle=a?"#f00":"#999",c.Ox="middle",b=Math.round(100*this.Vc)+"%",k=c.measureText?c.measureText(b):null,c.fillText(b,
e-(k?k.width:0)/2,m));this.Oo=this.Vc}else if(4===this.we){this.pt(c);f?f(function(){h.go()}):setTimeout(function(){h.go()},16);return}}setTimeout(function(){h.go()},this.Nc?10:100)}}};var G=-1,m="undefined"===typeof cr_is_preview?200:0,u=!0,Q=!1,B=0,H=0,K="undefined"===typeof cr_is_preview?3E3:0,N=null,A=null,C=0;d.prototype.pt=function(c){if(!w){for(var b=Math.ceil(this.width),e=Math.ceil(this.height),h=this.ve.Zi,f=this.ve.Hv,k=this.ve.Bw,d=0;4>d;++d)if(!h[d].complete||!f[d].complete||!k[d].complete)return;
0===C&&(G=Date.now());var d=Date.now(),t=!1,p=c,g,n;u||Q?(c.clearRect(0,0,b,e),N&&N.width===b&&N.height===e||(N=document.createElement("canvas"),N.width=b,N.height=e,A=N.getContext("2d")),p=A,t=!0,u&&1===C&&(G=Date.now())):c.globalAlpha=1;p.fillStyle="#333333";p.fillRect(0,0,b,e);256<this.wg?(g=Ha(.22*e,105,.6*b),n=.25*g,p.drawImage(l(f,g),.5*b-g/2,.2*e-n/2,g,n),n=g=Math.min(.395*e,.95*b),p.drawImage(l(h,g),.5*b-g/2,.485*e-n/2,g,n),g=Ha(.22*e,105,.6*b),n=.25*g,p.drawImage(l(k,g),.5*b-g/2,.868*e-n/
2,g,n),p.fillStyle="#3C3C3C",g=b,n=Math.max(.005*e,2),p.fillRect(0,.8*e-n/2,g,n),p.fillStyle=a?"red":"#E0FF65",g=b*this.Vc,p.fillRect(.5*b-g/2,.8*e-n/2,g,n)):(n=g=.55*e,p.drawImage(l(h,g),.5*b-g/2,.45*e-n/2,g,n),p.fillStyle="#3C3C3C",g=b,n=Math.max(.005*e,2),p.fillRect(0,.85*e-n/2,g,n),p.fillStyle=a?"red":"#E0FF65",g=b*this.Vc,p.fillRect(.5*b-g/2,.85*e-n/2,g,n));t&&(u?c.globalAlpha=0===C?0:Math.min((d-G)/300,1):Q&&(c.globalAlpha=Math.max(1-(d-H)/300,0)),c.drawImage(N,0,0,b,e));u&&300<=d-G&&2<=C&&
(u=!1,B=d);!u&&d-B>=K&&!Q&&1<=this.Vc&&(Q=!0,H=d);if(Q&&d-H>=300+m||"undefined"!==typeof cr_is_preview&&1<=this.Vc&&500>Date.now()-G)w=!0,Q=u=!1,this.ve=A=N=null;++C}};d.prototype.Lu=function(){this.gb&&(this.canvas.parentNode.removeChild(this.gb),this.gb=this.Tl=null);this.Gj=Date.now();this.cf=Xa();var a,c,b;if(this.Om)for(a=0,c=this.p.length;a<c;a++)b=this.p[a],b.F||b.ml||!b.qa.ne||b.L();else this.Mi=!1;a=0;for(c=this.Qc.length;a<c;a++)this.Qc[a].Ms();2<=this.Vb&&(a=this.Ba/this.Aa,c=this.width/
this.height,this.pg=2!==this.Vb&&c>a||2===this.Vb&&c<a?this.height/this.Aa:this.width/this.Ba);this.bo?this.Cl[this.bo].wm():this.Qc[0].wm();this.Om||(this.Wi=1,this.trigger(X.prototype.g.$m,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(c=this.p.length;a<c;a++)b=this.p[a],b.yp&&b.yp();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.wb(!1);this.ke&&
AppMobi.webview.execute("onGameReady();")};d.prototype.wb=function(a,c,b){if(this.fa){var e=Xa();if(b||!this.Ze||a){a||(f?this.$l=f(this.lq):this.Em=setTimeout(this.lq,this.Xe?1:16));c=c||e;var h=this.Vb;((b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.je)||this.Ii)&&0<this.If&&(h=this.If);if(0<h){var h=window.innerWidth,k=window.innerHeight;this.Sf===h&&this.Rf===k||this.setSize(h,k)}this.Hb||(b?this.pi||(this.pi=!0):this.pi?(this.pi=
!1,0===this.Vb&&this.setSize(Math.round(this.xp/this.devicePixelRatio),Math.round(this.wp/this.devicePixelRatio),!0)):(this.xp=this.width,this.wp=this.height));this.Mi&&(b=this.wn(),this.Wi=this.Vc,b&&(this.Mi=!1,this.Vc=1,this.trigger(X.prototype.g.$m,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.jv(c);!this.X&&!this.Nc||this.rl||this.Bh||a||(this.X=!1,this.n?this.Eb():this.Lc(),this.Ah&&(this.canvas&&this.canvas.toDataURL&&(this.dq=this.canvas.toDataURL(this.Ah[0],this.Ah[1]),window.cr_onSnapshot&&
window.cr_onSnapshot(this.dq),this.trigger(X.prototype.g.hr,null)),this.Ah=null));this.Jx||(this.zc++,this.Bg++,this.ti++);this.gh+=Xa()-e}}};d.prototype.jv=function(a){var c,b,e,h,f,k,m,d;1E3<=a-this.cf&&(this.cf+=1E3,1E3<=a-this.cf&&(this.cf=a),this.Ik=this.ti,this.ti=0,this.nk=this.gh,this.gh=0);c=0;0!==this.Oi&&(c=a-this.Oi,0>c&&(c=0),this.ee=c/=1E3,.5<this.ee?this.ee=0:this.ee>1/this.op&&(this.ee=1/this.op));this.Oi=a;this.Df=this.ee*this.gg;this.Zb.add(this.Df);this.Qj.add(c);a=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Ii)&&!this.je;2<=this.Vb||a&&0<this.If?(c=this.Ba/this.Aa,b=this.width/this.height,e=this.Vb,a&&0<this.If&&(e=this.If),this.pg=2!==e&&b>c||2===e&&b<c?this.height/this.Aa:this.width/this.Ba,this.fa&&(this.fa.mm(this.fa.scrollX),this.fa.nm(this.fa.scrollY))):this.pg=this.Ye?this.devicePixelRatio:1;this.ib();this.Pc++;this.vd.Yv();this.Pc--;this.ib();this.Pc++;b=this.Nl.pc();a=0;for(c=b.length;a<c;a++)b[a].Lv();a=
0;for(c=this.p.length;a<c;a++)if(k=this.p[a],!k.F&&(k.Ca.length||k.ya.length))for(b=0,e=k.e.length;b<e;b++)for(m=k.e[b],h=0,f=m.I.length;h<f;h++)m.I[h].wb();a=0;for(c=this.p.length;a<c;a++)if(k=this.p[a],!k.F&&(k.Ca.length||k.ya.length))for(b=0,e=k.e.length;b<e;b++)for(m=k.e[b],h=0,f=m.I.length;h<f;h++)d=m.I[h],d.Gv&&d.Gv();b=this.Ol.pc();a=0;for(c=b.length;a<c;a++)b[a].wb();this.Pc--;this.Mu();for(a=0;this.jk&&10>a++;)this.Sn(this.jk);a=0;for(c=this.Cd.length;a<c;a++)this.Cd[a].Wk=!1;this.fa.Qe&&
this.fa.Qe.Ma();T(this.dm);this.Bl=!1;this.Pc++;a=0;for(c=this.p.length;a<c;a++)if(k=this.p[a],!k.F&&(k.Ca.length||k.ya.length))for(b=0,e=k.e.length;b<e;b++)for(m=k.e[b],h=0,f=m.I.length;h<f;h++)d=m.I[h],d.fg&&d.fg();b=this.Pl.pc();a=0;for(c=b.length;a<c;a++)b[a].fg();this.Pc--};d.prototype.lf=function(){var a,c,b,e,h,f,k,m,d;a=0;for(c=this.p.length;a<c;a++)if(k=this.p[a],!k.F)for(b=0,e=k.e.length;b<e;b++)if(m=k.e[b],m.lf&&m.lf(),m.I)for(h=0,f=m.I.length;h<f;h++)d=m.I[h],d.lf&&d.lf()};d.prototype.Sn=
function(a){var c=this.fa;this.fa.jw();var b,e,h;if(this.n)for(b=0,e=this.p.length;b<e;b++)h=this.p[b],h.F||!h.Km||h.global&&0!==h.e.length||-1!==a.Lg.indexOf(h)||h.Km();c==a&&T(this.vd.Pb);T(this.dm);this.Pp(!0);a.wm();this.Pp(!1);this.Bl=this.X=!0;this.ib()};d.prototype.Pp=function(a){var c,b,e,h,f,k,m,d,t;c=0;for(b=this.Ca.length;c<b;c++)e=this.Ca[c],a?e.Zf&&e.Zf():e.lh&&e.lh();c=0;for(b=this.p.length;c<b;c++)if(e=this.p[c],e.global||e.qa.Fj)for(h=0,f=e.e.length;h<f;h++)if(k=e.e[h],a?k.Zf&&k.Zf():
k.lh&&k.lh(),k.I)for(m=0,d=k.I.length;m<d;m++)t=k.I[m],a?t.Zf&&t.Zf():t.lh&&t.lh()};d.prototype.Mv=function(a){this.Nl.add(a)};d.prototype.Dm=function(a){this.Ol.add(a)};d.prototype.mw=function(a){this.Pl.add(a)};d.prototype.Jf=function(a){return a&&-1!==a.jh?this.ee*a.jh:this.Df};d.prototype.Lc=function(){this.fa.Lc(this.xa);this.ke&&this.xa.present()};d.prototype.Eb=function(){this.oa&&(this.Pe=1,this.fa.Oe(this.n));this.fa.Eb(this.n);this.n.Kv()};d.prototype.qs=function(a){a&&this.yk.push(a)};
d.prototype.Pk=function(a){a=a.toString();return this.Jd.hasOwnProperty(a)?this.Jd[a]:null};var P=[];d.prototype.Cc=function(a){var c,b;c=a.type.name;var e=null;if(this.Ne.hasOwnProperty(c)){if(e=this.Ne[c],e.contains(a))return}else e=P.length?P.pop():new ca,this.Ne[c]=e;e.add(a);this.he=!0;if(a.zb)for(c=0,b=a.siblings.length;c<b;c++)this.Cc(a.siblings[c]);this.kl&&e.ig.push(a);this.jl||(this.Pc++,this.trigger(Object.getPrototypeOf(a.type.qa).g.jr,a),this.Pc--)};d.prototype.ib=function(){if(this.he){var a,
c,b,e,h,f;this.kl=!0;b=0;for(h=this.Kc.length;b<h;++b)for(a=this.Kc[b],c=a.type,c.e.push(a),e=0,f=c.ya.length;e<f;++e)c.ya[e].e.push(a),c.ya[e].eg=!0;T(this.Kc);this.Wq();Wa(this.Ne);this.he=this.kl=!1}};d.prototype.Wq=function(){for(var a in this.Ne)this.Ne.hasOwnProperty(a)&&this.Hq(this.Ne[a])};d.prototype.Hq=function(a){var c=a.pc(),b=c[0].type,e,h,f,k,m,d;Za(b.e,a);b.eg=!0;0===b.e.length&&(b.Rh=!1);e=0;for(h=b.ya.length;e<h;++e)d=b.ya[e],Za(d.e,a),d.eg=!0;e=0;for(h=this.vd.Pb.length;e<h;++e)if(m=
this.vd.Pb[e],m.Ab.hasOwnProperty(b.index)&&Za(m.Ab[b.index].Ed,a),!b.F)for(f=0,k=b.ya.length;f<k;++f)d=b.ya[f],m.Ab.hasOwnProperty(d.index)&&Za(m.Ab[d.index].Ed,a);if(m=c[0].k){if(m.oc)for(f=m.e,e=0,h=f.length;e<h;++e)k=f[e],a.contains(k)&&(k.Z(),m.hb.update(k,k.Lb,null),k.Lb.set(0,0,-1,-1));Za(m.e,a);m.wh(0)}for(e=0;e<c.length;++e)this.Gq(c[e],b);a.clear();P.push(a);this.X=!0};d.prototype.Gq=function(a,c){var b,e,h;b=0;for(e=this.yk.length;b<e;++b)this.yk[b](a);a.Zd&&c.ci.update(a,a.Zd,null);(b=
a.k)&&b.$f(a,!0);if(a.I)for(b=0,e=a.I.length;b<e;++b)h=a.I[b],h.nd&&h.nd(),h.behavior.ih.remove(a);this.Nl.remove(a);this.Ol.remove(a);this.Pl.remove(a);a.nd&&a.nd();this.Jd.hasOwnProperty(a.uid.toString())&&delete this.Jd[a.uid.toString()];this.ej--;100>c.ii.length&&c.ii.push(a)};d.prototype.pk=function(a,c,b,e){if(a.F){var h=F(Math.random()*a.kd.length);return this.pk(a.kd[h],c,b,e)}return a.rc?this.ae(a.rc,c,!1,b,e,!1):null};var V=[];d.prototype.ae=function(a,c,b,e,h,f){var k,m,d,t;if(!a)return null;
var u=this.p[a[1]],p=u.qa.ne;if(this.Mi&&p&&!u.ml||p&&!this.n&&11===a[0][11])return null;var w=c;p||(c=null);var g;u.ii.length?(g=u.ii.pop(),g.cc=!0,u.qa.S.call(g,u)):(g=new u.qa.S(u),g.cc=!1);!b||f||this.Jd.hasOwnProperty(a[2].toString())?g.uid=this.kh++:g.uid=a[2];this.Jd[g.uid.toString()]=g;g.Ip=this.tp++;g.Ve=u.e.length;k=0;for(m=this.Kc.length;k<m;++k)this.Kc[k].type===u&&g.Ve++;g.Gg=Eb;g.toString=Fb;d=a[3];if(g.cc)Wa(g.H);else{g.H={};if("undefined"!==typeof cr_is_preview)for(g.Bo=[],g.Bo.length=
d.length,k=0,m=d.length;k<m;k++)g.Bo[k]=d[k][1];g.pa=[];g.pa.length=d.length}k=0;for(m=d.length;k<m;k++)g.pa[k]=d[k][0];if(p){var l=a[0];g.x=ga(e)?l[0]:e;g.y=ga(h)?l[1]:h;g.z=l[2];g.width=l[3];g.height=l[4];g.depth=l[5];g.j=l[6];g.opacity=l[7];g.Fb=l[8];g.Gb=l[9];g.jb=l[10];k=l[11];!this.n&&u.O.length&&(g.jb=k);g.sg=hb(g.jb);this.u&&ib(g,g.jb,this.u);if(g.cc){k=0;for(m=l[12].length;k<m;k++)for(d=0,t=l[12][k].length;d<t;d++)g.Ea[k][d]=l[12][k][d];g.N.set(0,0,0,0);g.Zd.set(0,0,-1,-1);g.Lb.set(0,0,-1,
-1);g.Pa.ud(g.N);T(g.bk)}else{g.Ea=l[12].slice(0);k=0;for(m=g.Ea.length;k<m;k++)g.Ea[k]=l[12][k].slice(0);g.ka=[];g.Ud=[];g.Ud.length=u.O.length;g.N=new M(0,0,0,0);g.Zd=new M(0,0,-1,-1);g.Lb=new M(0,0,-1,-1);g.Pa=new ra;g.bk=[];g.G=Ib;g.Ex=Jb;g.ob=Kb;g.Z=Lb;g.ww=Mb;g.wq=Nb;g.gd=Ob}g.wd=!1;g.qw=0;g.pw=0;g.ow=null;14===l.length&&(g.wd=!0,g.qw=l[13][0],g.pw=l[13][1],g.ow=l[13][2]);k=0;for(m=u.O.length;k<m;k++)g.Ud[k]=!0;g.Nd=!0;g.Yc=Pb;g.Yc();g.yq=!!g.ka.length;g.ak=!0;g.fk=!0;u.Qh=!0;g.visible=!0;g.jh=
-1;g.k=c;g.Zc=c.e.length;g.Pe=0;"undefined"===typeof g.C&&(g.C=null);this.X=g.Jc=!0}var n;T(V);k=0;for(m=u.ya.length;k<m;k++)V.push.apply(V,u.ya[k].Ca);V.push.apply(V,u.Ca);if(g.cc)for(k=0,m=V.length;k<m;k++){var G=V[k];n=g.I[k];n.cc=!0;G.behavior.S.call(n,G,g);l=a[4][k];d=0;for(t=l.length;d<t;d++)n.A[d]=l[d];n.L();G.behavior.ih.add(g)}else for(g.I=[],k=0,m=V.length;k<m;k++)G=V[k],n=new G.behavior.S(G,g),n.cc=!1,n.A=a[4][k].slice(0),n.L(),g.I.push(n),G.behavior.ih.add(g);l=a[5];if(g.cc)for(k=0,m=
l.length;k<m;k++)g.A[k]=l[k];else g.A=l.slice(0);this.Kc.push(g);this.he=!0;c&&(c.og(g,!0),1!==c.Kd||1!==c.Ld)&&(u.Rh=!0);this.ej++;if(u.zb){if(g.zb=!0,g.cc?T(g.siblings):g.siblings=[],!b&&!f){k=0;for(m=u.Tb.length;k<m;k++)if(u.Tb[k]!==u){if(!u.Tb[k].rc)return null;g.siblings.push(this.ae(u.Tb[k].rc,w,!1,p?g.x:e,p?g.y:h,!0))}k=0;for(m=g.siblings.length;k<m;k++)for(g.siblings[k].siblings.push(g),d=0;d<m;d++)k!==d&&g.siblings[k].siblings.push(g.siblings[d])}}else g.zb=!1,g.siblings=null;g.L();k=0;for(m=
g.I.length;k<m;k++)g.I[k].Fv&&g.I[k].Fv();return g};d.prototype.po=function(a){var c,b;c=0;for(b=this.fa.P.length;c<b;c++){var e=this.fa.P[c];if(kb(e.name,a))return e}return null};d.prototype.qo=function(a){a=F(a);0>a&&(a=0);a>=this.fa.P.length&&(a=this.fa.P.length-1);return this.fa.P[a]};d.prototype.oo=function(a){return ha(a)?this.qo(a):this.po(a.toString())};d.prototype.kk=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].ba().ga=!0};d.prototype.rh=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].rh()};
d.prototype.kj=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].kj()};d.prototype.mf=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].mf()};d.prototype.uq=function(a){if(a.Qh){var c,b,e=a.e;c=0;for(b=e.length;c<b;++c)e[c].wq();e=this.Kc;c=0;for(b=e.length;c<b;++c)e[c].type===a&&e[c].wq();a.Qh=!1}};d.prototype.ho=function(a,c,b,e){var h,k,f=a?1!==a.Kd||1!==a.Ld:!1;if(c.F)for(a=0,h=c.kd.length;a<h;++a)k=c.kd[a],f||k.Rh?Ea(e,k.e):(this.uq(k),k.ci.mj(b,e));else f||c.Rh?Ea(e,c.e):(this.uq(c),c.ci.mj(b,
e))};d.prototype.Ai=function(a,c,b,e){var h,k;h=0;for(k=c.length;h<k;++h)this.ho(a,c[h],b,e)};d.prototype.Sk=function(a,c,b){var e=this.vm;e&&this.Ai(a,e.Ml,c,b)};d.prototype.Ij=function(a,c){if(!(a&&c&&a!==c&&a.Jc&&c.Jc))return!1;a.Z();c.Z();var b=a.k,e=c.k,h,k,f,m,d,t,g,u;if(b===e||b.Kd===e.Kd&&e.Ld===e.Ld&&b.scale===e.scale&&b.j===e.j&&b.Nh===e.Nh){if(!a.N.fl(c.N)||!a.Pa.el(c.Pa)||a.wd&&c.wd)return!1;if(a.wd)return this.iq(a,c);if(c.wd)return this.iq(c,a);g=a.C&&!a.C.hd();h=c.C&&!c.C.hd();if(!g&&
!h)return!0;g?(a.C.cd(a.width,a.height,a.j),g=a.C):(this.Nb.Md(a.Pa,a.x,a.y,a.width,a.height),g=this.Nb);h?(c.C.cd(c.width,c.height,c.j),u=c.C):(this.Nb.Md(c.Pa,c.x,c.y,c.width,c.height),u=this.Nb);return g.We(u,c.x-a.x,c.y-a.y)}g=a.C&&!a.C.hd();h=c.C&&!c.C.hd();g?(a.C.cd(a.width,a.height,a.j),this.Nb.Xp(a.C)):this.Nb.Md(a.Pa,a.x,a.y,a.width,a.height);g=this.Nb;h?(c.C.cd(c.width,c.height,c.j),this.ym.Xp(c.C)):this.ym.Md(c.Pa,c.x,c.y,c.width,c.height);u=this.ym;h=0;for(k=g.lc;h<k;h++)f=2*h,m=f+1,d=
g.Ja[f],t=g.Ja[m],g.Ja[f]=b.za(d+a.x,t+a.y,!0),g.Ja[m]=b.za(d+a.x,t+a.y,!1);g.Z();h=0;for(k=u.lc;h<k;h++)f=2*h,m=f+1,d=u.Ja[f],t=u.Ja[m],u.Ja[f]=e.za(d+c.x,t+c.y,!0),u.Ja[m]=e.za(d+c.x,t+c.y,!1);u.Z();return g.We(u,0,0)};var R=new ra,J=new M(0,0,0,0),D=[];d.prototype.iq=function(a,c){var b,e,h,k,f=c.N,m=a.x,d=a.y;a.wi(f,D);var t=c.C&&!c.C.hd();b=0;for(e=D.length;b<e;++b)if(h=D[b],k=h.nj,f.gl(k,m,d)&&(R.ud(k),R.offset(m,d),R.el(c.Pa)))if(t)if(c.C.cd(c.width,c.height,c.j),h.Tc){if(h.Tc.We(c.C,c.x-(m+
k.left),c.y-(d+k.top)))return T(D),!0}else{if(this.Nb.Md(R,0,0,k.right-k.left,k.bottom-k.top),this.Nb.We(c.C,c.x,c.y))return T(D),!0}else if(h.Tc){if(this.Nb.Md(c.Pa,0,0,c.width,c.height),h.Tc.We(this.Nb,-(m+k.left),-(d+k.top)))return T(D),!0}else return T(D),!0;T(D);return!1};d.prototype.zm=function(a,c){if(!c||!c.Jc)return!1;c.Z();if(!c.N.fl(a))return!1;if(c.wd){c.wi(a,D);var b,e,h,k,f=c.x,m=c.y;b=0;for(e=D.length;b<e;++b)if(h=D[b],k=h.nj,a.gl(k,f,m))if(h.Tc){if(this.Nb.ud(a,0,0),h.Tc.We(this.Nb,
-(f+k.left),-(m+k.top)))return T(D),!0}else return T(D),!0;T(D);return!1}R.ud(a);if(!c.Pa.el(R))return!1;if(!c.C||c.C.hd())return!0;c.C.cd(c.width,c.height,c.j);R.offset(-a.left,-a.top);this.Nb.Md(R,0,0,1,1);return c.C.We(this.Nb,a.left-c.x,a.top-c.y)};d.prototype.hq=function(a,c,b,e,h){if(!h||!h.Jc)return!1;h.Z();J.set(ma(a,b),ma(c,e),la(a,b),la(c,e));if(!h.N.fl(J))return!1;if(h.wd){h.wi(J,D);var k,f,m,d=h.x,t=h.y;h=0;for(k=D.length;h<k;++h)if(f=D[h],m=f.nj,J.gl(m,d,t)&&(R.ud(m),R.offset(d,t),R.Ng(a,
c,b,e)))if(f.Tc){if(f.Tc.Ng(d+m.left,t+m.top,a,c,b,e))return T(D),!0}else return T(D),!0;T(D);return!1}if(!h.Pa.Ng(a,c,b,e))return!1;if(!h.C||h.C.hd())return!0;h.C.cd(h.width,h.height,h.j);return h.C.Ng(h.x,h.y,a,c,b,e)};d.prototype.qq=function(a,c){if(!c)return!1;var b,e,h,k,f;b=0;for(e=a.Ca.length;b<e;b++)if(a.Ca[b].behavior instanceof c)return!0;if(!a.F)for(b=0,e=a.ya.length;b<e;b++)for(f=a.ya[b],h=0,k=f.Ca.length;h<k;h++)if(f.Ca[h].behavior instanceof c)return!0;return!1};d.prototype.Im=function(a){return this.qq(a,
ec.$w)};d.prototype.Jm=function(a){return this.qq(a,ec.ax)};var E=[];d.prototype.rf=function(a){var c,b,e;a.Z();this.Sk(a.k,a.N,E);c=0;for(b=E.length;c<b;++c)if(e=E[c],e.H.solidEnabled&&this.Ij(a,e))return T(E),e;T(E);return null};d.prototype.lw=function(a){var c,b,e;this.Sk(null,a,E);c=0;for(b=E.length;c<b;++c)if(e=E[c],e.H.solidEnabled&&this.zm(a,e))return T(E),e;T(E);return null};d.prototype.Jp=function(a,c,b,e){e=e||50;var h=a.x,k=a.y,f,m=null,d=null;for(f=0;f<e;f++)if(a.x=h+c*f,a.y=k+b*f,a.G(),
!this.Ij(a,m)&&((m=this.rf(a))&&(d=m),!m&&!m))return d&&this.Ov(a,c,b,d),!0;a.x=h;a.y=k;a.G();return!1};d.prototype.Ov=function(a,c,b,e){var h=2,k,f=!1;k=!1;for(var m=a.x,d=a.y;16>=h;)k=1/h,h*=2,a.x+=c*k*(f?1:-1),a.y+=b*k*(f?1:-1),a.G(),this.Ij(a,e)?k=f=!0:(k=f=!1,m=a.x,d=a.y);k&&(a.x=m,a.y=d,a.G())};d.prototype.Rv=function(a){var c=ga(void 0)?100:void 0,b=0,e=a.x,h=a.y,k=0,f=0,m=0,d=this.rf(a);if(!d)return!0;for(;b<=c;){switch(k){case 0:f=0;m=-1;b++;break;case 1:f=1;m=-1;break;case 2:f=1;m=0;break;
case 3:m=f=1;break;case 4:f=0;m=1;break;case 5:f=-1;m=1;break;case 6:f=-1;m=0;break;case 7:m=f=-1}k=(k+1)%8;a.x=F(e+f*b);a.y=F(h+m*b);a.G();if(!this.Ij(a,d)&&(d=this.rf(a),!d))return!0}a.x=e;a.y=h;a.G();return!1};d.prototype.pj=function(a,c){a.Jc&&c.Jc&&this.dm.push([a,c])};var ua=-1;d.prototype.trigger=function(a,c,b){if(!this.fa)return!1;var e=this.fa.Qe;if(!e)return!1;var h=!1,k,f,m;ua++;var d=e.uk;f=0;for(m=d.length;f<m;++f)k=this.nq(a,c,d[f],b),h=h||k;k=this.nq(a,c,e,b);ua--;return h||k};d.prototype.nq=
function(a,c,b,e){var h=!1,k,f,m,d;if(c)for(m=this.Gm(a,c,c.type.name,b,e),h=h||m,d=c.type.ya,k=0,f=d.length;k<f;++k)m=this.Gm(a,c,d[k].name,b,e),h=h||m;else m=this.Gm(a,c,"system",b,e),h=h||m;return h};d.prototype.Gm=function(a,c,b,e,h){var k,f=!1,m=!1,m="undefined"!==typeof h,d=(m?e.Yn:e.oq)[b];if(!d)return f;var t=null;e=0;for(k=d.length;e<k;++e)if(d[e].method==a){t=d[e].Ag;break}if(!t)return f;var g;m?g=t[h]:g=t;if(!g)return null;e=0;for(k=g.length;e<k;e++)a=g[e][0],h=g[e][1],m=this.au(c,b,a,
h),f=f||m;return f};d.prototype.au=function(a,c,b,e){var h,k,f=!1;this.Hm++;var m=this.rb().pb;m&&this.rh(m.Ee);var d=1<this.Hm;this.rh(b.Ee);d&&this.Pv();var t=this.lj(b);t.pb=b;a&&(h=this.types[c].ba(),h.ga=!1,T(h.e),h.e[0]=a,this.types[c].Je());a=!0;if(b.parent){c=t.gq;for(h=b.parent;h;)c.push(h),h=h.parent;c.reverse();h=0;for(k=c.length;h<k;h++)if(!c[h].$v()){a=!1;break}}a&&(this.Bg++,b.Rc?b.Zv(e):b.Ma(),f=f||t.bf);this.ij();d&&this.Dv();this.mf(b.Ee);m&&this.mf(m.Ee);this.he&&0===this.Pc&&0===
ua&&!this.nl&&this.ib();this.Hm--;return f};d.prototype.xi=function(){var a=this.rb();return a.pb.Ra[a.Qa]};d.prototype.lu=function(){return this.xi().type};d.prototype.Pv=function(){this.Yi++;this.Yi>=this.Il.length&&this.Il.push([])};d.prototype.Dv=function(){this.Yi--};d.prototype.io=function(){return this.Il[this.Yi]};d.prototype.lj=function(a){this.mi++;this.mi>=this.Ck.length&&this.Ck.push(new Qb);var c=this.rb();c.reset(a);return c};d.prototype.ij=function(){this.mi--};d.prototype.rb=function(){return this.Ck[this.mi]};
d.prototype.Qv=function(){this.$i++;this.$i>=this.Jl.length&&this.Jl.push(aa({name:void 0,index:0,xm:!1}));var a=this.mu();a.name=void 0;a.index=0;a.xm=!1;return a};d.prototype.Ev=function(){this.$i--};d.prototype.mu=function(){return this.Jl[this.$i]};d.prototype.jo=function(a,c){for(var b,e,h,k,f,m;c;){b=0;for(e=c.xc.length;b<e;b++)if(m=c.xc[b],m instanceof Rb&&kb(a,m.name))return m;c=c.parent}b=0;for(e=this.Cd.length;b<e;b++)for(f=this.Cd[b],h=0,k=f.fe.length;h<k;h++)if(m=f.fe[h],m instanceof Rb&&
kb(a,m.name))return m;return null};d.prototype.ro=function(a){var c,b;c=0;for(b=this.Qc.length;c<b;c++)if(this.Qc[c].Q===a)return this.Qc[c];return null};d.prototype.Se=function(a){var c,b;c=0;for(b=this.p.length;c<b;c++)if(this.p[c].Q===a)return this.p[c];return null};d.prototype.nu=function(a){var c,b;c=0;for(b=this.Af.length;c<b;c++)if(this.Af[c].Q===a)return this.Af[c];return null};d.prototype.Ss=function(a,c){this.Ah=[a,c];this.X=!0};d.prototype.Mu=function(){var a=this,c=this.lm,b=this.Gd,e=
this.Ti,h=!1;this.aq&&(h=!0,c="__c2_continuouspreview",this.aq=!1);if(c.length){this.ib();b=this.dw();if(n()&&!this.Nc)r(c,b,function(){ea("Saved state to IndexedDB storage ("+b.length+" bytes)");a.Gd=b;a.trigger(X.prototype.g.Wj,null);a.Gd="";h&&p()},function(e){try{localStorage.setItem("__c2save_"+c,b),ea("Saved state to WebStorage ("+b.length+" bytes)"),a.Gd=b,a.trigger(X.prototype.g.Wj,null),a.Gd="",h&&p()}catch(k){ea("Failed to save game state: "+e+"; "+k),a.trigger(X.prototype.g.cn,null)}});
else try{localStorage.setItem("__c2save_"+c,b),ea("Saved state to WebStorage ("+b.length+" bytes)"),a.Gd=b,this.trigger(X.prototype.g.Wj,null),a.Gd="",h&&p()}catch(k){ea("Error saving to WebStorage: "+k),a.trigger(X.prototype.g.cn,null)}this.Ti=this.lm="";this.Ua=null}if(e.length){if(n()&&!this.Nc)q(e,function(c){c?(a.Ua=c,ea("Loaded state from IndexedDB storage ("+a.Ua.length+" bytes)")):(a.Ua=localStorage.getItem("__c2save_"+e)||"",ea("Loaded state from WebStorage ("+a.Ua.length+" bytes)"));a.Bh=
!1;a.Ua||(a.Ua=null,a.trigger(X.prototype.g.Ph,null))},function(){a.Ua=localStorage.getItem("__c2save_"+e)||"";ea("Loaded state from WebStorage ("+a.Ua.length+" bytes)");a.Bh=!1;a.Ua||(a.Ua=null,a.trigger(X.prototype.g.Ph,null))});else{try{this.Ua=localStorage.getItem("__c2save_"+e)||"",ea("Loaded state from WebStorage ("+this.Ua.length+" bytes)")}catch(f){this.Ua=null}this.Bh=!1;a.Ua||(a.Ua=null,a.trigger(X.prototype.g.Ph,null))}this.lm=this.Ti=""}null!==this.Ua&&(this.ib(),this.iv(this.Ua)?(this.Gd=
this.Ua,this.trigger(X.prototype.g.qr,null),this.Gd=""):a.trigger(X.prototype.g.Ph,null),this.Ua=null)};d.prototype.dw=function(){var a,c,e,h,k,f,m,d={c2save:!0,version:1,rt:{time:this.Zb.V,walltime:this.Qj.V,timescale:this.gg,tickcount:this.zc,execcount:this.Bg,next_uid:this.kh,running_layout:this.fa.Q,start_time_offset:Date.now()-this.Gj},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(c=this.p.length;a<c;a++)if(k=this.p[a],!k.F&&!this.Im(k)){f={instances:[]};Va(k.H)&&(f.ex=
b(k.H));e=0;for(h=k.e.length;e<h;e++)f.instances.push(this.km(k.e[e]));d.types[k.Q.toString()]=f}a=0;for(c=this.Qc.length;a<c;a++)e=this.Qc[a],d.layouts[e.Q.toString()]=e.Na();h=d.events.groups;a=0;for(c=this.Af.length;a<c;a++)e=this.Af[a],h[e.Q.toString()]=this.Lf[e.Hg].Te;c=d.events.cnds;for(m in this.Yd)this.Yd.hasOwnProperty(m)&&(a=this.Yd[m],Va(a.H)&&(c[m]={ex:b(a.H)}));c=d.events.acts;for(m in this.Vd)this.Vd.hasOwnProperty(m)&&(a=this.Vd[m],Va(a.H)&&(c[m]={ex:b(a.H)}));c=d.events.vars;for(m in this.jg)this.jg.hasOwnProperty(m)&&
(a=this.jg[m],a.Ji||a.parent&&!a.Rg||(c[m]=a.data));d.system=this.vd.Na();return JSON.stringify(d)};d.prototype.Mp=function(){var a,c,b,e,h,k;this.Jd={};a=0;for(c=this.p.length;a<c;a++)if(b=this.p[a],!b.F)for(e=0,h=b.e.length;e<h;e++)k=b.e[e],this.Jd[k.uid.toString()]=k};d.prototype.iv=function(a){var c;try{c=JSON.parse(a)}catch(b){return!1}if(!c.c2save||1<c.version)return!1;this.Pg=!0;a=c.rt;this.Zb.reset();this.Zb.V=a.time;this.Qj.reset();this.Qj.V=a.walltime||0;this.gg=a.timescale;this.zc=a.tickcount;
this.Bg=a.execcount;this.Gj=Date.now()-a.start_time_offset;var e=a.running_layout;if(e!==this.fa.Q)if(e=this.ro(e))this.Sn(e);else return;var h,k,f,m,d,t,g;t=c.types;for(k in t)if(t.hasOwnProperty(k)&&(m=this.Se(parseInt(k,10)))&&!m.F&&!this.Im(m)){t[k].ex?m.H=t[k].ex:Wa(m.H);d=m.e;f=t[k].instances;e=0;for(h=ma(d.length,f.length);e<h;e++)this.Ui(d[e],f[e]);e=f.length;for(h=d.length;e<h;e++)this.Cc(d[e]);e=d.length;for(h=f.length;e<h;e++){d=null;if(m.qa.ne&&(d=this.fa.yi(f[e].w.l),!d))continue;d=this.ae(m.rc,
d,!1,0,0,!0);this.Ui(d,f[e])}m.eg=!0}this.ib();this.Mp();h=c.layouts;for(k in h)h.hasOwnProperty(k)&&(e=this.ro(parseInt(k,10)))&&e.$a(h[k]);h=c.events.groups;for(k in h)h.hasOwnProperty(k)&&(e=this.nu(parseInt(k,10)))&&this.Lf[e.Hg]&&this.Lf[e.Hg].yj(h[k]);e=c.events.cnds;for(k in this.Yd)this.Yd.hasOwnProperty(k)&&(e.hasOwnProperty(k)?this.Yd[k].H=e[k].ex:this.Yd[k].H={});e=c.events.acts;for(k in this.Vd)this.Vd.hasOwnProperty(k)&&(e.hasOwnProperty(k)?this.Vd[k].H=e[k].ex:this.Vd[k].H={});e=c.events.vars;
for(k in e)e.hasOwnProperty(k)&&this.jg.hasOwnProperty(k)&&(this.jg[k].data=e[k]);this.kh=a.next_uid;this.Pg=!1;e=0;for(h=this.oi.length;e<h;++e)d=this.oi[e],this.trigger(Object.getPrototypeOf(d.type.qa).g.xf,d);T(this.oi);this.vd.$a(c.system);e=0;for(h=this.p.length;e<h;e++)if(m=this.p[e],!m.F&&!this.Im(m))for(c=0,k=m.e.length;c<k;c++){d=m.e[c];if(m.zb)for(t=d.Gg(),T(d.siblings),a=0,f=m.Tb.length;a<f;a++)g=m.Tb[a],m!==g&&d.siblings.push(g.e[t]);d.xd&&d.xd();if(d.I)for(a=0,f=d.I.length;a<f;a++)t=
d.I[a],t.xd&&t.xd()}return this.X=!0};d.prototype.km=function(a,c){var e,h,k,f,m;f=a.type;k=f.qa;var d={};c?d.c2=!0:d.uid=a.uid;Va(a.H)&&(d.ex=b(a.H));if(a.pa&&a.pa.length)for(d.ivs={},e=0,h=a.pa.length;e<h;e++)d.ivs[a.type.dl[e].toString()]=a.pa[e];if(k.ne){k={x:a.x,y:a.y,w:a.width,h:a.height,l:a.k.Q,zi:a.gd()};0!==a.j&&(k.a=a.j);1!==a.opacity&&(k.o=a.opacity);.5!==a.Fb&&(k.hX=a.Fb);.5!==a.Gb&&(k.hY=a.Gb);0!==a.jb&&(k.bm=a.jb);a.visible||(k.v=a.visible);a.Jc||(k.ce=a.Jc);-1!==a.jh&&(k.mts=a.jh);
if(f.O.length)for(k.fx=[],e=0,h=f.O.length;e<h;e++)m=f.O[e],k.fx.push({name:m.name,active:a.Ud[m.index],params:a.Ea[m.index]});d.w=k}if(a.I&&a.I.length)for(d.behs={},e=0,h=a.I.length;e<h;e++)f=a.I[e],f.Na&&(d.behs[f.type.Q.toString()]=f.Na());a.Na&&(d.data=a.Na());return d};d.prototype.pu=function(a,c){var b,e;b=0;for(e=a.dl.length;b<e;b++)if(a.dl[b]===c)return b;return-1};d.prototype.ku=function(a,c){var b,e;b=0;for(e=a.I.length;b<e;b++)if(a.I[b].type.Q===c)return b;return-1};d.prototype.Ui=function(a,
c,b){var e,h,k,f,m;m=a.type;var d=m.qa;if(b){if(!c.c2)return}else a.uid=c.uid;c.ex?a.H=c.ex:Wa(a.H);if(h=c.ivs)for(e in h)h.hasOwnProperty(e)&&(k=this.pu(m,parseInt(e,10)),0>k||k>=a.pa.length||(f=h[e],null===f&&(f=NaN),a.pa[k]=f));if(d.ne){k=c.w;a.k.Q!==k.l&&(h=a.k,a.k=this.fa.yi(k.l),a.k?(h.$f(a,!0),a.k.og(a,!0),a.G(),a.k.wh(0)):(a.k=h,b||this.Cc(a)));a.x=k.x;a.y=k.y;a.width=k.w;a.height=k.h;a.Zc=k.zi;a.j=k.hasOwnProperty("a")?k.a:0;a.opacity=k.hasOwnProperty("o")?k.o:1;a.Fb=k.hasOwnProperty("hX")?
k.hX:.5;a.Gb=k.hasOwnProperty("hY")?k.hY:.5;a.visible=k.hasOwnProperty("v")?k.v:!0;a.Jc=k.hasOwnProperty("ce")?k.ce:!0;a.jh=k.hasOwnProperty("mts")?k.mts:-1;a.jb=k.hasOwnProperty("bm")?k.bm:0;a.sg=hb(a.jb);this.u&&ib(a,a.jb,this.u);a.G();if(k.hasOwnProperty("fx"))for(b=0,h=k.fx.length;b<h;b++)f=m.Mk(k.fx[b].name),0>f||(a.Ud[f]=k.fx[b].active,a.Ea[f]=k.fx[b].params);a.Yc()}if(m=c.behs)for(e in m)m.hasOwnProperty(e)&&(b=this.ku(a,parseInt(e,10)),0>b||a.I[b].$a(m[e]));c.data&&a.$a(c.data)};d.prototype.Zn=
function(a,c,b){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(c,b)},b)};d.prototype.cu=function(a,c){this.Zn("data.js",function(b){var e=new FileReader;e.onload=function(c){a(c.target.result)};e.onerror=c;e.readAsText(b)},c)};var va=[],O=0;d.prototype.Kl=function(){if(va.length&&!(8<=O)){O++;var a=va.shift();this.Vs(a.filename,a.kw,a.yt)}};d.prototype.bu=function(a,c,b){var e=this;va.push({filename:a,kw:function(a){O--;e.Kl();c(a)},yt:function(a){O--;
e.Kl();b(a)}});this.Kl()};d.prototype.Vs=function(a,c,b){this.Zn(a,function(a){var b=new FileReader;b.onload=function(a){c(a.target.result)};b.readAsArrayBuffer(a)},b)};d.prototype.du=function(a,c,b){var e="",h=a.toLowerCase(),k=h.substr(h.length-4),h=h.substr(h.length-5);".mp4"===k?e="video/mp4":".webm"===h?e="video/webm":".m4a"===k?e="audio/mp4":".mp3"===k&&(e="audio/mpeg");this.bu(a,function(a){a=URL.createObjectURL(new Blob([a],{type:e}));c(a)},b)};d.prototype.Su=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||
"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.prototype.Vp=function(a,c){this.Eo&&!this.Su(c)?this.du(c,function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src=c};d.prototype.wj=function(a,c){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=c:(a.webkitImageSmoothingEnabled=c,a.mozImageSmoothingEnabled=c,a.msImageSmoothingEnabled=c)};Sb=function(a){return new d(document.getElementById(a))};Tb=function(a,c){return new d({dc:!0,width:a,height:c})};window.cr_createRuntime=
Sb;window.cr_createDCRuntime=Tb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.rg=!0;document.body.appendChild(a);a=new d(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new d(document.getElementById("canvas"));
window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var d=document.getElementById("c2canvas");return d?d.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(d,l){var n=window.cr_getC2Runtime();n&&n.Ss(d,l)};window.cr_sizeCanvas=function(d,l){if(0!==d&&0!==l){var n=window.cr_getC2Runtime();n&&n.setSize(d,l)}};window.cr_setSuspended=function(d){var l=window.cr_getC2Runtime();l&&l.setSuspended(d)};
(function(){function d(a,c){this.b=a;this.Qe=null;this.scrollX=this.b.Ba/2;this.scrollY=this.b.Aa/2;this.scale=1;this.j=0;this.Hf=!0;this.name=c[0];this.yv=c[1];this.xv=c[2];this.width=c[1];this.height=c[2];this.rq=c[3];this.$p=c[4];this.Q=c[5];var b=c[6],e,f;this.P=[];this.Lg=[];e=0;for(f=b.length;e<f;e++){var d=new Ub(this,b[e]);d.up=e;this.P.push(d)}b=c[7];this.ie=[];e=0;for(f=b.length;e<f;e++){var d=b[e],g=this.b.p[d[1]];g.rc||(g.rc=d);this.ie.push(d);-1===this.Lg.indexOf(g)&&this.Lg.push(g)}this.O=
[];this.ka=[];this.Nd=!0;this.Ea=[];e=0;for(f=c[8].length;e<f;e++)this.O.push({id:c[8][e][0],name:c[8][e][1],Oa:-1,Uc:!1,ec:!0,index:e}),this.Ea.push(c[8][e][2].slice(0));this.Yc();this.Be=new M(0,0,1,1);this.cm=new M(0,0,1,1);this.Ae={}}function l(a,c){return a.Zc-c.Zc}function n(a,c){this.Ta=a;this.b=a.b;this.e=[];this.scale=1;this.j=0;this.Ad=!1;this.Qd=new M(0,0,0,0);this.mq=new ra;this.ia=this.ja=this.ma=this.ca=0;this.uf=!1;this.Sd=-1;this.lk=0;this.name=c[0];this.index=c[1];this.Q=c[2];this.visible=
c[3];this.Fc=c[4];this.Xc=c[5];this.Kd=c[6];this.Ld=c[7];this.opacity=c[8];this.si=c[9];this.oc=c[10];this.Nh=c[11];this.jb=c[12];this.qt=c[13];this.sg="source-over";this.qb=this.tb=0;this.hb=null;this.Hd=g();this.Wc=!0;this.Tf=new M(0,0,-1,-1);this.eb=new M(0,0,-1,-1);this.oc&&(this.hb=new gb(this.b.Ba,this.b.Aa));this.td=!1;var b=c[14],e,f;this.fq=[];this.ic=[];this.vg=[];e=0;for(f=b.length;e<f;e++){var d=b[e],p=this.b.p[d[1]];p.rc||(p.rc=d,p.Qn=this.index);this.ic.push(d);-1===this.Ta.Lg.indexOf(p)&&
this.Ta.Lg.push(p)}Da(this.fq,this.ic);this.O=[];this.ka=[];this.Nd=!0;this.Ea=[];e=0;for(f=c[15].length;e<f;e++)this.O.push({id:c[15][e][0],name:c[15][e][1],Oa:-1,Uc:!1,ec:!0,index:e}),this.Ea.push(c[15][e][2].slice(0));this.Yc();this.Be=new M(0,0,1,1);this.cm=new M(0,0,1,1)}function g(){return b.length?b.pop():[]}function r(a){T(a);b.push(a)}d.prototype.cw=function(a){var c=a.type.Q.toString();this.Ae.hasOwnProperty(c)||(this.Ae[c]=[]);this.Ae[c].push(this.b.km(a))};d.prototype.uo=function(){var a=
this.P[0];return!a.Xc&&1===a.opacity&&!a.si&&a.visible};d.prototype.Yc=function(){T(this.ka);this.Nd=!0;var a,c,b;a=0;for(c=this.O.length;a<c;a++)b=this.O[a],b.ec&&(this.ka.push(b),b.Uc||(this.Nd=!1))};d.prototype.Lk=function(a){var c,b,e;c=0;for(b=this.O.length;c<b;c++)if(e=this.O[c],e.name===a)return e;return null};var q=[],p=!0;d.prototype.wm=function(){this.$p&&(this.Qe=this.b.Dk[this.$p],this.Qe.Lm());this.b.fa=this;this.width=this.yv;this.height=this.xv;this.scrollX=this.b.Ba/2;this.scrollY=
this.b.Aa/2;var a,c,b,e,f,d,g;a=0;for(b=this.b.p.length;a<b;a++)if(c=this.b.p[a],!c.F)for(f=c.e,c=0,e=f.length;c<e;c++)if(d=f[c],d.k){var m=d.k.up;m>=this.P.length&&(m=this.P.length-1);d.k=this.P[m];-1===d.k.e.indexOf(d)&&d.k.e.push(d);d.k.uf=!0}if(!p)for(a=0,b=this.P.length;a<b;++a)this.P[a].e.sort(l);T(q);this.Bs();a=0;for(b=this.P.length;a<b;a++)d=this.P[a],d.Ns(),d.Oj();f=!1;if(!this.Hf){for(g in this.Ae)if(this.Ae.hasOwnProperty(g)&&(c=this.b.Se(parseInt(g,10)))&&!c.F&&this.b.Jm(c)){e=this.Ae[g];
a=0;for(b=e.length;a<b;a++){d=null;if(c.qa.ne&&(d=this.yi(e[a].w.l),!d))continue;d=this.b.ae(c.rc,d,!1,0,0,!0);this.b.Ui(d,e[a]);f=!0;q.push(d)}T(e)}a=0;for(b=this.P.length;a<b;a++)this.P[a].e.sort(l),this.P[a].uf=!0}f&&(this.b.ib(),this.b.Mp());for(a=0;a<q.length;a++)if(d=q[a],d.type.zb)for(b=d.Gg(),c=0,e=d.type.Tb.length;c<e;c++)g=d.type.Tb[c],d.type!==g&&(g.e.length>b?d.siblings.push(g.e[b]):g.rc&&(f=this.b.ae(g.rc,d.k,!0,d.x,d.y,!0),this.b.ib(),g.Nj(),d.siblings.push(f),q.push(f)));a=0;for(b=
this.ie.length;a<b;a++)d=this.ie[a],c=this.b.p[d[1]],c.zb||this.b.ae(this.ie[a],null,!0);this.b.jk=null;this.b.ib();if(this.b.xa&&!this.b.Hb)for(a=0,b=this.b.p.length;a<b;a++)g=this.b.p[a],!g.F&&g.e.length&&g.Wl&&g.Wl(this.b.xa);if(this.b.Pg)Da(this.b.oi,q);else for(a=0,b=q.length;a<b;a++)d=q[a],this.b.trigger(Object.getPrototypeOf(d.type.qa).g.xf,d);T(q);this.b.Pg||this.b.trigger(X.prototype.g.Zm,null);this.Hf=!1};d.prototype.Ms=function(){var a,c,b,e,f;c=a=0;for(b=this.ie.length;a<b;a++)e=this.ie[a],
f=this.b.p[e[1]],f.global?f.zb||this.b.ae(e,null,!0):(this.ie[c]=e,c++);Ca(this.ie,c)};d.prototype.jw=function(){this.b.Pg||this.b.trigger(X.prototype.g.pr,null);this.b.jl=!0;T(this.b.vd.Pb);var a,c,b,e,f,d;if(!this.Hf)for(a=0,c=this.P.length;a<c;a++)for(this.P[a].Nm(),f=this.P[a].e,b=0,e=f.length;b<e;b++)d=f[b],d.type.global||this.b.Jm(d.type)&&this.cw(d);a=0;for(c=this.P.length;a<c;a++){f=this.P[a].e;b=0;for(e=f.length;b<e;b++)d=f[b],d.type.global||this.b.Cc(d);this.b.ib();T(f);this.P[a].uf=!0}a=
0;for(c=this.b.p.length;a<c;a++)if(f=this.b.p[a],!(f.global||f.qa.ne||f.qa.Fj||f.F)){b=0;for(e=f.e.length;b<e;b++)this.b.Cc(f.e[b]);this.b.ib()}p=!1;this.b.jl=!1};new M(0,0,0,0);d.prototype.Lc=function(a){var c,b=a,e=!1,f=!this.b.gc;f&&(this.b.Si||(this.b.Si=document.createElement("canvas"),c=this.b.Si,c.width=this.b.K,c.height=this.b.J,this.b.Qo=c.getContext("2d"),e=!0),c=this.b.Si,b=this.b.Qo,c.width!==this.b.K&&(c.width=this.b.K,e=!0),c.height!==this.b.J&&(c.height=this.b.J,e=!0),e&&this.b.wj(b,
this.b.wa));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.b.Jn&&!this.uo()&&b.clearRect(0,0,this.b.K,this.b.J);var d,g,e=0;for(d=this.P.length;e<d;e++)g=this.P[e],g.visible&&0<g.opacity&&11!==g.jb&&(g.e.length||!g.Xc)?g.Lc(b):g.Oj();f&&a.drawImage(c,0,0,this.b.width,this.b.height)};d.prototype.Oe=function(a){a.Up(!0);this.b.La||(this.b.La=a.Db(this.b.K,this.b.J,this.b.wa));if(this.b.La.Me!==this.b.K||this.b.La.Le!==this.b.J)a.deleteTexture(this.b.La),this.b.La=a.Db(this.b.K,this.b.J,
this.b.wa);a.vc(this.b.La);this.b.gc||a.pf(this.b.K,this.b.J);var c,b;for(c=this.P.length-1;0<=c;--c)b=this.P[c],b.visible&&1===b.opacity&&b.Nd&&0===b.jb&&(b.e.length||!b.Xc)?b.Oe(a):b.Oj();a.Up(!1)};d.prototype.Eb=function(a){var c=0<this.ka.length||this.b.hg||!this.b.gc||this.b.oa;if(c){this.b.La||(this.b.La=a.Db(this.b.K,this.b.J,this.b.wa));if(this.b.La.Me!==this.b.K||this.b.La.Le!==this.b.J)a.deleteTexture(this.b.La),this.b.La=a.Db(this.b.K,this.b.J,this.b.wa);a.vc(this.b.La);this.b.gc||a.pf(this.b.K,
this.b.J)}else this.b.La&&(a.vc(null),a.deleteTexture(this.b.La),this.b.La=null);this.b.Jn&&!this.uo()&&a.clear(0,0,0,0);var b,e,f;b=0;for(e=this.P.length;b<e;b++)f=this.P[b],f.visible&&0<f.opacity&&(f.e.length||!f.Xc)?f.Eb(a):f.Oj();c&&(0===this.ka.length||1===this.ka.length&&this.b.gc?(1===this.ka.length?(c=this.ka[0].index,a.Mb(this.ka[0].Oa),a.bg(null,1/this.b.K,1/this.b.J,0,0,1,1,this.scale,this.j,0,0,this.b.K/2,this.b.J/2,this.b.Zb.V,this.Ea[c]),a.jj(this.ka[0].Oa)&&(this.b.X=!0)):a.Mb(0),this.b.gc||
a.pf(this.b.width,this.b.height),a.vc(null),a.Tp(!1),a.De(1),a.Va(this.b.La),a.Rp(),a.uc(),a.nc(),c=this.b.width/2,b=this.b.height/2,a.nf(-c,b,c,b,c,-b,-c,-b),a.Va(null),a.Tp(!0)):this.em(a,null,null,null))};d.prototype.Fg=function(){return 0<this.ka.length||this.b.hg||!this.b.gc||this.b.oa?this.b.La:null};d.prototype.so=function(){var a=this.P[0].Yb(),c,b,e;c=1;for(b=this.P.length;c<b;c++)e=this.P[c],(0!==e.Kd||0!==e.Ld)&&e.Yb()<a&&(a=e.Yb());return a};d.prototype.mm=function(a){if(!this.rq){var c=
1/this.so()*this.b.K/2;a>this.width-c&&(a=this.width-c);a<c&&(a=c)}this.scrollX!==a&&(this.scrollX=a,this.b.X=!0)};d.prototype.nm=function(a){if(!this.rq){var c=1/this.so()*this.b.J/2;a>this.height-c&&(a=this.height-c);a<c&&(a=c)}this.scrollY!==a&&(this.scrollY=a,this.b.X=!0)};d.prototype.Bs=function(){this.mm(this.scrollX);this.nm(this.scrollY)};d.prototype.em=function(a,c,b,e){var f=b?b.ka:c?c.ka:this.ka,d=1,g=0,m=0,u=0,p=this.b.K,l=this.b.J;b?(d=b.k.Yb(),g=b.k.Wb(),m=b.k.ca,u=b.k.ja,p=b.k.ma,l=
b.k.ia):c&&(d=c.Yb(),g=c.Wb(),m=c.ca,u=c.ja,p=c.ma,l=c.ia);var n=this.b.Jk,q,r,A,C,P=0,V=1,R,J,D=this.b.K,E=this.b.J,ua=D/2,va=E/2,O=c?c.Be:this.Be,x=c?c.cm:this.cm,y=0,z=0,L=0,I=0,U=D,ya=D,S=E,za=E,pa=A=0;C=b?b.k.Wb():0;if(b){q=0;for(r=f.length;q<r;q++)A+=a.tu(f[q].Oa),pa+=a.uu(f[q].Oa);I=b.N;y=c.za(I.left,I.top,!0,!0);L=c.za(I.left,I.top,!1,!0);U=c.za(I.right,I.bottom,!0,!0);S=c.za(I.right,I.bottom,!1,!0);0!==C&&(q=c.za(I.right,I.top,!0,!0),r=c.za(I.right,I.top,!1,!0),z=c.za(I.left,I.bottom,!0,
!0),I=c.za(I.left,I.bottom,!1,!0),C=Math.min(y,U,q,z),U=Math.max(y,U,q,z),y=C,C=Math.min(L,S,r,I),S=Math.max(L,S,r,I),L=C);y-=A;L-=pa;U+=A;S+=pa;x.left=y/D;x.top=1-L/E;x.right=U/D;x.bottom=1-S/E;z=y=F(y);I=L=F(L);ya=U=oa(U);za=S=oa(S);z-=A;I-=pa;ya+=A;za+=pa;0>y&&(y=0);0>L&&(L=0);U>D&&(U=D);S>E&&(S=E);0>z&&(z=0);0>I&&(I=0);ya>D&&(ya=D);za>E&&(za=E);O.left=y/D;O.top=1-L/E;O.right=U/D;O.bottom=1-S/E}else O.left=x.left=0,O.top=x.top=0,O.right=x.right=1,O.bottom=x.bottom=1;pa=b&&(a.ph(f[0].Oa)||0!==A||
0!==pa||1!==b.opacity||b.type.qa.rp)||c&&!b&&1!==c.opacity;a.Rp();if(pa){n[P]||(n[P]=a.Db(D,E,this.b.wa));if(n[P].Me!==D||n[P].Le!==E)a.deleteTexture(n[P]),n[P]=a.Db(D,E,this.b.wa);a.Mb(0);a.vc(n[P]);J=za-I;a.clearRect(z,E-I-J,ya-z,J);b?b.Eb(a):(a.Va(this.b.Sa),a.De(c.opacity),a.uc(),a.translate(-ua,-va),a.nc(),a.qd(y,S,U,S,U,L,y,L,O));x.left=x.top=0;x.right=x.bottom=1;b&&(C=O.top,O.top=O.bottom,O.bottom=C);P=1;V=0}a.De(1);A=f.length-1;var db=a.Yl(f[A].Oa)||!c&&!b&&!this.b.gc;q=C=0;for(r=f.length;q<
r;q++){n[P]||(n[P]=a.Db(D,E,this.b.wa));if(n[P].Me!==D||n[P].Le!==E)a.deleteTexture(n[P]),n[P]=a.Db(D,E,this.b.wa);a.Mb(f[q].Oa);C=f[q].index;a.jj(f[q].Oa)&&(this.b.X=!0);0!=q||pa?(a.bg(e,1/D,1/E,x.left,x.top,x.right,x.bottom,d,g,m,u,(m+p)/2,(u+l)/2,this.b.Zb.V,b?b.Ea[C]:c?c.Ea[C]:this.Ea[C]),a.Va(null),q!==A||db?(a.vc(n[P]),J=za-I,R=E-I-J,a.clearRect(z,R,ya-z,J)):(b?a.Ce(b.tb,b.qb):c&&a.Ce(c.tb,c.qb),a.vc(e)),a.Va(n[V]),a.uc(),a.translate(-ua,-va),a.nc(),a.qd(y,S,U,S,U,L,y,L,O),q!==A||db||a.Va(null)):
(a.vc(n[P]),J=za-I,R=E-I-J,a.clearRect(z,R,ya-z,J),b?(b.bb&&b.bb.Y?(R=b.bb.Y,V=1/R.width,R=1/R.height):(V=1/b.width,R=1/b.height),a.bg(e,V,R,x.left,x.top,x.right,x.bottom,d,g,m,u,(m+p)/2,(u+l)/2,this.b.Zb.V,b.Ea[C]),b.Eb(a)):(a.bg(e,1/D,1/E,0,0,1,1,d,g,m,u,(m+p)/2,(u+l)/2,this.b.Zb.V,c?c.Ea[C]:this.Ea[C]),a.Va(c?this.b.Sa:this.b.La),a.uc(),a.translate(-ua,-va),a.nc(),a.qd(y,S,U,S,U,L,y,L,O)),x.left=x.top=0,x.right=x.bottom=1,b&&!db&&(C=S,S=L,L=C));P=0===P?1:0;V=0===P?1:0}db&&(a.Mb(0),b?a.Ce(b.tb,
b.qb):c?a.Ce(c.tb,c.qb):this.b.gc||(a.pf(this.b.width,this.b.height),ua=this.b.width/2,va=this.b.height/2,L=y=0,U=this.b.width,S=this.b.height),a.vc(e),a.Va(n[V]),a.uc(),a.translate(-ua,-va),a.nc(),b&&1===f.length&&!pa?a.qd(y,L,U,L,U,S,y,S,O):a.qd(y,S,U,S,U,L,y,L,O),a.Va(null))};d.prototype.yi=function(a){var c,b;c=0;for(b=this.P.length;c<b;c++)if(this.P[c].Q===a)return this.P[c];return null};d.prototype.Na=function(){var a,c,b,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,
h:this.height,fv:this.Hf,persist:this.Ae,fx:[],layers:{}};a=0;for(c=this.O.length;a<c;a++)b=this.O[a],e.fx.push({name:b.name,active:b.ec,params:this.Ea[b.index]});a=0;for(c=this.P.length;a<c;a++)b=this.P[a],e.layers[b.Q.toString()]=b.Na();return e};d.prototype.$a=function(a){var c,b,e,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.j=a.a;this.width=a.w;this.height=a.h;this.Ae=a.persist;"undefined"!==typeof a.fv&&(this.Hf=a.fv);var d=a.fx;c=0;for(b=d.length;c<b;c++)if(e=this.Lk(d[c].name))e.ec=
d[c].active,this.Ea[e.index]=d[c].params;this.Yc();c=a.layers;for(f in c)c.hasOwnProperty(f)&&(a=this.yi(parseInt(f,10)))&&a.$a(c[f])};Gb=d;n.prototype.Yc=function(){T(this.ka);this.Nd=!0;var a,c,b;a=0;for(c=this.O.length;a<c;a++)b=this.O[a],b.ec&&(this.ka.push(b),b.Uc||(this.Nd=!1))};n.prototype.Lk=function(a){var c,b,e;c=0;for(b=this.O.length;c<b;c++)if(e=this.O[c],e.name===a)return e;return null};n.prototype.Ns=function(){var a,c,b,e,f,d;c=a=0;for(b=this.ic.length;a<b;a++){e=this.ic[a];f=this.b.p[e[1]];
d=this.b.Jm(f);f=!0;if(!d||this.Ta.Hf){e=this.b.ae(e,this,!0);if(!e)continue;q.push(e);e.type.global&&(f=!1,this.vg.push(e.uid))}f&&(this.ic[c]=this.ic[a],c++)}this.ic.length=c;this.b.ib();!this.b.n&&this.O.length&&(this.jb=this.qt);this.sg=hb(this.jb);this.b.u&&ib(this,this.jb,this.b.u);this.Wc=!0};n.prototype.$f=function(a,c){var b=Fa(this.e,a);0>b||(c&&this.oc&&a.Lb&&a.Lb.right>=a.Lb.left&&(a.Z(),this.hb.update(a,a.Lb,null),a.Lb.set(0,0,-1,-1)),b===this.e.length-1?this.e.pop():(Ba(this.e,b),this.wh(b)),
this.Wc=!0)};n.prototype.og=function(a,c){a.Zc=this.e.length;this.e.push(a);c&&this.oc&&a.Lb&&a.G();this.Wc=!0};n.prototype.Jv=function(a){this.e.unshift(a);this.wh(0)};n.prototype.mv=function(a,c,b){var e=a.gd();c=c.gd();Ba(this.e,e);e<c&&c--;b&&c++;c===this.e.length?this.e.push(a):this.e.splice(c,0,a);this.wh(e<c?e:c)};n.prototype.wh=function(a){-1===this.Sd?this.Sd=a:a<this.Sd&&(this.Sd=a);this.Wc=this.uf=!0};n.prototype.Nm=function(){if(this.uf){-1===this.Sd&&(this.Sd=0);var a,c,b;if(this.oc)for(a=
this.Sd,c=this.e.length;a<c;++a)b=this.e[a],b.Zc=a,this.hb.kv(b.Lb);else for(a=this.Sd,c=this.e.length;a<c;++a)this.e[a].Zc=a;this.uf=!1;this.Sd=-1}};n.prototype.Yb=function(a){return this.qu()*(this.b.gc||a?this.b.pg:1)};n.prototype.qu=function(){return(this.scale*this.Ta.scale-1)*this.Nh+1};n.prototype.Wb=function(){return this.Ad?0:Ka(this.Ta.j+this.j)};var b=[],f=[],e=[];n.prototype.Qk=function(){this.Nm();this.hb.mj(this.ca,this.ja,this.ma,this.ia,e);if(!e.length)return g();if(1===e.length){var a=
g();Da(a,e[0]);T(e);return a}for(var c=!0;1<e.length;){for(var a=e,b=void 0,h=void 0,d=void 0,p=void 0,l=void 0,b=0,h=a.length;b<h-1;b+=2){var d=a[b],p=a[b+1],l=g(),m=d,u=p,n=l,q=0,H=0,K=0,N=m.length,A=u.length,C=void 0,P=void 0;for(n.length=N+A;q<N&&H<A;++K)C=m[q],P=u[H],C.Zc<P.Zc?(n[K]=C,++q):(n[K]=P,++H);for(;q<N;++q,++K)n[K]=m[q];for(;H<A;++H,++K)n[K]=u[H];c||(r(d),r(p));f.push(l)}1===h%2&&(c?(d=g(),Da(d,a[h-1]),f.push(d)):f.push(a[h-1]));Da(a,f);T(f);c=!1}a=e[0];T(e);return a};n.prototype.Lc=
function(a){this.td=this.si||1!==this.opacity||0!==this.jb;var c=this.b.canvas,b=a,e=!1;this.td&&(this.b.Ri||(this.b.Ri=document.createElement("canvas"),c=this.b.Ri,c.width=this.b.K,c.height=this.b.J,this.b.Po=c.getContext("2d"),e=!0),c=this.b.Ri,b=this.b.Po,c.width!==this.b.K&&(c.width=this.b.K,e=!0),c.height!==this.b.J&&(c.height=this.b.J,e=!0),e&&this.b.wj(b,this.b.wa),this.Xc&&b.clearRect(0,0,this.b.K,this.b.J));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.Xc||(b.fillStyle="rgb("+
this.Fc[0]+","+this.Fc[1]+","+this.Fc[2]+")",b.fillRect(0,0,this.b.K,this.b.J));b.save();this.Ad=!0;var e=this.Xd(!0),f=this.Xd(!1);this.Ad=!1;this.b.Sc&&(e=Math.round(e),f=Math.round(f));this.sj(e,f,b);var d=this.Yb();b.scale(d,d);b.translate(-e,-f);this.oc?(this.eb.left=this.hb.Bb(this.ca),this.eb.top=this.hb.Cb(this.ja),this.eb.right=this.hb.Bb(this.ma),this.eb.bottom=this.hb.Cb(this.ia),this.Wc||!this.eb.zg(this.Tf)?(r(this.Hd),e=this.Qk(),this.Wc=!1,this.Tf.tg(this.eb)):e=this.Hd):e=this.e;for(var g,
m=null,f=0,d=e.length;f<d;++f)g=e[f],g!==m&&(this.lt(g,b),m=g);this.oc&&(this.Hd=e);b.restore();this.td&&(a.globalCompositeOperation=this.sg,a.globalAlpha=this.opacity,a.drawImage(c,0,0))};n.prototype.lt=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.Z();var b=a.N;b.right<this.ca||b.bottom<this.ja||b.left>this.ma||b.top>this.ia||(c.globalCompositeOperation=a.sg,a.Lc(c))}};n.prototype.Oj=function(){this.Ad=!0;var a=this.Xd(!0),c=this.Xd(!1);this.Ad=!1;this.b.Sc&&(a=Math.round(a),c=Math.round(c));
this.sj(a,c,null)};n.prototype.sj=function(a,c,b){var e=this.Yb();this.ca=a;this.ja=c;this.ma=a+1/e*this.b.K;this.ia=c+1/e*this.b.J;this.ca>this.ma&&(a=this.ca,this.ca=this.ma,this.ma=a);this.ja>this.ia&&(a=this.ja,this.ja=this.ia,this.ia=a);a=this.Wb();0!==a&&(b&&(b.translate(this.b.K/2,this.b.J/2),b.rotate(-a),b.translate(this.b.K/-2,this.b.J/-2)),this.Qd.set(this.ca,this.ja,this.ma,this.ia),this.Qd.offset((this.ca+this.ma)/-2,(this.ja+this.ia)/-2),this.mq.Yp(this.Qd,a),this.mq.zn(this.Qd),this.Qd.offset((this.ca+
this.ma)/2,(this.ja+this.ia)/2),this.ca=this.Qd.left,this.ja=this.Qd.top,this.ma=this.Qd.right,this.ia=this.Qd.bottom)};n.prototype.Oe=function(a){if(this.td=this.si){this.b.Sa||(this.b.Sa=a.Db(this.b.K,this.b.J,this.b.wa));if(this.b.Sa.Me!==this.b.K||this.b.Sa.Le!==this.b.J)a.deleteTexture(this.b.Sa),this.b.Sa=a.Db(this.b.K,this.b.J,this.b.wa);a.vc(this.b.Sa)}this.Ad=!0;var c=this.Xd(!0),b=this.Xd(!1);this.Ad=!1;this.b.Sc&&(c=Math.round(c),b=Math.round(b));this.sj(c,b,null);c=this.Yb();a.uc();a.scale(c,
c);a.tj(-this.Wb());a.translate((this.ca+this.ma)/-2,(this.ja+this.ia)/-2);a.nc();this.oc?(this.eb.left=this.hb.Bb(this.ca),this.eb.top=this.hb.Cb(this.ja),this.eb.right=this.hb.Bb(this.ma),this.eb.bottom=this.hb.Cb(this.ia),this.Wc||!this.eb.zg(this.Tf)?(r(this.Hd),c=this.Qk(),this.Wc=!1,this.Tf.tg(this.eb)):c=this.Hd):c=this.e;for(var e,f=null,b=c.length-1;0<=b;--b)e=c[b],e!==f&&(this.nt(c[b],a),f=e);this.oc&&(this.Hd=c);this.Xc||(this.lk=this.b.Pe++,a.xj(this.lk),a.Sp(1,1,1),a.co(),a.Uv())};n.prototype.Eb=
function(a){var c=0,b=0;if(this.td=this.si||1!==this.opacity||0<this.ka.length||0!==this.jb){this.b.Sa||(this.b.Sa=a.Db(this.b.K,this.b.J,this.b.wa));if(this.b.Sa.Me!==this.b.K||this.b.Sa.Le!==this.b.J)a.deleteTexture(this.b.Sa),this.b.Sa=a.Db(this.b.K,this.b.J,this.b.wa);a.vc(this.b.Sa);this.Xc&&a.clear(0,0,0,0)}this.Xc||(this.b.oa?(a.xj(this.lk),a.Sp(this.Fc[0]/255,this.Fc[1]/255,this.Fc[2]/255),a.co(),a.ew()):a.clear(this.Fc[0]/255,this.Fc[1]/255,this.Fc[2]/255,1));this.Ad=!0;var e=this.Xd(!0),
c=this.Xd(!1);this.Ad=!1;this.b.Sc&&(e=Math.round(e),c=Math.round(c));this.sj(e,c,null);e=this.Yb();a.uc();a.scale(e,e);a.tj(-this.Wb());a.translate((this.ca+this.ma)/-2,(this.ja+this.ia)/-2);a.nc();this.oc?(this.eb.left=this.hb.Bb(this.ca),this.eb.top=this.hb.Cb(this.ja),this.eb.right=this.hb.Bb(this.ma),this.eb.bottom=this.hb.Cb(this.ia),this.Wc||!this.eb.zg(this.Tf)?(r(this.Hd),c=this.Qk(),this.Wc=!1,this.Tf.tg(this.eb)):c=this.Hd):c=this.e;var f,d,g=null,b=0;for(f=c.length;b<f;++b)d=c[b],d!==
g&&(this.mt(c[b],a),g=d);this.oc&&(this.Hd=c);this.td&&(c=this.ka.length?this.ka[0].Oa:0,b=this.ka.length?this.ka[0].index:0,0===this.ka.length||1===this.ka.length&&!a.Yl(c)&&1===this.opacity?(1===this.ka.length?(a.Mb(c),a.bg(this.Ta.Fg(),1/this.b.K,1/this.b.J,0,0,1,1,e,this.Wb(),this.ca,this.ja,(this.ca+this.ma)/2,(this.ja+this.ia)/2,this.b.Zb.V,this.Ea[b]),a.jj(c)&&(this.b.X=!0)):a.Mb(0),a.vc(this.Ta.Fg()),a.De(this.opacity),a.Va(this.b.Sa),a.Ce(this.tb,this.qb),a.uc(),a.nc(),e=this.b.K/2,c=this.b.J/
2,a.nf(-e,c,e,c,e,-c,-e,-c),a.Va(null)):this.Ta.em(a,this,null,this.Ta.Fg()))};n.prototype.mt=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.Z();var b=a.N;b.right<this.ca||b.bottom<this.ja||b.left>this.ma||b.top>this.ia||(c.xj(a.Pe),a.yq?this.ot(a,c):(c.Mb(0),c.Ce(a.tb,a.qb),a.Eb(c)))}};n.prototype.nt=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.Z();var b=a.N;b.right<this.ca||b.bottom<this.ja||b.left>this.ma||b.top>this.ia||(a.Pe=this.b.Pe++,0===a.jb&&1===a.opacity&&a.Nd&&a.Oe&&
(c.xj(a.Pe),a.Oe(c)))}};n.prototype.ot=function(a,c){var b=a.ka[0].Oa,e=a.ka[0].index,f=this.Yb();if(1!==a.ka.length||c.Yl(b)||c.Nv(b)||(a.j||a.k.Wb())&&c.ph(b)||1!==a.opacity||a.type.qa.rp)this.Ta.em(c,this,a,this.td?this.b.Sa:this.Ta.Fg()),c.uc(),c.scale(f,f),c.tj(-this.Wb()),c.translate((this.ca+this.ma)/-2,(this.ja+this.ia)/-2),c.nc();else{c.Mb(b);c.Ce(a.tb,a.qb);c.jj(b)&&(this.b.X=!0);var d=0,g=0,m=0,u=0;c.ph(b)&&(u=a.N,d=this.za(u.left,u.top,!0,!0),g=this.za(u.left,u.top,!1,!0),m=this.za(u.right,
u.bottom,!0,!0),u=this.za(u.right,u.bottom,!1,!0),d=d/windowWidth,g=1-g/windowHeight,m=m/windowWidth,u=1-u/windowHeight);var p;a.bb&&a.bb.Y?(p=a.bb.Y,b=1/p.width,p=1/p.height):(b=1/a.width,p=1/a.height);c.bg(this.td?this.b.Sa:this.Ta.Fg(),b,p,d,g,m,u,f,this.Wb(),this.ca,this.ja,(this.ca+this.ma)/2,(this.ja+this.ia)/2,this.b.Zb.V,a.Ea[e]);a.Eb(c)}};n.prototype.Xd=function(a){var c=0,b=0,e=this.b.devicePixelRatio;this.b.Ye&&(c*=e,b*=e);var e=this.b.Ap,f=this.b.Bp,e=(this.Ta.scrollX-e)*this.Kd+e,f=(this.Ta.scrollY-
f)*this.Ld+f,d,g,m=1/this.Yb(!1);d=e-this.b.K*m/2;g=f-this.b.J*m/2;d+=c*m;g+=b*m;b=this.Wb();0!==b&&(d-=e,g-=f,c=Math.cos(b),b=Math.sin(b),m=d*c-g*b,g=g*c+d*b,d=m+e,g+=f);return a?d:g};n.prototype.za=function(a,c,b,e){var f=this.b.Ap,d=this.b.Bp,g=(this.Ta.scrollX-f)*this.Kd+f,m=(this.Ta.scrollY-d)*this.Ld+d,d=g,f=m,u=this.Wb();if(0!==u){a-=g;c-=m;var p=Math.cos(-u),u=Math.sin(-u),l=a*p-c*u;c=c*p+a*u;a=l+g;c+=m}g=1/this.Yb(!e);e?(d-=this.b.K*g/2,f-=this.b.J*g/2):(d-=this.b.width*g/2,f-=this.b.height*
g/2);d=(a-d)/g;f=(c-f)/g;a=this.b.devicePixelRatio;this.b.Ye&&!e&&(d/=a,f/=a);return b?d:f};n.prototype.Na=function(){var a,c,b,e={s:this.scale,a:this.j,vl:this.ca,vt:this.ja,vr:this.ma,vb:this.ia,v:this.visible,bc:this.Fc,t:this.Xc,px:this.Kd,py:this.Ld,o:this.opacity,zr:this.Nh,fx:[],cg:this.vg,instances:[]};a=0;for(c=this.O.length;a<c;a++)b=this.O[a],e.fx.push({name:b.name,active:b.ec,params:this.Ea[b.index]});return e};n.prototype.$a=function(a){var c,b,e;this.scale=a.s;this.j=a.a;this.ca=a.vl;
this.ja=a.vt;this.ma=a.vr;this.ia=a.vb;this.visible=a.v;this.Fc=a.bc;this.Xc=a.t;this.Kd=a.px;this.Ld=a.py;this.opacity=a.o;this.Nh=a.zr;this.vg=a.cg||[];Da(this.ic,this.fq);var f=new ca;c=0;for(e=this.vg.length;c<e;++c)f.add(this.vg[c]);b=c=0;for(e=this.ic.length;c<e;++c)f.contains(this.ic[c][2])||(this.ic[b]=this.ic[c],++b);Ca(this.ic,b);b=a.fx;c=0;for(e=b.length;c<e;c++)if(a=this.Lk(b[c].name))a.ec=b[c].active,this.Ea[a.index]=b[c].params;this.Yc();this.e.sort(l);this.uf=!0};Ub=n})();
(function(){function d(a,c){var b,e=a.length;switch(e){case 0:return!0;case 1:return a[0]===c[0];case 2:return a[0]===c[0]&&a[1]===c[1];default:for(b=0;b<e;b++)if(a[b]!==c[b])return!1;return!0}}function l(a,c){return a.index-c.index}function n(a){var c,b,e,f;2===a.length?a[0].index>a[1].index&&(c=a[0],a[0]=a[1],a[1]=c):2<a.length&&a.sort(l);a.length>=t.length&&(t.length=a.length+1);t[a.length]||(t[a.length]=[]);f=t[a.length];c=0;for(b=f.length;c<b;c++)if(e=f[c],d(a,e))return e;f.push(a);return a}
function g(a,c){this.b=a;this.oq={};this.Yn={};this.Wk=!1;this.xo=new ca;this.uk=[];this.Yj=[];this.name=c[0];var b=c[1];this.fe=[];var e,f;e=0;for(f=b.length;e<f;e++)this.zo(b[e],null,this.fe)}function r(a){this.type=a;this.e=[];this.aa=[];this.ga=!0}function q(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.ta=[];this.Ee=[];this.vo=this.Kj=this.Fm=this.al=this.group=this.um=!1;this.Ra=[];this.Dc=[];this.xc=[];this.Hg="";this.Te=this.al=this.group=!1;this.di=null;b[1]&&(this.Hg=b[1][1].toLowerCase(),
this.group=!0,this.al=!!b[1][0],this.di=[],this.Te=this.al,this.b.Af.push(this),this.b.Lf[this.Hg]=this);this.Rc=b[2];this.Q=b[4];this.group||(this.b.yn[this.Q.toString()]=this);var e=b[5];a=0;for(c=e.length;a<c;a++){var f=new Vb(this,e[a]);f.index=a;this.Ra.push(f);this.qn(f.type)}e=b[6];a=0;for(c=e.length;a<c;a++)f=new Wb(this,e[a]),f.index=a,this.Dc.push(f);if(8===b.length)for(b=b[7],a=0,c=b.length;a<c;a++)this.sheet.zo(b[a],this,this.xc);this.Li=!1;this.Ra.length&&(this.Li=null==this.Ra[0].type&&
this.Ra[0].fb==X.prototype.g.Tm)}function p(a,c){var b,e,f;if(a&&(-1===c.indexOf(a)&&c.push(a),a.zb))for(b=0,e=a.Tb.length;b<e;b++)f=a.Tb[b],a!==f&&-1===c.indexOf(f)&&c.push(f)}function b(a,c){this.fc=a;this.sheet=a.sheet;this.b=a.b;this.U=[];this.Ga=[];this.H={};this.index=-1;this.mg=!1;this.fb=this.b.Td(c[1]);this.trigger=0<c[3];this.Xn=2===c[3];this.Di=c[5];this.gv=c[6];this.Q=c[7];this.b.Yd[this.Q.toString()]=this;-1===c[0]?(this.type=null,this.Ma=this.jm,this.Ke=null,this.Hc=-1):(this.type=this.b.p[c[0]],
this.Ma=this.gv?this.aw:this.hm,c[2]?(this.Ke=this.type.vi(c[2]),this.Hc=this.type.Kk(c[2])):(this.Ke=null,this.Hc=-1),this.fc.parent&&this.fc.parent.zj());this.Xn&&(this.Ma=this.bw);if(10===c.length){var b,e,f=c[9];b=0;for(e=f.length;b<e;b++){var h=new Xb(this,f[b]);this.U.push(h)}this.Ga.length=f.length}}function f(a,c){this.fc=a;this.sheet=a.sheet;this.b=a.b;this.U=[];this.Ga=[];this.H={};this.index=-1;this.mg=!1;this.fb=this.b.Td(c[1]);-1===c[0]?(this.type=null,this.Ma=this.jm,this.Ke=null,this.Hc=
-1):(this.type=this.b.p[c[0]],this.Ma=this.hm,c[2]?(this.Ke=this.type.vi(c[2]),this.Hc=this.type.Kk(c[2])):(this.Ke=null,this.Hc=-1));this.Q=c[3];this.b.Vd[this.Q.toString()]=this;if(6===c.length){var b,e,f=c[5];b=0;for(e=f.length;b<e;b++){var h=new Xb(this,f[b]);this.U.push(h)}this.Ga.length=f.length}}function e(){G++;w.length===G&&w.push(new Yb);return w[G]}function a(a,c){this.tc=a;this.fc=a.fc;this.sheet=a.sheet;this.b=a.b;this.type=c[0];this.ed=null;this.Od=0;this.get=null;this.Ln=0;this.Ta=
null;this.key=0;this.object=null;this.index=0;this.Hh=this.qf=this.Hh=this.qf=this.$n=this.Re=this.Ih=null;this.Ac=!1;var b,e,f;switch(c[0]){case 0:case 7:this.ed=new Zb(this,c[1]);this.Od=0;this.get=this.Au;break;case 1:this.ed=new Zb(this,c[1]);this.Od=0;this.get=this.Bu;break;case 5:this.ed=new Zb(this,c[1]);this.Od=0;this.get=this.Fu;break;case 3:case 8:this.Ln=c[1];this.get=this.yu;break;case 6:this.Ta=this.b.Cl[c[1]];this.get=this.Gu;break;case 9:this.key=c[1];this.get=this.Eu;break;case 4:this.object=
this.b.p[c[1]];this.get=this.Hu;this.fc.qn(this.object);this.tc instanceof Wb?this.fc.zj():this.fc.parent&&this.fc.parent.zj();break;case 10:this.index=c[1];a.type&&a.type.F?(this.get=this.Cu,this.Ac=!0):this.get=this.Du;break;case 11:this.Ih=c[1];this.Re=null;this.get=this.zu;break;case 2:case 12:this.$n=c[1];this.get=this.xu;break;case 13:for(this.get=this.Iu,this.qf=[],this.Hh=[],b=1,e=c.length;b<e;b++)f=new Xb(this.tc,c[b]),this.qf.push(f),this.Hh.push(0)}}function c(a,c,b){this.sheet=a;this.parent=
c;this.b=a.b;this.ta=[];this.name=b[1];this.$k=b[3];this.Rg=!!b[4];this.Ji=!!b[5];this.Q=b[6];this.b.jg[this.Q.toString()]=this;this.data=this.$k;this.parent?(this.ff=this.Rg||this.Ji?-1:this.b.iw++,this.b.us.push(this)):(this.ff=-1,this.b.ts.push(this))}function k(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.ta=[];this.Kg=null;this.Pu=b[1];this.ec=!0}function h(){this.gq=[];this.reset(null)}var t=[];g.prototype.toString=function(){return this.name};g.prototype.zo=function(a,c,b){switch(a[0]){case 0:a=
new $b(this,c,a);if(a.Rc)for(b.push(a),b=0,c=a.Ra.length;b<c;b++)a.Ra[b].trigger&&this.Ao(a,b);else a.Ho()?this.Ao(a,0):b.push(a);break;case 1:a=new Rb(this,c,a);b.push(a);break;case 2:a=new ac(this,c,a),b.push(a)}};g.prototype.Ia=function(){var a,c;a=0;for(c=this.fe.length;a<c;a++)this.fe[a].Ia(a<c-1&&this.fe[a+1].Li)};g.prototype.Lm=function(){T(this.uk);T(this.Yj);this.pn(this);T(this.Yj)};g.prototype.pn=function(a){var c,b,e,f,h=a.uk,k=a.Yj,d=this.xo.pc();c=0;for(b=d.length;c<b;++c)e=d[c],f=e.Kg,
!e.ec||a===f||-1<k.indexOf(f)||(k.push(f),f.pn(a),h.push(f))};g.prototype.Ma=function(a){this.b.Kx||(this.Wk=!0,a||(this.b.nl=!0));var c,b;c=0;for(b=this.fe.length;c<b;c++){var e=this.fe[c];e.Ma();this.b.kk(e.ta);this.b.he&&this.b.ib()}a||(this.b.nl=!1)};g.prototype.Ao=function(a,c){a.Rc||this.b.Lj.push(a);var b,e,f=a.Ra[c],h;f.type?h=f.type.name:h="system";var k=(b=f.Xn)?this.Yn:this.oq;k[h]||(k[h]=[]);h=k[h];k=f.fb;if(b){if(f.U.length&&(f=f.U[0],1===f.type&&2===f.ed.type)){f=f.ed.value.toLowerCase();
b=0;for(e=h.length;b<e;b++)if(h[b].method==k){b=h[b].Ag;b[f]?b[f].push([a,c]):b[f]=[[a,c]];return}b={};b[f]=[[a,c]];h.push({method:k,Ag:b})}}else{b=0;for(e=h.length;b<e;b++)if(h[b].method==k){h[b].Ag.push([a,c]);return}Y&&k===Y.prototype.g.yf?h.unshift({method:k,Ag:[[a,c]]}):h.push({method:k,Ag:[[a,c]]})}};Hb=g;r.prototype.Vk=function(){return this.ga?this.type.e.length:this.e.length};r.prototype.Xb=function(){return this.ga?this.type.e:this.e};r.prototype.oh=function(a){a&&(a.b.rb().pb.Rc?(this.ga&&
(T(this.e),Da(this.aa,a.type.e),this.ga=!1),a=this.aa.indexOf(a),-1!==a&&(this.e.push(this.aa[a]),this.aa.splice(a,1))):(this.ga=!1,T(this.e),this.e[0]=a))};ob=r;window._c2hh_="06E7A5C65FC50E288A0F9EB0DCAC64DA2151783F";q.prototype.Ia=function(a){var c,b=this.parent;if(this.group)for(this.Kj=!0;b;){if(!b.group){this.Kj=!1;break}b=b.parent}this.Fm=!this.Ho()&&(!this.parent||this.parent.group&&this.parent.Kj);this.vo=!!a;this.Ee=this.ta.slice(0);for(b=this.parent;b;){a=0;for(c=b.ta.length;a<c;a++)this.rs(b.ta[a]);
b=b.parent}this.ta=n(this.ta);this.Ee=n(this.Ee);a=0;for(c=this.Ra.length;a<c;a++)this.Ra[a].Ia();a=0;for(c=this.Dc.length;a<c;a++)this.Dc[a].Ia();a=0;for(c=this.xc.length;a<c;a++)this.xc[a].Ia(a<c-1&&this.xc[a+1].Li)};q.prototype.yj=function(a){if(this.Te!==!!a){this.Te=!!a;var c;a=0;for(c=this.di.length;a<c;++a)this.di[a].tq();0<c&&this.b.fa.Qe&&this.b.fa.Qe.Lm()}};q.prototype.qn=function(a){p(a,this.ta)};q.prototype.rs=function(a){p(a,this.Ee)};q.prototype.zj=function(){this.um=!0;this.parent&&
this.parent.zj()};q.prototype.Ho=function(){return this.Ra.length?this.Ra[0].trigger:!1};q.prototype.Ma=function(){var a,c,b=!1,e=this.b,f=this.b.rb();f.pb=this;var h=this.Ra;this.Li||(f.Bk=!1);if(this.Rc){0===h.length&&(b=!0);f.Qa=0;for(a=h.length;f.Qa<a;f.Qa++)c=h[f.Qa],c.trigger||(c=c.Ma())&&(b=!0);(f.bf=b)&&this.uj()}else{f.Qa=0;for(a=h.length;f.Qa<a;f.Qa++)if(c=h[f.Qa].Ma(),!c){f.bf=!1;this.Fm&&e.he&&e.ib();return}f.bf=!0;this.uj()}this.ut(f)};q.prototype.ut=function(a){a.bf&&this.vo&&(a.Bk=
!0);this.Fm&&this.b.he&&this.b.ib()};q.prototype.Zv=function(a){this.b.rb().pb=this;this.Ra[a].Ma()&&(this.uj(),this.b.rb().bf=!0)};q.prototype.uj=function(){var a=this.b.rb(),c;a.Rb=0;for(c=this.Dc.length;a.Rb<c;a.Rb++)if(this.Dc[a.Rb].Ma())return;this.Qp()};q.prototype.Vv=function(){var a=this.b.rb(),c;for(c=this.Dc.length;a.Rb<c;a.Rb++)if(this.Dc[a.Rb].Ma())return;this.Qp()};q.prototype.Qp=function(){if(this.xc.length){var a,c,b,e,f=this.xc.length-1;this.b.lj(this);if(this.um)for(a=0,c=this.xc.length;a<
c;a++)b=this.xc[a],(e=!this.Kj||!this.group&&a<f)&&this.b.kj(b.ta),b.Ma(),e?this.b.mf(b.ta):this.b.kk(b.ta);else for(a=0,c=this.xc.length;a<c;a++)this.xc[a].Ma();this.b.ij()}};q.prototype.$v=function(){var a=this.b.rb();a.pb=this;var c=!1,b;a.Qa=0;for(b=this.Ra.length;a.Qa<b;a.Qa++)if(this.Ra[a.Qa].Ma())c=!0;else if(!this.Rc)return!1;return this.Rc?c:!0};q.prototype.Op=function(){this.b.Bg++;var a=this.b.rb().Qa,c=this.b.lj(this);if(!this.Rc)for(c.Qa=a+1,a=this.Ra.length;c.Qa<a;c.Qa++)if(!this.Ra[c.Qa].Ma()){this.b.ij();
return}this.uj();this.b.ij()};q.prototype.Yu=function(a){var c=a.index;if(0===c)return!0;for(--c;0<=c;--c)if(this.Ra[c].type===a.type)return!1;return!0};$b=q;b.prototype.Ia=function(){var a,c,b;a=0;for(c=this.U.length;a<c;a++)b=this.U[a],b.Ia(),b.Ac&&(this.mg=!0)};b.prototype.bw=function(){return!0};b.prototype.jm=function(){var a,c;a=0;for(c=this.U.length;a<c;a++)this.Ga[a]=this.U[a].get();return Sa(this.fb.apply(this.b.vd,this.Ga),this.Di)};b.prototype.aw=function(){var a,c;a=0;for(c=this.U.length;a<
c;a++)this.Ga[a]=this.U[a].get();a=this.fb.apply(this.Ke?this.Ke:this.type,this.Ga);this.type.Je();return a};b.prototype.hm=function(){var a,c,b,e,f,h,k,d,g=this.type,t=g.ba(),p=this.fc.Rc&&!this.trigger;c=0;var l=g.zb,n=g.F,q=g.fd,w=this.Hc,r=-1<w,G=this.mg,O=this.U,x=this.Ga,y=this.Di,z=this.fb,L;if(G)for(c=0,f=O.length;c<f;++c)h=O[c],h.Ac||(x[c]=h.get(0));else for(c=0,f=O.length;c<f;++c)x[c]=O[c].get(0);if(t.ga){T(t.e);T(t.aa);L=g.e;a=0;for(e=L.length;a<e;++a){d=L[a];if(G)for(c=0,f=O.length;c<
f;++c)h=O[c],h.Ac&&(x[c]=h.get(a));r?(c=0,n&&(c=d.type.Gf[q]),c=z.apply(d.I[w+c],x)):c=z.apply(d,x);(k=Sa(c,y))?t.e.push(d):p&&t.aa.push(d)}g.finish&&g.finish(!0);t.ga=!1;g.Je();return t.Vk()}b=0;L=(k=p&&!this.fc.Yu(this))?t.aa:t.e;var I=!1;a=0;for(e=L.length;a<e;++a){d=L[a];if(G)for(c=0,f=O.length;c<f;++c)h=O[c],h.Ac&&(x[c]=h.get(a));r?(c=0,n&&(c=d.type.Gf[q]),c=z.apply(d.I[w+c],x)):c=z.apply(d,x);if(Sa(c,y))if(I=!0,k){if(t.e.push(d),l)for(c=0,f=d.siblings.length;c<f;c++)h=d.siblings[c],h.type.ba().e.push(h)}else{L[b]=
d;if(l)for(c=0,f=d.siblings.length;c<f;c++)h=d.siblings[c],h.type.ba().e[b]=h;b++}else if(k){L[b]=d;if(l)for(c=0,f=d.siblings.length;c<f;c++)h=d.siblings[c],h.type.ba().aa[b]=h;b++}else if(p&&(t.aa.push(d),l))for(c=0,f=d.siblings.length;c<f;c++)h=d.siblings[c],h.type.ba().aa.push(h)}Ca(L,b);if(l)for(n=g.Tb,a=0,e=n.length;a<e;a++)d=n[a].ba(),k?Ca(d.aa,b):Ca(d.e,b);b=I;if(k&&!I)for(a=0,e=t.e.length;a<e;a++){d=t.e[a];if(G)for(c=0,f=O.length;c<f;c++)h=O[c],h.Ac&&(x[c]=h.get(a));c=r?z.apply(d.I[w],x):
z.apply(d,x);if(Sa(c,y)){I=!0;break}}g.finish&&g.finish(b||p);return p?I:t.Vk()};Vb=b;f.prototype.Ia=function(){var a,c,b;a=0;for(c=this.U.length;a<c;a++)b=this.U[a],b.Ia(),b.Ac&&(this.mg=!0)};f.prototype.jm=function(){var a=this.b,c,b,e=this.U,f=this.Ga;c=0;for(b=e.length;c<b;++c)f[c]=e[c].get();return this.fb.apply(a.vd,f)};f.prototype.hm=function(){var a=this.type,c=this.Hc,b=a.fd,e=this.mg,f=this.U,h=this.Ga,k=this.fb,d=a.ba().Xb(),a=a.F,g=-1<c,t,p,l,n,q,w;if(e)for(p=0,n=f.length;p<n;++p)q=f[p],
q.Ac||(h[p]=q.get(0));else for(p=0,n=f.length;p<n;++p)h[p]=f[p].get(0);t=0;for(l=d.length;t<l;++t){w=d[t];if(e)for(p=0,n=f.length;p<n;++p)q=f[p],q.Ac&&(h[p]=q.get(t));g?(p=0,a&&(p=w.type.Gf[b]),k.apply(w.I[c+p],h)):k.apply(w,h)}return!1};Wb=f;var w=[],G=-1;a.prototype.Ia=function(){var a,c;if(11===this.type)this.Re=this.b.jo(this.Ih,this.fc.parent);else if(13===this.type)for(a=0,c=this.qf.length;a<c;a++)this.qf[a].Ia();this.ed&&this.ed.Ia()};a.prototype.lv=function(a){this.Ac||!a||a.qa.Fj||(this.Ac=
!0)};a.prototype.Wp=function(){this.Ac=!0};a.prototype.Au=function(a){this.Od=a||0;a=e();this.ed.get(a);G--;return a.data};a.prototype.Bu=function(a){this.Od=a||0;a=e();this.ed.get(a);G--;return v(a.data)?a.data:""};a.prototype.Hu=function(){return this.object};a.prototype.yu=function(){return this.Ln};a.prototype.Fu=function(a){this.Od=a||0;a=e();this.ed.get(a);G--;return a.Za()?this.b.qo(a.data):this.b.po(a.data)};a.prototype.Gu=function(){return this.Ta};a.prototype.Eu=function(){return this.key};
a.prototype.Du=function(){return this.index};a.prototype.Cu=function(a){a=a||0;var c=this.tc.type,b=null,b=c.ba(),e=b.Xb();if(e.length)b=e[a%e.length].type;else if(b.aa.length)b=b.aa[a%b.aa.length].type;else if(c.e.length)b=c.e[a%c.e.length].type;else return 0;return this.index+b.Eg[c.fd]};a.prototype.zu=function(){return this.Re};a.prototype.xu=function(){return this.$n};a.prototype.Iu=function(){var a,c;a=0;for(c=this.qf.length;a<c;a++)this.Hh[a]=this.qf[a].get();return this.Hh};Xb=a;c.prototype.Ia=
function(){this.ta=n(this.ta)};c.prototype.fw=function(a){var c=this.b.io();this.parent&&!this.Rg&&c?(this.ff>=c.length&&(c.length=this.ff+1),c[this.ff]=a):this.data=a};c.prototype.wu=function(){var a=this.b.io();return!this.parent||this.Rg||!a||this.Ji?this.data:this.ff>=a.length||"undefined"===typeof a[this.ff]?this.$k:a[this.ff]};c.prototype.Ma=function(){!this.parent||this.Rg||this.Ji||this.fw(this.$k)};Rb=c;k.prototype.toString=function(){return"include:"+this.Kg.toString()};k.prototype.Ia=function(){this.Kg=
this.b.Dk[this.Pu];this.sheet.xo.add(this);this.ta=n(this.ta);for(var a=this.parent;a;)a.group&&a.di.push(this),a=a.parent;this.tq()};k.prototype.Ma=function(){this.parent&&this.b.rh(this.b.p);this.Kg.Wk||this.Kg.Ma(!0);this.parent&&this.b.mf(this.b.p)};k.prototype.tq=function(){for(var a=this.parent;a;){if(a.group&&!a.Te){this.ec=!1;return}a=a.parent}this.ec=!0};ac=k;h.prototype.reset=function(a){this.pb=a;this.Rb=this.Qa=0;T(this.gq);this.Bk=this.bf=!1};h.prototype.$u=function(){return this.pb.um?
!0:this.Qa<this.pb.Ra.length-1?!!this.pb.ta.length:!1};Qb=h})();
(function(){function d(d,b){this.tc=d;this.b=d.b;this.type=b[0];this.get=[this.Ot,this.Kt,this.Xt,this.$t,this.zt,this.Yt,this.St,this.Ht,this.Rt,this.Wt,this.At,this.Vt,this.It,this.Tt,this.Pt,this.Qt,this.Lt,this.Mt,this.Gt,this.Zt,this.Ut,this.Nt,this.Ft,this.Jt][this.type];var f=null;this.Id=this.U=this.Ga=this.fb=this.Jj=this.second=this.first=this.value=null;this.Hc=-1;this.Mc=null;this.zq=-1;this.Re=this.Ih=null;this.ag=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Zb(d,b[1]);break;case 18:this.first=new Zb(d,b[1]);this.second=new Zb(d,b[2]);this.Jj=new Zb(d,b[3]);break;case 19:this.fb=this.b.Td(b[1]);this.fb!==X.prototype.W.random&&this.fb!==X.prototype.W.Gs||this.tc.Wp();this.Ga=[];this.U=[];3===b.length?(f=b[2],this.Ga.length=f.length+1):this.Ga.length=1;break;case 20:this.Id=this.b.p[b[1]];this.Hc=-1;this.fb=this.b.Td(b[2]);this.ag=b[3];dc.Function&&this.fb===dc.Function.prototype.W.Jw&&this.tc.Wp();b[4]?this.Mc=new Zb(d,b[4]):this.Mc=null;this.Ga=[];
this.U=[];6===b.length?(f=b[5],this.Ga.length=f.length+1):this.Ga.length=1;break;case 21:this.Id=this.b.p[b[1]];this.ag=b[2];b[3]?this.Mc=new Zb(d,b[3]):this.Mc=null;this.zq=b[4];break;case 22:this.Id=this.b.p[b[1]];this.Id.vi(b[2]);this.Hc=this.Id.Kk(b[2]);this.fb=this.b.Td(b[3]);this.ag=b[4];b[5]?this.Mc=new Zb(d,b[5]):this.Mc=null;this.Ga=[];this.U=[];7===b.length?(f=b[6],this.Ga.length=f.length+1):this.Ga.length=1;break;case 23:this.Ih=b[1],this.Re=null}this.tc.lv(this.Id);4<=this.type&&17>=this.type&&
(this.first=new Zb(d,b[1]),this.second=new Zb(d,b[2]));if(f){var e,a;e=0;for(a=f.length;e<a;e++)this.U.push(new Zb(d,f[e]))}}function l(){++q;r.length===q&&r.push(new Yb);return r[q]}function n(d,b,f){var e,a;e=0;for(a=d.length;e<a;++e)d[e].get(f),b[e+1]=f.data}function g(d,b){this.type=d||bc.wf;this.data=b||0;this.kf=null;this.type==bc.wf&&(this.data=Math.floor(this.data))}d.prototype.Ia=function(){23===this.type&&(this.Re=this.tc.b.jo(this.Ih,this.tc.fc.parent));this.first&&this.first.Ia();this.second&&
this.second.Ia();this.Jj&&this.Jj.Ia();this.Mc&&this.Mc.Ia();if(this.U){var d,b;d=0;for(b=this.U.length;d<b;d++)this.U[d].Ia()}};var r=[],q=-1;d.prototype.Zt=function(d){var b=this.U,f=this.Ga;f[0]=d;d=l();n(b,f,d);--q;this.fb.apply(this.b.vd,f)};d.prototype.Ut=function(d){var b=this.Id,f=this.Ga,e=this.U,a=this.Mc,c=this.fb,k=this.tc.Od,h=b.ba(),g=h.Xb();if(!g.length)if(h.aa.length)g=h.aa;else{this.ag?d.sb(""):d.na(0);return}f[0]=d;d.kf=b;d=l();n(e,f,d);a&&(a.get(d),d.Za()&&(k=d.data,g=b.e));--q;
b=g.length;if(k>=b||k<=-b)k%=b;0>k&&(k+=b);c.apply(g[k],f)};d.prototype.Ft=function(d){var b=this.Id,f=this.Ga,e=this.U,a=this.Mc,c=this.Hc,k=this.fb,h=this.tc.Od,g=b.ba(),w=g.Xb();if(!w.length)if(g.aa.length)w=g.aa;else{this.ag?d.sb(""):d.na(0);return}f[0]=d;d.kf=b;d=l();n(e,f,d);a&&(a.get(d),d.Za()&&(h=d.data,w=b.e));--q;e=w.length;if(h>=e||h<=-e)h%=e;0>h&&(h+=e);h=w[h];w=0;b.F&&(w=h.type.Gf[b.fd]);k.apply(h.I[c+w],f)};d.prototype.Nt=function(d){var b=this.Mc,f=this.Id,e=this.zq,a=this.tc.Od,c=
f.ba(),k=c.Xb();if(!k.length)if(c.aa.length)k=c.aa;else{this.ag?d.sb(""):d.na(0);return}if(b){c=l();b.get(c);if(c.Za()){a=c.data;k=f.e;0!==k.length&&(a%=k.length,0>a&&(a+=k.length));a=f.Ok(a);f=a.pa[e];v(f)?d.sb(f):d.M(f);--q;return}--q}b=k.length;if(a>=b||a<=-b)a%=b;0>a&&(a+=b);a=k[a];k=0;f.F&&(k=a.type.Eg[f.fd]);f=a.pa[e+k];v(f)?d.sb(f):d.M(f)};d.prototype.Ot=function(d){d.type=bc.wf;d.data=this.value};d.prototype.Kt=function(d){d.type=bc.vf;d.data=this.value};d.prototype.Xt=function(d){d.type=
bc.String;d.data=this.value};d.prototype.$t=function(d){this.first.get(d);d.Za()&&(d.data=-d.data)};d.prototype.zt=function(d){this.first.get(d);var b=l();this.second.get(b);d.Za()&&b.Za()&&(d.data+=b.data,b.Nf()&&d.Wf());--q};d.prototype.Yt=function(d){this.first.get(d);var b=l();this.second.get(b);d.Za()&&b.Za()&&(d.data-=b.data,b.Nf()&&d.Wf());--q};d.prototype.St=function(d){this.first.get(d);var b=l();this.second.get(b);d.Za()&&b.Za()&&(d.data*=b.data,b.Nf()&&d.Wf());--q};d.prototype.Ht=function(d){this.first.get(d);
var b=l();this.second.get(b);d.Za()&&b.Za()&&(d.data/=b.data,d.Wf());--q};d.prototype.Rt=function(d){this.first.get(d);var b=l();this.second.get(b);d.Za()&&b.Za()&&(d.data%=b.data,b.Nf()&&d.Wf());--q};d.prototype.Wt=function(d){this.first.get(d);var b=l();this.second.get(b);d.Za()&&b.Za()&&(d.data=Math.pow(d.data,b.data),b.Nf()&&d.Wf());--q};d.prototype.At=function(d){this.first.get(d);var b=l();this.second.get(b);b.Pf()||d.Pf()?this.Ct(d,b):this.Bt(d,b);--q};d.prototype.Ct=function(d,b){d.Pf()&&
b.Pf()?this.Et(d,b):this.Dt(d,b)};d.prototype.Et=function(d,b){d.data+=b.data};d.prototype.Dt=function(d,b){d.Pf()?d.data+=(Math.round(1E10*b.data)/1E10).toString():d.sb(d.data.toString()+b.data)};d.prototype.Bt=function(d,b){d.na(d.data&&b.data?1:0)};d.prototype.Vt=function(d){this.first.get(d);var b=l();this.second.get(b);d.Za()&&b.Za()&&(d.data||b.data?d.na(1):d.na(0));--q};d.prototype.Gt=function(d){this.first.get(d);d.data?this.second.get(d):this.Jj.get(d)};d.prototype.It=function(d){this.first.get(d);
var b=l();this.second.get(b);d.na(d.data===b.data?1:0);--q};d.prototype.Tt=function(d){this.first.get(d);var b=l();this.second.get(b);d.na(d.data!==b.data?1:0);--q};d.prototype.Pt=function(d){this.first.get(d);var b=l();this.second.get(b);d.na(d.data<b.data?1:0);--q};d.prototype.Qt=function(d){this.first.get(d);var b=l();this.second.get(b);d.na(d.data<=b.data?1:0);--q};d.prototype.Lt=function(d){this.first.get(d);var b=l();this.second.get(b);d.na(d.data>b.data?1:0);--q};d.prototype.Mt=function(d){this.first.get(d);
var b=l();this.second.get(b);d.na(d.data>=b.data?1:0);--q};d.prototype.Jt=function(d){var b=this.Re.wu();ha(b)?d.M(b):d.sb(b)};Zb=d;g.prototype.Nf=function(){return this.type===bc.vf};g.prototype.Za=function(){return this.type===bc.wf||this.type===bc.vf};g.prototype.Pf=function(){return this.type===bc.String};g.prototype.Wf=function(){this.Nf()||(this.Pf()&&(this.data=parseFloat(this.data)),this.type=bc.vf)};g.prototype.na=function(d){this.type=bc.wf;this.data=Math.floor(d)};g.prototype.M=function(d){this.type=
bc.vf;this.data=d};g.prototype.sb=function(d){this.type=bc.String;this.data=d};g.prototype.gw=function(d){ha(d)?(this.type=bc.vf,this.data=d):v(d)?(this.type=bc.String,this.data=d.toString()):(this.type=bc.wf,this.data=0)};Yb=g;bc={wf:0,vf:1,String:2}})();function X(d){this.b=d;this.Pb=[]}
X.prototype.Na=function(){var d={},l,n,g,r,q,p,b,f;d.waits=[];var e=d.waits,a;l=0;for(n=this.Pb.length;l<n;l++){p=this.Pb[l];a={t:p.time,st:p.cq,s:p.tm,ev:p.Ef.Q,sm:[],sols:{}};p.Ef.Dc[p.Rb]&&(a.act=p.Ef.Dc[p.Rb].Q);g=0;for(r=p.ta.length;g<r;g++)a.sm.push(p.ta[g].Q);for(q in p.Ab)if(p.Ab.hasOwnProperty(q)){b=this.b.p[parseInt(q,10)];f={sa:p.Ab[q].vj,insts:[]};g=0;for(r=p.Ab[q].Ed.length;g<r;g++)f.insts.push(p.Ab[q].Ed[g].uid);a.sols[b.Q.toString()]=f}e.push(a)}return d};
X.prototype.$a=function(d){d=d.waits;var l,n,g,r,q,p,b,f,e,a,c;T(this.Pb);l=0;for(n=d.length;l<n;l++)if(p=d[l],f=this.b.yn[p.ev.toString()]){e=-1;g=0;for(r=f.Dc.length;g<r;g++)if(f.Dc[g].Q===p.act){e=g;break}if(-1!==e){b={Ab:{},ta:[],xk:!1};b.time=p.t;b.cq=p.st||"";b.tm=!!p.s;b.Ef=f;b.Rb=e;g=0;for(r=p.sm.length;g<r;g++)(f=this.b.Se(p.sm[g]))&&b.ta.push(f);for(q in p.sols)if(p.sols.hasOwnProperty(q)&&(f=this.b.Se(parseInt(q,10)))){e=p.sols[q];a={vj:e.sa,Ed:[]};g=0;for(r=e.insts.length;g<r;g++)(c=this.b.Pk(e.insts[g]))&&
a.Ed.push(c);b.Ab[f.index.toString()]=a}this.Pb.push(b)}}};
(function(){function d(){}function l(){}function n(){}var g=X.prototype;d.prototype.Zm=function(){return!0};d.prototype.pr=function(){return!0};d.prototype.Iq=function(b,e,a){return cc(b,e,a)};var r=[],q=-1;d.prototype.Nq=function(b){var e=b.ba();q++;r.length===q&&r.push([]);var a=r[q];Da(a,e.Xb());var c=this.b.rb(),d=c.pb,h=c.$u(),c=this.b.Qv(),g,l,n,m,p,Q,B=b.zb;if(h)for(h=0,g=a.length;h<g&&!c.xm;h++){this.b.kj(d.ta);m=a[h];e=b.ba();e.ga=!1;T(e.e);e.e[0]=m;if(B)for(l=0,n=m.siblings.length;l<n;l++)p=
m.siblings[l],Q=p.type.ba(),Q.ga=!1,T(Q.e),Q.e[0]=p;c.index=h;d.Op();this.b.mf(d.ta)}else for(e.ga=!1,T(e.e),h=0,g=a.length;h<g&&!c.xm;h++){m=a[h];e.e[0]=m;if(B)for(l=0,n=m.siblings.length;l<n;l++)p=m.siblings[l],Q=p.type.ba(),Q.ga=!1,T(Q.e),Q.e[0]=p;c.index=h;d.Op()}T(a);this.b.Ev();q--;return!1};d.prototype.es=function(){var b=this.b.xi().H;"undefined"===typeof b.TriggerOnce_lastTick&&(b.TriggerOnce_lastTick=-1);var e=b.TriggerOnce_lastTick,a=this.b.zc;b.TriggerOnce_lastTick=a;return this.b.Bl||
e!==a-1};d.prototype.Sq=function(b){return(b=this.b.Lf[b.toLowerCase()])&&b.Te};d.prototype.Tm=function(){var b=this.b.rb();return b.Bk?!1:!b.bf};d.prototype.$m=function(){return!0};d.prototype.hr=function(){return!0};d.prototype.Wj=function(){return!0};d.prototype.cn=function(){return!0};d.prototype.qr=function(){return!0};d.prototype.Ph=function(){return!0};d.prototype.Cq=function(b,e,a){return Oa(W(b),W(a))<=W(e)};d.prototype.Rq=function(b,e){return Qa(W(b),W(e))};d.prototype.Qq=function(b,e,a){b=
Ma(b);e=Ma(e);a=Ma(a);return Qa(a,e)?Qa(b,e)&&!Qa(b,a):!(!Qa(b,e)&&Qa(b,a))};g.g=new d;l.prototype.Lq=function(b,e,a,c){if(e&&b&&(e=this.b.pk(b,e,a,c))){this.b.Pc++;var d;this.b.trigger(Object.getPrototypeOf(b.qa).g.xf,e);if(e.zb)for(a=0,c=e.siblings.length;a<c;a++)d=e.siblings[a],this.b.trigger(Object.getPrototypeOf(d.type.qa).g.xf,d);this.b.Pc--;b=b.ba();b.ga=!1;T(b.e);b.e[0]=e;if(e.zb)for(a=0,c=e.siblings.length;a<c;a++)d=e.siblings[a],b=d.type.ba(),b.ga=!1,T(b.e),b.e[0]=d}};l.prototype.Sr=function(b,
e){b&&(e=Ha(e/100,0,1),b.opacity!==e&&(b.opacity=e,this.b.X=!0))};l.prototype.Pr=function(b,e){var a=this.b.Lf[b.toLowerCase()];if(a)switch(e){case 0:a.yj(!1);break;case 1:a.yj(!0);break;case 2:a.yj(!a.Te)}};var p=[],b=[];l.prototype.hs=function(f){if(!(0>f)){var e,a,c,d=this.b.rb(),h;p.length?h=p.pop():h={Ab:{},ta:[]};h.xk=!1;h.time=this.b.Zb.V+f;h.cq="";h.tm=!1;h.Ef=d.pb;h.Rb=d.Rb+1;f=0;for(e=this.b.p.length;f<e;f++)c=this.b.p[f],a=c.ba(),a.ga&&-1===d.pb.ta.indexOf(c)||(h.ta.push(c),c=void 0,b.length?
c=b.pop():c={Ed:[]},c.vj=!1,c.vj=a.ga,Da(c.Ed,a.e),h.Ab[f.toString()]=c);this.Pb.push(h);return!0}};g.B=new l;n.prototype["int"]=function(b,e){v(e)?(b.na(parseInt(e,10)),isNaN(b.data)&&(b.data=0)):b.na(e)};n.prototype["float"]=function(b,e){v(e)?(b.M(parseFloat(e)),isNaN(b.data)&&(b.data=0)):b.M(e)};n.prototype.random=function(b,e,a){void 0===a?b.M(Math.random()*e):b.M(Math.random()*(a-e)+e)};n.prototype.sqrt=function(b,e){b.M(Math.sqrt(e))};n.prototype.abs=function(b,e){b.M(Math.abs(e))};n.prototype.round=
function(b,e){b.na(Math.round(e))};n.prototype.floor=function(b,e){b.na(Math.floor(e))};n.prototype.ceil=function(b,e){b.na(Math.ceil(e))};n.prototype.sin=function(b,e){b.M(Math.sin(W(e)))};n.prototype.cos=function(b,e){b.M(Math.cos(W(e)))};n.prototype.tan=function(b,e){b.M(Math.tan(W(e)))};n.prototype.asin=function(b,e){b.M(Ia(Math.asin(e)))};n.prototype.acos=function(b,e){b.M(Ia(Math.acos(e)))};n.prototype.atan=function(b,e){b.M(Ia(Math.atan(e)))};n.prototype.exp=function(b,e){b.M(Math.exp(e))};
n.prototype.log10=function(b,e){b.M(Math.log(e)/Math.LN10)};n.prototype.max=function(b){var e=arguments[1];"number"!==typeof e&&(e=0);var a,c,d;a=2;for(c=arguments.length;a<c;a++)d=arguments[a],"number"===typeof d&&e<d&&(e=d);b.M(e)};n.prototype.min=function(b){var e=arguments[1];"number"!==typeof e&&(e=0);var a,c,d;a=2;for(c=arguments.length;a<c;a++)d=arguments[a],"number"===typeof d&&e>d&&(e=d);b.M(e)};n.prototype.Df=function(b){b.M(this.b.Df)};n.prototype.gg=function(b){b.M(this.b.gg)};n.prototype.time=
function(b){b.M(this.b.Zb.V)};n.prototype.zc=function(b){b.na(this.b.zc)};n.prototype.ej=function(b){b.na(this.b.ej)};n.prototype.Ik=function(b){b.na(this.b.Ik)};n.prototype.Rs=function(b,e,a,c,d){b.M(Ra(e,a,c,d))};n.prototype.j=function(b,e,a,c,d){b.M(Ia(Na(e,a,c,d)))};n.prototype.pv=function(b){b.sb("\n")};n.prototype.left=function(b,e,a){b.sb(v(e)?e.substr(0,a):"")};n.prototype.right=function(b,e,a){b.sb(v(e)?e.substr(e.length-a):"")};n.prototype.replace=function(b,e,a,c){v(e)&&v(a)&&v(c)?b.sb(e.replace(new RegExp(cb(a),
"gi"),c)):b.sb(v(e)?e:"")};n.prototype.trim=function(b,e){b.sb(v(e)?e.trim():"")};n.prototype.Gs=function(b){var e=F(Math.random()*(arguments.length-1));b.gw(arguments[e+1])};n.prototype.Wv=function(b,e,a,c){b.na(sa(e,a,c))};n.prototype.nk=function(b){b.M(this.b.nk/1E3)};n.prototype.Aw=function(b,e){var a=this.b.oo(e);b.M(a?a.ca:0)};n.prototype.zw=function(b,e){var a=this.b.oo(e);b.M(a?a.ia:0)};n.prototype.Wi=function(b){b.M(this.b.Wi)};n.prototype.hw=function(b,e,a,c){a=a|0;b.na((e|0)&~(1<<a)|(0!==
c?1:0)<<a)};n.prototype.Ju=function(b,e,a){b.na((e|0)&1<<(a|0)?1:0)};g.W=new n;g.Yv=function(){var f,e,a,c,d,h,g=this.b.rb();f=0;for(a=this.Pb.length;f<a;f++){c=this.Pb[f];if(-1===c.time){if(!c.tm)continue}else if(c.time>this.b.Zb.V)continue;g.pb=c.Ef;g.Rb=c.Rb;g.Qa=0;for(e in c.Ab)c.Ab.hasOwnProperty(e)&&(d=this.b.p[parseInt(e,10)].ba(),h=c.Ab[e],d.ga=h.vj,Da(d.e,h.Ed),d=h,T(d.Ed),b.push(d));c.Ef.Vv();this.b.kk(c.ta);c.xk=!0}e=f=0;for(a=this.Pb.length;f<a;f++)c=this.Pb[f],this.Pb[e]=c,c.xk?(Wa(c.Ab),
T(c.ta),p.push(c)):e++;Ca(this.Pb,e)}})();
(function(){nb=function(d,n){var g=d[1],r=d[3],q=d[4],p=d[5],b=d[6],f=d[7],e=d[8];n.g||(n.g={});n.B||(n.B={});n.W||(n.W={});var a=n.g,c=n.B,k=n.W;r&&(a.Mw=function(a,c){return cc(this.x,a,c)},a.Nw=function(a,c){return cc(this.y,a,c)},a.Sw=function(){var a=this.k;this.Z();var c=this.N;return!(c.right<a.ca||c.bottom<a.ja||c.left>a.ma||c.top>a.ia)},a.Tw=function(){this.Z();var a=this.N,c=this.b.fa;return 0>a.right||0>a.bottom||a.left>c.width||a.top>c.height},a.cx=function(a,c,b){var e=this.ba(),f=e.Xb();
if(!f.length)return!1;var d=f[0],k=d,g=Ra(d.x,d.y,c,b),l,n,p;l=1;for(n=f.length;l<n;l++)if(d=f[l],p=Ra(d.x,d.y,c,b),0===a&&p<g||1===a&&p>g)g=p,k=d;e.oh(k);return!0},c.xx=function(a){this.x!==a&&(this.x=a,this.G())},c.yx=function(a){this.y!==a&&(this.y=a,this.G())},c.Vr=function(a,c){if(this.x!==a||this.y!==c)this.x=a,this.y=c,this.G()},c.kn=function(a,c){var b=a.ru(this);if(b){var e;b.Nk?(e=b.Nk(c,!0),b=b.Nk(c,!1)):(e=b.x,b=b.y);if(this.x!==e||this.y!==b)this.x=e,this.y=b,this.G()}},c.Xw=function(a){0!==
a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.G())},c.Yq=function(a,c){0!==c&&(this.x+=Math.cos(W(a))*c,this.y+=Math.sin(W(a))*c,this.G())},k.ls=function(a){a.M(this.x)},k.ns=function(a){a.M(this.y)},k.Df=function(a){a.M(this.b.Jf(this))});q&&(a.Lw=function(a,c){return cc(this.width,a,c)},a.Jq=function(a,c){return cc(this.height,a,c)},c.Wr=function(a){this.width!==a&&(this.width=a,this.G())},c.Qr=function(a){this.height!==a&&(this.height=a,this.G())},c.vx=function(a,c){if(this.width!==
a||this.height!==c)this.width=a,this.height=c,this.G()},k.Cx=function(a){a.M(this.width)},k.Pq=function(a){a.M(this.height)},k.Gw=function(a){this.Z();a.M(this.N.left)},k.Iw=function(a){this.Z();a.M(this.N.top)},k.Hw=function(a){this.Z();a.M(this.N.right)},k.Fw=function(a){this.Z();a.M(this.N.bottom)});p&&(a.Cq=function(a,c){return Oa(this.j,W(c))<=W(a)},a.Rq=function(a){return Qa(this.j,W(a))},a.Qq=function(a,c){var b=Ma(a),e=Ma(c),f=Ka(this.j);return Qa(e,b)?Qa(f,b)&&!Qa(f,e):!(!Qa(f,b)&&Qa(f,e))},
c.nx=function(a){a=W(Ja(a));isNaN(a)||this.j===a||(this.j=a,this.G())},c.jx=function(a){0===a||isNaN(a)||(this.j+=W(a),this.j=Ka(this.j),this.G())},c.kx=function(a){0===a||isNaN(a)||(this.j-=W(a),this.j=Ka(this.j),this.G())},c.lx=function(a,c){var b=Pa(this.j,W(c),W(a));isNaN(b)||this.j===b||(this.j=b,this.G())},c.mx=function(a,c,b){a=Pa(this.j,Math.atan2(b-this.y,c-this.x),W(a));isNaN(a)||this.j===a||(this.j=a,this.G())},c.wx=function(a,c){var b=Math.atan2(c-this.y,a-this.x);isNaN(b)||this.j===b||
(this.j=b,this.G())},k.Ew=function(a){a.M(La(this.j))});g||(a.Kq=function(a,c,b){return cc(this.pa[a],c,b)},a.Qw=function(a){return this.pa[a]},a.gx=function(a,c){var b=this.ba(),e=b.Xb();if(!e.length)return!1;var f=e[0],d=f,k=f.pa[c],g,l,n;g=1;for(l=e.length;g<l;g++)if(f=e[g],n=f.pa[c],0===a&&n<k||1===a&&n>k)k=n,d=f;b.oh(d);return!0},a.bx=function(a){var c,b,e,f,d;if(this.b.xi().Di){d=this.ba();if(d.ga)for(d.ga=!1,T(d.e),T(d.aa),e=this.e,c=0,b=e.length;c<b;c++)f=e[c],f.uid===a?d.aa.push(f):d.e.push(f);
else{e=c=0;for(b=d.e.length;c<b;c++)f=d.e[c],d.e[e]=f,f.uid===a?d.aa.push(f):e++;Ca(d.e,e)}this.Je();return!!d.e.length}f=this.b.Pk(a);if(!f)return!1;d=this.ba();if(!d.ga&&-1===d.e.indexOf(f))return!1;if(this.F)for(a=f.type.ya,c=0,b=a.length;c<b;c++){if(a[c]===this)return d.oh(f),this.Je(),!0}else if(f.type===this)return d.oh(f),this.Je(),!0;return!1},a.xf=function(){return!0},a.jr=function(){return!0},c.Rr=function(a,c){var b=this.pa;ha(b[a])?b[a]=ha(c)?c:parseFloat(c):v(b[a])&&(b[a]=v(c)?c:c.toString())},
c.Dw=function(a,c){var b=this.pa;ha(b[a])?b[a]=ha(c)?b[a]+c:b[a]+parseFloat(c):v(b[a])&&(b[a]=v(c)?b[a]+c:b[a]+c.toString())},c.zx=function(a,c){var b=this.pa;ha(b[a])&&(b[a]=ha(c)?b[a]-c:b[a]-parseFloat(c))},c.ox=function(a,c){this.pa[a]=c?1:0},c.Ax=function(a){this.pa[a]=1-this.pa[a]},c.Mq=function(){this.b.Cc(this)},c.Xq||(c.Xq=function(a){var c,b;try{c=JSON.parse(a)}catch(e){return}this.b.Ui(this,c,!0);this.xd&&this.xd();if(this.I)for(a=0,c=this.I.length;a<c;++a)b=this.I[a],b.xd&&b.xd()}),k.Ow=
function(a){var c=a.kf.e.length,b,e,f;b=0;for(e=this.b.Kc.length;b<e;b++)f=this.b.Kc[b],a.kf.F?0<=f.type.ya.indexOf(a.kf)&&c++:f.type===a.kf&&c++;a.na(c)},k.ix=function(a){a.na(a.kf.ba().Xb().length)},k.Bx=function(a){a.na(this.uid)},k.Pw=function(a){a.na(this.Gg())},k.Eq||(k.Eq=function(a){a.sb(JSON.stringify(this.b.km(this,!0)))}));b&&(a.Uw=function(){return this.visible},c.ln=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.X=!0)},a.Kw=function(a,c){return cc(jb(100*this.opacity),a,c)},
c.ux=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.X=!0)},k.Opacity=function(a){a.M(jb(100*this.opacity))});f&&(a.Rw=function(a){return a?this.k===a:!1},a.hx=function(a){var c=this.ba(),b=c.Xb();if(!b.length)return!1;var e=b[0],f=e,d,k;d=1;for(k=b.length;d<k;d++)if(e=b[d],0===a){if(e.k.index>f.k.index||e.k.index===f.k.index&&e.gd()>f.gd())f=e}else if(e.k.index<f.k.index||e.k.index===f.k.index&&e.gd()<f.gd())f=e;c.oh(f);return!0},c.Zq=function(){var a=this.k,c=a.e;
c.length&&c[c.length-1]===this||(a.$f(this,!1),a.og(this,!1),this.b.X=!0)},c.Yw=function(){var a=this.k,c=a.e;c.length&&c[0]===this||(a.$f(this,!1),a.Jv(this),this.b.X=!0)},c.Zw=function(a){a&&a!=this.k&&(this.k.$f(this,!0),this.k=a,a.og(this,!0),this.b.X=!0)},c.os=function(a,c){var b=0===a;if(c){var e=c.ko(this);e&&e.uid!==this.uid&&(this.k.index!==e.k.index&&(this.k.$f(this,!0),this.k=e.k,e.k.og(this,!0)),this.k.mv(this,e,b),this.b.X=!0)}},k.Ww=function(a){a.na(this.k.up)},k.Vw=function(a){a.sb(this.k.name)},
k.Dx=function(a){a.na(this.gd())});e&&(c.qx=function(a,c){if(this.b.n){var b=this.type.Mk(c);if(!(0>b)){var e=1===a;this.Ud[b]!==e&&(this.Ud[b]=e,this.Yc(),this.b.X=!0)}}},c.tx=function(a,c,b){if(this.b.n){var e=this.type.Mk(a);0>e||(a=this.type.O[e],e=this.Ea[e],c=Math.floor(c),0>c||c>=e.length||(1===this.b.n.vu(a.Oa,c)&&(b/=100),e[c]!==b&&(e[c]=b,a.ec&&(this.b.X=!0))))}})};Ib=function(){this.fk=this.ak=!0;this.type.Qh=!0;this.b.X=!0;var d,n,g=this.bk;d=0;for(n=g.length;d<n;++d)g[d](this);this.k.oc&&
this.Z()};Jb=function(d){d&&this.bk.push(d)};Lb=function(){if(this.ak){var d=this.N,n=this.Pa;d.set(this.x,this.y,this.x+this.width,this.y+this.height);d.offset(-this.Fb*this.width,-this.Gb*this.height);this.j?(d.offset(-this.x,-this.y),n.Yp(d,this.j),n.offset(this.x,this.y),n.zn(d)):n.ud(d);d.normalize();this.ak=!1;this.ww()}};var d=new M(0,0,0,0);Mb=function(){if(this.k.oc){var l=this.k.hb,n=this.N;d.set(l.Bb(n.left),l.Cb(n.top),l.Bb(n.right),l.Cb(n.bottom));this.Lb.zg(d)||(this.Lb.right<this.Lb.left?
l.update(this,null,d):l.update(this,this.Lb,d),this.Lb.tg(d),this.k.Wc=!0)}};Nb=function(){if(this.fk&&this.Jc){this.Z();var l=this.type.ci,n=this.N;d.set(l.Bb(n.left),l.Cb(n.top),l.Bb(n.right),l.Cb(n.bottom));this.Zd.zg(d)||(this.Zd.right<this.Zd.left?l.update(this,null,d):l.update(this,this.Zd,d),this.Zd.tg(d),this.fk=!1)}};Kb=function(d,n){return this.N.ob(d,n)&&this.Pa.ob(d,n)?this.wd?this.Nx(d,n):this.C&&!this.C.hd()?(this.C.cd(this.width,this.height,this.j),this.C.ob(d-this.x,n-this.y)):!0:
!1};Eb=function(){this.type.Nj();return this.Ve};Ob=function(){this.k.Nm();return this.Zc};Pb=function(){T(this.ka);var d,n,g,r=!0;d=0;for(n=this.Ud.length;d<n;d++)this.Ud[d]&&(g=this.type.O[d],this.ka.push(g),g.Uc||(r=!1));this.yq=!!this.ka.length;this.Nd=r};Fb=function(){return"Inst"+this.Ip};qb=function(d){if(d&&d.zb&&d.type!=this){var n,g,r;n=0;for(g=d.siblings.length;n<g;n++)if(r=d.siblings[n],r.type==this)return r}d=this.ba().Xb();return d.length?d[0]:null};rb=function(d){var n=this.ba().Xb();
return n.length?n[d.Gg()%n.length]:null};pb=function(){if(this.eg&&!this.F){var d,n;d=0;for(n=this.e.length;d<n;d++)this.e[d].Ve=d;var g=d,r=this.b.Kc;d=0;for(n=r.length;d<n;++d)r[d].type===this&&(r[d].Ve=g++);this.eg=!1}};Cb=function(d){if(d<this.e.length)return this.e[d];d-=this.e.length;var n=this.b.Kc,g,r;g=0;for(r=n.length;g<r;++g)if(n[g].type===this){if(0===d)return n[g];--d}return null};sb=function(){return this.Pd[this.dd]};vb=function(){this.dd++;this.dd===this.Pd.length?this.Pd.push(new ob(this)):
(this.Pd[this.dd].ga=!0,T(this.Pd[this.dd].aa))};wb=function(){this.dd++;this.dd===this.Pd.length&&this.Pd.push(new ob(this));var d=this.Pd[this.dd],n=this.Pd[this.dd-1];n.ga?d.ga=!0:(d.ga=!1,Da(d.e,n.e));T(d.aa)};xb=function(){this.dd--};yb=function(d){var n,g,r,q,p,b=0;if(!this.F)for(n=0,g=this.ya.length;n<g;n++)for(p=this.ya[n],r=0,q=p.Ca.length;r<q;r++){if(d===p.Ca[r].name)return this.H.lastBehIndex=b,p.Ca[r];b++}n=0;for(g=this.Ca.length;n<g;n++){if(d===this.Ca[n].name)return this.H.lastBehIndex=
b,this.Ca[n];b++}return null};zb=function(d){return this.vi(d)?this.H.lastBehIndex:-1};Ab=function(d){var n,g;n=0;for(g=this.O.length;n<g;n++)if(this.O[n].name===d)return n;return-1};Bb=function(){if(this.zb&&!this.F){var d,n,g,r,q,p,b;this.Nj();p=this.ba();var f=p.ga,e=(d=this.b.rb())&&d.pb&&d.pb.Rc;d=0;for(n=this.Tb.length;d<n;d++)if(q=this.Tb[d],q!==this&&(q.Nj(),b=q.ba(),b.ga=f,!f)){T(b.e);g=0;for(r=p.e.length;g<r;++g)b.e[g]=q.Ok(p.e[g].Ve);if(e)for(T(b.aa),g=0,r=p.aa.length;g<r;++g)b.aa[g]=q.Ok(p.aa[g].Ve)}}};
Db=function(){return"Type"+this.Q};cc=function(d,n,g){if("undefined"===typeof d||"undefined"===typeof g)return!1;switch(n){case 0:return d===g;case 1:return d!==g;case 2:return d<g;case 3:return d<=g;case 4:return d>g;case 5:return d>=g;default:return!1}}})();var lc={};function pc(d){this.b=d}
(function(){function d(){r&&q&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(function(b){p.vv(b)})}function l(){}var n=pc.prototype;n.da=function(b){this.qa=b;this.b=b.b};var g=n.da.prototype;g.L=function(){};var r=!1,q=!1;document.addEventListener("DOMContentLoaded",function(){if(window.C2_RegisterSW&&navigator.serviceWorker){var b=document.createElement("script");b.onload=function(){r=!0;d()};b.src="offlineClient.js";document.head.appendChild(b)}});var p=null;g.yp=function(){q=
!0;d()};n.S=function(b){this.type=b;this.b=b.b};g=n.S.prototype;g.L=function(){var b=this;window.addEventListener("resize",function(){b.b.trigger(pc.prototype.g.Cr,b)});p=this;"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){b.b.trigger(pc.prototype.g.tr,b)}),window.addEventListener("offline",function(){b.b.trigger(pc.prototype.g.rr,b)}));this.b.ke||(document.addEventListener("appMobi.device.update.available",function(){b.b.trigger(pc.prototype.g.Xj,b)}),document.addEventListener("backbutton",
function(){b.b.trigger(pc.prototype.g.Oh,b)}),document.addEventListener("menubutton",function(){b.b.trigger(pc.prototype.g.an,b)}),document.addEventListener("searchbutton",function(){b.b.trigger(pc.prototype.g.Er,b)}),document.addEventListener("tizenhwkey",function(d){var e;switch(d.keyName){case "back":e=b.b.trigger(pc.prototype.g.Oh,b);!e&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(e=b.b.trigger(pc.prototype.g.an,b))||d.preventDefault()}}));this.b.pl&&
"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(d){b.b.trigger(pc.prototype.g.Oh,b)&&(d.handled=!0)}):this.b.Fo&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!b.b.trigger(pc.prototype.g.Oh,b)});this.b.rn(function(d){d?b.b.trigger(pc.prototype.g.ur,b):b.b.trigger(pc.prototype.g.xr,b)})};g.vv=function(b){b=b.data.type;"downloading-update"===b?this.b.trigger(pc.prototype.g.Jr,this):"update-ready"===
b||"update-pending"===b?this.b.trigger(pc.prototype.g.Xj,this):"offline-ready"===b&&this.b.trigger(pc.prototype.g.sr,this)};l.prototype.tr=function(){return!0};l.prototype.rr=function(){return!0};l.prototype.Xj=function(){return!0};l.prototype.xr=function(){return!0};l.prototype.ur=function(){return!0};l.prototype.Cr=function(){return!0};l.prototype.Oh=function(){return!0};l.prototype.an=function(){return!0};l.prototype.Er=function(){return!0};l.prototype.Jr=function(){return!0};l.prototype.Xj=function(){return!0};
l.prototype.sr=function(){return!0};n.g=new l;n.B=new function(){};n.W=new function(){}})();function qc(d){this.b=d}
(function(){function d(){}var l=qc.prototype;l.da=function(d){this.qa=d;this.b=d.b};l.da.prototype.L=function(){};l.S=function(d){this.type=d;this.b=d.b;this.Qf=Array(256);this.Gh=Array(256);this.Rd=0};var n=l.S.prototype;n.L=function(){var d=this;this.b.Hb||(jQuery(document).keydown(function(g){d.Ql(g)}),jQuery(document).keyup(function(g){d.Rl(g)}))};var g=[32,33,34,35,36,37,38,39,40,44];n.Ql=function(d){var n=!1;window!=window.top&&-1<g.indexOf(d.which)&&(d.preventDefault(),n=!0,d.stopPropagation());
if(this.Qf[d.which])this.Gh[d.which]&&!n&&d.preventDefault();else{this.Qf[d.which]=!0;this.Rd=d.which;this.b.Gi=!0;this.b.trigger(qc.prototype.g.dr,this);var p=this.b.trigger(qc.prototype.g.nr,this),b=this.b.trigger(qc.prototype.g.or,this);this.b.Gi=!1;if(p||b)this.Gh[d.which]=!0,n||d.preventDefault()}};n.Rl=function(d){this.Qf[d.which]=!1;this.Rd=d.which;this.b.Gi=!0;this.b.trigger(qc.prototype.g.Vm,this);var g=this.b.trigger(qc.prototype.g.Ym,this),n=this.b.trigger(qc.prototype.g.Xm,this);this.b.Gi=
!1;if(g||n||this.Gh[d.which])this.Gh[d.which]=!0,d.preventDefault()};n.lf=function(){var d;for(d=0;256>d;++d)if(this.Qf[d]){this.Qf[d]=!1;this.Rd=d;this.b.trigger(qc.prototype.g.Vm,this);var g=this.b.trigger(qc.prototype.g.Ym,this),n=this.b.trigger(qc.prototype.g.Xm,this);if(g||n)this.Gh[d]=!0}};n.Na=function(){return{triggerKey:this.Rd}};n.$a=function(d){this.Rd=d.triggerKey};d.prototype.Uq=function(d){return this.Qf[d]};d.prototype.nr=function(d){return d===this.Rd};d.prototype.dr=function(){return!0};
d.prototype.Vm=function(){return!0};d.prototype.Ym=function(d){return d===this.Rd};d.prototype.or=function(d){return d===this.Rd};d.prototype.Xm=function(d){return d===this.Rd};l.g=new d;l.B=new function(){};l.W=new function(){}})();function Z(d){this.b=d}
(function(){function d(a){this.i=a;this.history=[]}function l(a){this.sv=a;this.j=this.y=this.x=this.timestamp=0;this.oe=[]}function n(a,b,e,d){a=b-a;if(0===a)return 0;b=ka(a);if(b<=ka(e/10)||1>b||1E3<=b)return a;var f=b/50;d&&(f=la(f,1));d=ka(e/5);10<=b&&(f=b/10,d=ka(e/2));e=la(f,d);e>b&&(e=b);return 0<a?e:-e}function g(){}function r(){}function q(){}var p=Z.prototype;p.da=function(a){this.qa=a;this.b=a.b};p.da.prototype.L=function(){};p.S=function(a){this.type=a;this.b=a.b};var b=p.S.prototype,
f=!1;b.L=function(){this.q=null;(f=window.C2Multiplayer_IsSupported())&&"undefined"!==typeof window.C2Multiplayer&&(this.q=new window.C2Multiplayer);this.ov=this.pp=this.qp=this.nv=this.hv=this.gj=this.nh=this.bq="";this.Mj={};this.Mg={};this.od={};this.lg=this.Xv=this.hu=null;this.Ci=[];this.tf=[];this.md={};var a=this;f&&(this.q.onserverlist=function(){a.b.trigger(Z.prototype.g.Fr,a)},this.q.onsignallingerror=function(){a.b.trigger(Z.prototype.g.gn,a)},this.q.onsignallingclose=function(){a.b.trigger(Z.prototype.g.Gr,
a);a.bq=""},this.q.onsignallingwelcome=function(){a.b.trigger(Z.prototype.g.dn,a)},this.q.onsignallinglogin=function(){a.b.trigger(Z.prototype.g.jn,a)},this.q.onsignallingjoin=function(b){a.Mg={};a.od={};a.tf.length=0;a.Ci.length=0;a.md={};a.b.trigger(Z.prototype.g.hn,a);a.b.Ze&&b&&a.lg.postMessage("start")},this.q.onsignallingleave=function(){a.b.trigger(Z.prototype.g.Ir,a)},this.q.onsignallingkicked=function(){a.b.trigger(Z.prototype.g.Hr,a)},this.q.onbeforeclientupdate=function(){a.b.trigger(Z.prototype.g.ir,
a)},this.q.onpeeropen=function(b){a.nh=b.id;a.gj=b.alias;a.b.trigger(Z.prototype.g.bn,a)},this.q.onpeerclose=function(b,e){a.nh=b.id;a.gj=b.alias;a.hv=e||"unknown";var d=a.fo(b);if(d){var f=a.Mj[d.type];f&&f.removeObjectNid(b.nid);a.b.Cc(d)}a.od.hasOwnProperty(b.id)&&delete a.od[b.id];a.b.trigger(Z.prototype.g.Ar,a)},this.q.onpeermessage=function(b,e){a.qp=e.t;a.pp=e.f?e.f:b.id;a.ov=a.q.getAliasFromId(a.pp);a.nv=e.m;a.b.trigger(Z.prototype.g.er,a);a.b.trigger(Z.prototype.g.Br,a)},this.q.onsignallinginstancelist=
function(b){a.hu=b;a.b.trigger(Z.prototype.g.mr,a)},this.q.onsignallingroomlist=function(b){a.Xv=b;a.b.trigger(Z.prototype.g.Dr,a)},this.q.ongetobjectcount=function(a){return a.e.length},this.q.ongetobjectvalue=function(b,e,d){if(!d)return b.e[e].uid;b=b.e[e];switch(d.tag){case "x":return b.x;case "y":return b.y;case "a":return b.j;case "iv":if(d.clientvaluetag&&(e=a.Mg[b.uid])&&a.q.me!==e&&!e.wasRemoved&&e.hasClientState(d.clientvaluetag))return e.getInterpClientState(d.clientvaluetag);d=b.pa[d.userdata];
return"number"===typeof d?d:0;default:return 0}},this.q.oninstancedestroyed=function(b,e,d){var f=b.userdata;b=f.cl;f.tk||(f.tk={});f.tk[e]=d;b&&b.hasOwnProperty(e)&&((d=b[e])&&a.b.Cc(d),delete b[e])},this.b.qs(function(b){var e,d=b.uid;a.Mg.hasOwnProperty(d)&&delete a.Mg[d];for(e in a.od)if(a.od.hasOwnProperty(e)&&a.od[e]===b){delete a.od[e];break}a.md.hasOwnProperty(d)&&delete a.md[d];e=a.Ci.indexOf(b);-1<e&&a.Ci.splice(e,1);e=a.tf.indexOf(b);-1<e&&a.tf.splice(e,1);a.q.removeObjectId(d)}),this.lg=
new Worker("waker.js"),this.lg.addEventListener("message",function(b){"tick"===b.data&&a.b.Ze&&a.b.wb(!0)},!1),this.lg.postMessage(""));this.b.rn(function(b){f&&a.q.isHost()&&(b?a.lg.postMessage("start"):a.lg.postMessage("stop"))});this.b.Mv(this)};b.fo=function(a){a=a.id;return this.od.hasOwnProperty(a)?this.od[a]:null};b.Zu=function(a){return 0<=this.Ci.indexOf(a)};b.Lv=function(){if(f){this.q.tick(this.b.ee);this.rw();var a,b,e;if(this.q.isInRoom()&&!this.q.isHost())for(a=0,b=this.q.registeredObjects.length;a<
b;++a)e=this.q.registeredObjects[a],this.uw(e)}};var e=[];b.uw=function(a){a.tick();var b=a.obj,d=a.getCount(),f=a.netvalues,g=a.userdata;g.cl||(g.cl={});var n=g.cl,g=g.tk,m=a.simTime,l,p,q,r,K,N,A,C=f.length;for(l in n)n.hasOwnProperty(l)&&(r=n[l],this.b.Pk(r.uid)||delete n[l]);if(g)for(l in g)g.hasOwnProperty(l)&&g[l]<m-3E3&&delete g[l];for(l=0;l<d;++l)if(p=a.getNetInstAt(l),q=p.nid,g&&g[q]>=m-3E3)e.push(p),n.hasOwnProperty(q)&&(this.b.Cc(n[q]),delete n[q]);else{if(n.hasOwnProperty(q))r=n[q],A=
!1;else{if(r=this.q.getPeerByNid(q))this.nh=r.id,this.gj=r.alias;else{if(a.hasOverriddenNids)continue;this.gj=this.nh=""}r=this.b.pk(b,this.b.fa.P[b.Qn],-1E3,-1E3);n[q]=r;A=!0}if(p.isTimedOut(m))e.push(p),n.hasOwnProperty(q)&&delete n[q],this.b.Cc(r);else{if(this.Zu(r))this.Js(r,p,f,m);else for(N=0;N<C;++N)switch(q=p.getInterp(m,N),K=f[N],K.tag){case "x":r.x=q;r.G();break;case "y":r.y=q;r.G();break;case "a":r.j=q;r.G();break;case "iv":K=K.userdata;if(K>r.pa.length||"number"!==typeof r.pa[K])break;
r.pa[K]=q}A&&this.b.trigger(Object.getPrototypeOf(b.qa).g.xf,r)}}l=0;for(d=e.length;l<d;++l)a.removeNetInstance(e[l]);e.length=0};b.rw=function(){var a=this.q.getHostInputArrivalTime(),b,e;b=0;for(e=this.tf.length;b<e;++b)this.sw(this.tf[b],a)};d.prototype.no=function(a){if(2>this.history.length)return 0;var b=this.history[this.history.length-2],e=this.history[this.history.length-1];switch(a){case "x":return e.x-b.x;case "y":return e.y-b.y;case "a":return e.j-b.j;case "iv":return e.oe[void 0]-b.oe[void 0]}return 0};
d.prototype.lo=function(a,b,e,d){var f,g,m,n=null,l=null;f=0;for(g=this.history.length;f<g;++f)if(m=this.history[f],m.timestamp<e)n=m;else{f+1<this.history.length&&(l=this.history[f+1]);break}if(n){f=0;switch(a){case "x":f=n.x;break;case "y":f=n.y;break;case "a":f=n.j;break;case "iv":f=n.oe[b]}if(!l)return f;g=f;switch(a){case "x":g=l.x;break;case "y":g=l.y;break;case "a":g=l.j;break;case "iv":g=l.oe[b]}return window.interpNetValue(d,f,g,Ta(n.timestamp,l.timestamp,e),!1)}};d.prototype.xs=function(a,
b,e){var d,f,g;d=0;for(f=this.history.length;d<f;++d)switch(g=this.history[d],a){case "x":g.x+=e;break;case "y":g.y+=e;break;case "a":g.j+=e;break;case "iv":g.oe[b]+=e}};var a=[];b.sw=function(b,e){this.md.hasOwnProperty(b.uid)||(this.md[b.uid]=new d(b));var f=this.md[b.uid],g;a.length?(g=a.pop(),g.sv=f):g=new l(f);g.timestamp=e;g.x=b.x;g.y=b.y;g.j=b.j;Da(g.oe,b.pa);for(f.history.push(g);0<f.history.length&&f.history[0].timestamp<=e-2E3;)g=f.history.shift(),g.oe.length=0,1E3>a.length&&a.push(g)};
b.Js=function(a,b,e,d){if(this.md.hasOwnProperty(a.uid)){var f=this.md[a.uid],g,m,l,p,q,r,K,N=e.length,A=Ra(0,0,f.no("x"),f.no("y")),C=!!a.H.isPlatformBehavior;for(g=0;g<N;++g)if(q=e[g],r=q.tag,K=q.userdata,p=q.interp,m=b.getLatestUpdate())if(l=m.data[g],p=f.lo(r,K,m.timestamp,p),"undefined"!==typeof p){m=0;switch(r){case "x":m=n(p,l,A,C);0!==m&&(a.x+=m,a.G());break;case "y":m=n(p,l,A,C);0!==m&&(a.y+=m,a.G());break;case "a":m=Ua(p,l,.5)-p;0!==m&&(a.j+=m,a.G());break;case "iv":l=K;if(l>a.pa.length||
"number"!==typeof a.pa[l])break;q.clientvaluetag||(a.pa[l]=b.getInterp(d,g))}0!==m&&f.xs(r,K,m)}}};b.Gx=function(){};b.nd=function(){};b.Na=function(){return{}};b.$a=function(){};g.prototype.Fr=function(){return!0};g.prototype.gn=function(){return!0};g.prototype.dn=function(){return!0};g.prototype.Gr=function(){return!0};g.prototype.jn=function(){return!0};g.prototype.hn=function(){return!0};g.prototype.Ir=function(){return!0};g.prototype.Hr=function(){return!0};g.prototype.bn=function(){return!0};
g.prototype.Ar=function(){return!0};g.prototype.Tq=function(){return f&&this.q.isHost()};g.prototype.Vq=function(){return f};g.prototype.Br=function(a){return this.qp===a};g.prototype.er=function(){return!0};g.prototype.ir=function(){return!0};g.prototype.mr=function(){return!0};g.prototype.Dr=function(){return!0};p.g=new g;r.prototype.Yr=function(a){f&&!this.q.isConnected()&&(this.bq=a,this.q.signallingConnect(a))};r.prototype.Zr=function(a){f&&this.q.isConnected&&!this.q.isLoggedIn()&&this.q.signallingLogin(a)};
r.prototype.Xr=function(a,b,e,d,g){f&&this.q.isLoggedIn()&&!this.q.isInRoom()&&this.q.signallingAutoJoinGameRoom(a,b,e,d,0===g)};b.Tn=function(a,b,e,d){f&&(d=this.q.registerObject(a,a.Q,d),1===b?(d.addValue(this.q.INTERP_LINEAR,e,"x"),d.addValue(this.q.INTERP_LINEAR,e,"y")):2===b?d.addValue(this.q.INTERP_ANGULAR,e,"a"):3===b&&(d.addValue(this.q.INTERP_LINEAR,e,"x"),d.addValue(this.q.INTERP_LINEAR,e,"y"),d.addValue(this.q.INTERP_ANGULAR,e,"a")),this.Mj[a]=d)};r.prototype.as=function(a,b,e,d){if(f){var g,
n;if(a.F)for(g=0,n=a.kd.length;g<n;++g)this.Tn(a.kd[g],b,e,d);else this.Tn(a,b,e,d)}};b.Un=function(a,b,e,d,g){if(f&&(a=this.Mj[a])){var n=this.q.INTERP_NONE;1===d?n=this.q.INTERP_LINEAR:2===d&&(n=this.q.INTERP_ANGULAR);a.addValue(n,e,"iv",b,g)}};r.prototype.bs=function(a,b,e,d,g){if(f){var n,m,l;if(a.F)for(n=0,m=a.kd.length;n<m;++n)l=a.kd[n],this.Un(l,b+l.Eg[a.fd],e,d,g);else this.Un(a,b,e,d,g)}};r.prototype.Fq=function(a,b){if(f){var e=a.ko();if(e){var d=this.Mj[a];if(d){var g=this.q.getPeerById(b);
g&&(this.q.isHost()&&(d.overrideNid(e.uid,g.nid),-1===this.tf.indexOf(e)&&this.tf.push(e)),this.Mg[e.uid]=g,this.od[g.id]=e)}}}};r.prototype.Or=function(a,b){f&&this.q.setClientState(a,b)};r.prototype.Bq=function(a,b,e){f&&this.q.addClientInputValue(a,b,e)};p.B=new r;q.prototype.$q=function(a){a.sb(f?this.q.getMyID():"")};q.prototype.Lr=function(a){a.sb(this.nh)};q.prototype.Mr=function(a,b,e){f?(b=this.q.getPeerById(b),a.M(b?b.getInterpClientState(e):0)):a.M(0)};b.rg=function(a,b,e,d){if(!f||!this.q.isHost())return 0;
var g=this.q.getPeerById(a);if(!g)return 0;var n=this.fo(g);if(!n)return 0;a=0;switch(e){case "x":a=n.x;break;case "y":a=n.y;break;case "a":a=n.j}b=this.q.getPeerById(b);if(!b||b===g||this.q.me===b)return a;b=2*(b.latency+this.q.clientDelay);n=n.uid;if(!this.md.hasOwnProperty(n))return a;d=this.md[n].lo(e,0,Xa()-b,d);return"undefined"===typeof d?a:d};p.W=new q})();function Y(d){this.b=d}
(function(){function d(){if(0===this.sk.length){var b=document.createElement("canvas");b.width=this.width;b.height=this.height;var a=b.getContext("2d");this.dg?a.drawImage(this.Y,this.Xf,this.Yf,this.width,this.height,0,0,this.width,this.height):a.drawImage(this.Y,0,0,this.width,this.height);this.sk=b.toDataURL("image/png")}return this.sk}function l(){}function n(){}var g=Y.prototype;g.da=function(b){this.qa=b;this.b=b.b};var r=g.da.prototype;r.L=function(){if(!this.F){var b,a,c,f,h,g,n,l,m;this.Ec=
[];this.Jg=!1;b=0;for(a=this.Sb.length;b<a;b++){h=this.Sb[b];n={};n.name=h[0];n.speed=h[1];n.loop=h[2];n.fm=h[3];n.gm=h[4];n.Cp=h[5];n.Q=h[6];n.frames=[];c=0;for(f=h[7].length;c<f;c++)g=h[7][c],l={},l.Am=g[0],l.Bm=g[1],l.Xf=g[2],l.Yf=g[3],l.width=g[4],l.height=g[5],l.duration=g[6],l.Fb=g[7],l.Gb=g[8],l.Yk=g[9],l.hj=g[10],l.Dp=g[11],l.dg=0!==l.width,l.sk="",l.Hx=d,m={left:0,top:0,right:1,bottom:1},l.rm=m,l.R=null,(m=this.b.fu(g[0]))?l.Y=m:(l.Y=new Image,l.Y.Ks=g[0],l.Y.ok=g[1],l.Y.Cs=null,this.b.Qm(l.Y,
g[0])),n.frames.push(l),this.Ec.push(l);this.Sb[b]=n}}};r.vq=function(){var b,a,c;b=0;for(a=this.e.length;b<a;b++)c=this.e[b],c.fi=c.bb.R};r.mh=function(){if(!this.F){var b,a,c;b=0;for(a=this.Ec.length;b<a;++b)c=this.Ec[b],c.Y.Cs=null,c.R=null;this.Jg=!1;this.vq()}};r.fj=function(){if(!this.F&&this.e.length){var b,a,c;b=0;for(a=this.Ec.length;b<a;++b)c=this.Ec[b],c.R=this.b.n.Vi(c.Y,!1,this.b.wa,c.Dp);this.vq()}};r.El=function(){if(!this.F&&!this.Jg&&this.b.n){var b,a,c;b=0;for(a=this.Ec.length;b<
a;++b)c=this.Ec[b],c.R=this.b.n.Vi(c.Y,!1,this.b.wa,c.Dp);this.Jg=!0}};r.Km=function(){if(!this.F&&!this.e.length&&this.Jg){var b,a,c;b=0;for(a=this.Ec.length;b<a;++b)c=this.Ec[b],this.b.n.deleteTexture(c.R),c.R=null;this.Jg=!1}};var q=[];r.Wl=function(b){var a,c,d;T(q);a=0;for(c=this.Ec.length;a<c;++a)d=this.Ec[a].Y,-1===q.indexOf(d)&&(b.drawImage(d,0,0),q.push(d))};g.S=function(b){this.type=b;this.b=b.b;b=this.type.Sb[0].frames[0].hj;this.cc?this.C.xh(b):this.C=new eb(b)};var p=g.S.prototype;p.L=
function(){this.visible=0===this.A[0];this.Zk=this.ol=!1;this.Jc=0!==this.A[3];this.ua=this.eo(this.A[1])||this.type.Sb[0];this.D=this.A[2];0>this.D&&(this.D=0);this.D>=this.ua.frames.length&&(this.D=this.ua.frames.length-1);var b=this.ua.frames[this.D];this.C.xh(b.hj);this.Fb=b.Fb;this.Gb=b.Gb;this.Bf=this.ua.speed;this.be=this.ua.gm;1===this.type.Sb.length&&1===this.type.Sb[0].frames.length||0===this.Bf||(this.b.Dm(this),this.ol=!0);this.cc?this.ad.reset():this.ad=new bb;this.Dd=this.ad.V;this.Ie=
!0;this.yd=0;this.He=!0;this.bi=this.un="";this.In=0;this.ik=-1;this.type.El();var a,c,d,f,g,n,l,b=0;for(a=this.type.Sb.length;b<a;b++)for(f=this.type.Sb[b],c=0,d=f.frames.length;c<d;c++)g=f.frames[c],0===g.width&&(g.width=g.Y.width,g.height=g.Y.height),g.dg&&(l=g.Y,n=g.rm,n.left=g.Xf/l.width,n.top=g.Yf/l.height,n.right=(g.Xf+g.width)/l.width,n.bottom=(g.Yf+g.height)/l.height,0===g.Xf&&0===g.Yf&&g.width===l.width&&g.height===l.height&&(g.dg=!1));this.bb=this.ua.frames[this.D];this.fi=this.bb.R};p.Na=
function(){var b={a:this.ua.Q,f:this.D,cas:this.Bf,fs:this.Dd,ar:this.yd,at:this.ad.V,rt:this.be};this.Ie||(b.ap=this.Ie);this.He||(b.af=this.He);return b};p.$a=function(b){var a=this.ju(b.a);a&&(this.ua=a);this.D=b.f;0>this.D&&(this.D=0);this.D>=this.ua.frames.length&&(this.D=this.ua.frames.length-1);this.Bf=b.cas;this.Dd=b.fs;this.yd=b.ar;this.ad.reset();this.ad.V=b.at;this.Ie=b.hasOwnProperty("ap")?b.ap:!0;this.He=b.hasOwnProperty("af")?b.af:!0;b.hasOwnProperty("rt")?this.be=b.rt:this.be=this.ua.gm;
this.bb=this.ua.frames[this.D];this.fi=this.bb.R;this.C.xh(this.bb.hj);this.Fb=this.bb.Fb;this.Gb=this.bb.Gb};p.$j=function(b){this.D=b?0:this.ua.frames.length-1;this.Ie=!1;this.un=this.ua.name;this.Zk=!0;this.b.trigger(Y.prototype.g.cr,this);this.b.trigger(Y.prototype.g.br,this);this.Zk=!1;this.yd=0};p.rg=function(){return this.ad.V};p.wb=function(){this.ad.add(this.b.Jf(this));this.bi.length&&this.Rn();0<=this.ik&&this.Ts();var b=this.ad.V,a=this.ua,c=a.frames[this.D],d=c.duration/this.Bf;this.Ie&&
b>=this.Dd+d&&(this.He?this.D++:this.D--,this.Dd+=d,this.D>=a.frames.length&&(a.Cp?(this.He=!1,this.D=a.frames.length-2):a.loop?this.D=this.be:(this.yd++,this.yd>=a.fm?this.$j(!1):this.D=this.be)),0>this.D&&(a.Cp?(this.D=1,this.He=!0,a.loop||(this.yd++,this.yd>=a.fm&&this.$j(!0))):a.loop?this.D=this.be:(this.yd++,this.yd>=a.fm?this.$j(!0):this.D=this.be)),0>this.D?this.D=0:this.D>=a.frames.length&&(this.D=a.frames.length-1),b>this.Dd+a.frames[this.D].duration/this.Bf&&(this.Dd=b),b=a.frames[this.D],
this.yf(c,b),this.b.X=!0)};p.eo=function(b){var a,c,d;a=0;for(c=this.type.Sb.length;a<c;a++)if(d=this.type.Sb[a],kb(d.name,b))return d;return null};p.ju=function(b){var a,c,d;a=0;for(c=this.type.Sb.length;a<c;a++)if(d=this.type.Sb[a],d.Q===b)return d;return null};p.Rn=function(){var b=this.ua.frames[this.D],a=this.eo(this.bi);this.bi="";!a||kb(a.name,this.ua.name)&&this.Ie||(this.ua=a,this.Bf=a.speed,this.be=a.gm,0>this.D&&(this.D=0),this.D>=this.ua.frames.length&&(this.D=this.ua.frames.length-1),
1===this.In&&(this.D=0),this.Ie=!0,this.Dd=this.ad.V,this.He=!0,this.yf(b,this.ua.frames[this.D]),this.b.X=!0)};p.Ts=function(){var b=this.ua.frames[this.D],a=this.D;this.D=F(this.ik);0>this.D&&(this.D=0);this.D>=this.ua.frames.length&&(this.D=this.ua.frames.length-1);a!==this.D&&(this.yf(b,this.ua.frames[this.D]),this.Dd=this.ad.V,this.b.X=!0);this.ik=-1};p.yf=function(b,a){var c=b.width,d=b.height,f=a.width,g=a.height;c!=f&&(this.width*=f/c);d!=g&&(this.height*=g/d);this.Fb=a.Fb;this.Gb=a.Gb;this.C.xh(a.hj);
this.G();this.bb=a;this.fi=a.R;c=0;for(d=this.I.length;c<d;c++)f=this.I[c],f.wv&&f.wv(b,a);this.b.trigger(Y.prototype.g.yf,this)};p.Lc=function(b){b.globalAlpha=this.opacity;var a=this.bb,c=a.dg,d=a.Y,f=this.x,g=this.y,n=this.width,l=this.height;if(0===this.j&&0<=n&&0<=l)f-=this.Fb*n,g-=this.Gb*l,this.b.Sc&&(f=Math.round(f),g=Math.round(g)),c?b.drawImage(d,a.Xf,a.Yf,a.width,a.height,f,g,n,l):b.drawImage(d,f,g,n,l);else{this.b.Sc&&(f=Math.round(f),g=Math.round(g));b.save();var m=0<n?1:-1,p=0<l?1:-1;
b.translate(f,g);1===m&&1===p||b.scale(m,p);b.rotate(this.j*m*p);f=0-this.Fb*ka(n);g=0-this.Gb*ka(l);c?b.drawImage(d,a.Xf,a.Yf,a.width,a.height,f,g,ka(n),ka(l)):b.drawImage(d,f,g,ka(n),ka(l));b.restore()}};p.Oe=function(b){this.Eb(b)};p.Eb=function(b){b.Va(this.fi);b.De(this.opacity);var a=this.bb,c=this.Pa;if(this.b.Sc){var d=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;a.dg?b.qd(c.Wa+d,c.Xa+f,c.xb+d,c.yb+f,c.mb+d,c.nb+f,c.kb+d,c.lb+f,a.rm):b.nf(c.Wa+d,c.Xa+f,c.xb+d,c.yb+f,c.mb+d,c.nb+f,
c.kb+d,c.lb+f)}else a.dg?b.qd(c.Wa,c.Xa,c.xb,c.yb,c.mb,c.nb,c.kb,c.lb,a.rm):b.nf(c.Wa,c.Xa,c.xb,c.yb,c.mb,c.nb,c.kb,c.lb)};p.ou=function(b){var a=this.bb,c,d;c=0;for(d=a.Yk.length;c<d;c++)if(kb(b,a.Yk[c][0]))return c;return-1};p.Nk=function(b,a){var c=this.bb,d=c.Yk,f;v(b)?f=this.ou(b):f=b-1;f=F(f);if(0>f||f>=d.length)return a?this.x:this.y;var g=(d[f][1]-c.Fb)*this.width,d=d[f][2],d=(d-c.Gb)*this.height,c=Math.cos(this.j);f=Math.sin(this.j);var n=g*c-d*f,d=d*c+g*f,g=n+this.x,d=d+this.y;return a?
g:d};var b=new ca,f=!1;new M(0,0,0,0);r.finish=function(e){if(f){if(e){var a=this.b.rb().pb.Rc;e=null.ba();var c=b.pc(),d,g;if(e.ga){e.ga=!1;T(e.e);d=0;for(g=c.length;d<g;++d)e.e[d]=c[d];if(a)for(T(e.aa),d=0,g=null.e.length;d<g;++d)c=null.e[d],b.contains(c)||e.aa.push(c)}else if(a)for(a=e.e.length,d=0,g=c.length;d<g;++d)e.e[a+d]=c[d],Ga(e.aa,c[d]);else Da(e.e,c);null.Je()}b.clear();f=!1}};l.prototype.br=function(b){return kb(this.un,b)};l.prototype.cr=function(){return!0};l.prototype.yf=function(){return!0};
g.g=new l;n.prototype.Nr=function(b,a){this.bi=b;this.In=a;this.ol||(this.b.Dm(this),this.ol=!0);this.Zk||this.Rn()};n.prototype.Ur=function(b){b=ka(this.width)*(0===b?-1:1);this.width!==b&&(this.width=b,this.G())};g.B=new n;g.W=new function(){}})();function rc(d){this.b=d}
(function(){function d(){return b.length?b.pop():{}}function l(d){var e,a;e=0;for(a=d.length;e<a;e++)b.push(d[e]);T(d)}function n(b){return b.length&&" "===b.charAt(b.length-1)?b.substring(0,b.length-1):b}function g(){}var r=rc.prototype;r.L=function(){r.B.Wr=function(b){this.width!==b&&(this.width=b,this.sf=!0,this.G())}};r.da=function(b){this.qa=b;this.b=b.b};var q=r.da.prototype;q.L=function(){};q.mh=function(){if(!this.F){var b,e,a;b=0;for(e=this.e.length;b<e;b++)a=this.e[b],a.ld=null,a.jf=null,
a.$b=null}};r.S=function(b){this.type=b;this.b=b.b;this.cc?T(this.ue):this.ue=[];this.sf=!0};q=r.S.prototype;q.L=function(){this.text=this.A[0];this.visible=0===this.A[1];this.font=this.A[2];this.color=this.A[3];this.Bi=this.A[4];this.Pj=this.A[5];this.Rm=0===this.A[7];this.Al=this.Qi=this.width;this.Pi=this.height;this.Dl=this.A[8];this.ri=this.Ff="";this.jq=this.kq=this.qh=0;this.zv();this.$b=this.jf=this.ld=null;this.sp=!1;this.Ug=this.b.zc;this.cc?this.Be.set(0,0,1,1):this.Be=new M(0,0,1,1);this.b.n&&
this.b.Dm(this)};q.zv=function(){var b=this.font.split(" "),e;for(e=0;e<b.length;e++)if("pt"===b[e].substr(b[e].length-2,2)){this.qh=parseInt(b[e].substr(0,b[e].length-2));this.Zl=Math.ceil(this.qh/72*96)+4;0<e&&(this.ri=b[e-1]);this.Ff=b[e+1];for(e+=2;e<b.length;e++)this.Ff+=" "+b[e];break}};q.Na=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Bi,va:this.Pj,wr:this.Rm,lho:this.Dl,fn:this.Ff,fs:this.ri,ps:this.qh,pxh:this.Zl,tw:this.kq,th:this.jq,lrt:this.Ug}};q.$a=function(b){this.text=
b.t;this.font=b.f;this.color=b.c;this.Bi=b.ha;this.Pj=b.va;this.Rm=b.wr;this.Dl=b.lho;this.Ff=b.fn;this.ri=b.fs;this.qh=b.ps;this.Zl=b.pxh;this.kq=b.tw;this.jq=b.th;this.Ug=b.lrt;this.sf=!0;this.Al=this.Qi=this.width;this.Pi=this.height};q.wb=function(){if(this.b.n&&this.$b&&300<=this.b.zc-this.Ug){var b=this.k;this.Z();var e=this.N;if(e.right<b.ca||e.bottom<b.ja||e.left>b.ma||e.top>b.ia)this.b.n.deleteTexture(this.$b),this.ld=this.jf=this.$b=null}};q.nd=function(){this.ld=this.jf=null;this.b.n&&
this.$b&&this.b.n.deleteTexture(this.$b);this.$b=null};q.rg=function(){this.font=this.ri+" "+this.qh.toString()+"pt "+this.Ff;this.sf=!0;this.b.X=!0};q.Lc=function(b,e){b.font=this.font;b.textBaseline="top";b.fillStyle=this.color;b.globalAlpha=e?1:this.opacity;var a=1;e&&(a=Math.abs(this.k.Yb()),b.save(),b.scale(a,a));if(this.sf||this.width!==this.Al)this.type.qa.js(this.text,this.ue,b,this.width,this.Rm),this.sf=!1,this.Al=this.width;this.Z();var a=e?0:this.Pa.Wa,c=e?0:this.Pa.Xa;this.b.Sc&&(a=a+
.5|0,c=c+.5|0);0===this.j||e||(b.save(),b.translate(a,c),b.rotate(this.j),c=a=0);var d=c+this.height,g=this.Zl,g=g+this.Dl,n,l;1===this.Pj?c+=Math.max(this.height/2-this.ue.length*g/2,0):2===this.Pj&&(c+=Math.max(this.height-this.ue.length*g-2,0));for(l=0;l<this.ue.length&&!(n=a,1===this.Bi?n=a+(this.width-this.ue[l].width)/2:2===this.Bi&&(n=a+(this.width-this.ue[l].width)),b.fillText(this.ue[l].text,n,c),c+=g,c>=d-g);l++);(0!==this.j||e)&&b.restore();this.Ug=this.b.zc};q.Eb=function(b){if(!(1>this.width||
1>this.height)){var e=this.sf||this.sp;this.sp=!1;var a=this.k.Yb(),c=this.k.Wb(),d=this.Be,g=a*this.width,n=a*this.height,l=Math.ceil(g),p=Math.ceil(n),m=Math.abs(l),q=Math.abs(p),r=this.b.K/2,B=this.b.J/2;this.jf||(this.ld=document.createElement("canvas"),this.ld.width=m,this.ld.height=q,this.Qi=m,this.Pi=q,e=!0,this.jf=this.ld.getContext("2d"));if(m!==this.Qi||q!==this.Pi)this.ld.width=m,this.ld.height=q,this.$b&&(b.deleteTexture(this.$b),this.$b=null),e=!0;e&&(this.jf.clearRect(0,0,m,q),this.Lc(this.jf,
!0),this.$b||(this.$b=b.Db(m,q,this.b.wa,this.b.Xe)),b.Pm(this.ld,this.$b,this.b.Xe));this.Qi=m;this.Pi=q;b.Va(this.$b);b.De(this.opacity);b.uc();b.translate(-r,-B);b.nc();var H=this.Pa,e=this.k.za(H.Wa,H.Xa,!0,!0),m=this.k.za(H.Wa,H.Xa,!1,!0),q=this.k.za(H.xb,H.yb,!0,!0),r=this.k.za(H.xb,H.yb,!1,!0),B=this.k.za(H.mb,H.nb,!0,!0),K=this.k.za(H.mb,H.nb,!1,!0),N=this.k.za(H.kb,H.lb,!0,!0),H=this.k.za(H.kb,H.lb,!1,!0);if(this.b.Sc||0===this.j&&0===c)var A=(e+.5|0)-e,C=(m+.5|0)-m,e=e+A,m=m+C,q=q+A,r=r+
C,B=B+A,K=K+C,N=N+A,H=H+C;0===this.j&&0===c?(q=e+l,r=m,B=q,K=m+p,N=e,H=K,d.right=1,d.bottom=1):(d.right=g/l,d.bottom=n/p);b.qd(e,m,q,r,B,K,N,H,d);b.uc();b.scale(a,a);b.tj(-this.k.Wb());b.translate((this.k.ca+this.k.ma)/-2,(this.k.ja+this.k.ia)/-2);b.nc();this.Ug=this.b.zc}};var p=[];r.ds=function(b){T(p);for(var e="",a,c=0;c<b.length;)if(a=b.charAt(c),"\n"===a)e.length&&(p.push(e),e=""),p.push("\n"),++c;else if(" "===a||"\t"===a||"-"===a){do e+=b.charAt(c),c++;while(c<b.length&&(" "===b.charAt(c)||
"\t"===b.charAt(c)));p.push(e);e=""}else c<b.length&&(e+=a,c++);e.length&&p.push(e)};var b=[];r.js=function(b,e,a,c,g){if(b&&b.length)if(2>=c)l(e);else{if(100>=b.length&&-1===b.indexOf("\n")){var h=a.measureText(b).width;if(h<=c){l(e);e.push(d());e[0].text=b;e[0].width=h;return}}this.ks(b,e,a,c,g)}else l(e)};r.ks=function(f,e,a,c,g){g&&(this.ds(f),f=p);var h="",l,q,r,m=0;for(r=0;r<f.length;r++)"\n"===f[r]?(m>=e.length&&e.push(d()),h=n(h),q=e[m],q.text=h,q.width=a.measureText(h).width,m++,h=""):(l=
h,h+=f[r],q=a.measureText(h).width,q>=c&&(m>=e.length&&e.push(d()),l=n(l),q=e[m],q.text=l,q.width=a.measureText(l).width,m++,h=f[r],g||" "!==h||(h="")));h.length&&(m>=e.length&&e.push(d()),h=n(h),q=e[m],q.text=h,q.width=a.measureText(h).width,m++);for(r=m;r<e.length;r++)b.push(e[r]);e.length=m};r.g=new function(){};g.prototype.Dq=function(b){ha(b)&&(b=Math.round(1E10*b)/1E10);if(b=b.toString())this.text+=b,this.sf=!0,this.b.X=!0};r.B=new g;r.W=new function(){}})();function sc(d){this.b=d}
(function(){var d=sc.prototype;d.da=function(d){this.qa=d;this.b=d.b};var l=d.da.prototype;l.L=function(){this.F||(this.Y=new Image,this.Y.ok=this.Bm,this.b.Qm(this.Y,this.Am),this.R=this.pattern=null)};l.mh=function(){this.F||(this.R=null)};l.fj=function(){if(!this.F&&this.e.length){this.R||(this.R=this.b.n.Vi(this.Y,!0,this.b.wa,this.Cm));var d,g;d=0;for(g=this.e.length;d<g;d++)this.e[d].R=this.R}};l.El=function(){this.F||this.R||!this.b.n||(this.R=this.b.n.Vi(this.Y,!0,this.b.wa,this.Cm))};l.Km=
function(){this.F||this.e.length||!this.R||(this.b.n.deleteTexture(this.R),this.R=null)};l.Wl=function(d){d.drawImage(this.Y,0,0)};d.S=function(d){this.type=d;this.b=d.b};l=d.S.prototype;l.L=function(){this.visible=0===this.A[0];this.Be=new M(0,0,0,0);this.wo=!1;this.Y=this.type.Y;this.b.n?(this.type.El(),this.R=this.type.R):(this.type.pattern||(this.type.pattern=this.b.xa.createPattern(this.type.Y,"repeat")),this.pattern=this.type.pattern)};l.xd=function(){this.wo=!1;this.Y=this.type.Y};l.nd=function(){this.b.n&&
this.wo&&this.R&&(this.b.n.deleteTexture(this.R),this.R=null)};l.Lc=function(d){d.globalAlpha=this.opacity;d.save();d.fillStyle=this.pattern;var g=this.x,l=this.y;this.b.Sc&&(g=Math.round(g),l=Math.round(l));var q=-(this.Fb*this.width),p=-(this.Gb*this.height),b=q%this.Y.width,f=p%this.Y.height;0>b&&(b+=this.Y.width);0>f&&(f+=this.Y.height);d.translate(g,l);d.rotate(this.j);d.translate(b,f);d.fillRect(q-b,p-f,this.width,this.height);d.restore()};l.Oe=function(d){this.Eb(d)};l.Eb=function(d){d.Va(this.R);
d.De(this.opacity);var g=this.Be;g.right=this.width/this.Y.width;g.bottom=this.height/this.Y.height;var l=this.Pa;if(this.b.Sc){var q=Math.round(this.x)-this.x,p=Math.round(this.y)-this.y;d.qd(l.Wa+q,l.Xa+p,l.xb+q,l.yb+p,l.mb+q,l.nb+p,l.kb+q,l.lb+p,g)}else d.qd(l.Wa,l.Xa,l.xb,l.yb,l.mb,l.nb,l.kb,l.lb,g)};d.g=new function(){};d.B=new function(){};d.W=new function(){}})();function tc(d){this.b=d}
(function(){function d(a){a%=k.length;0>a&&(a+=k.length);return a}function l(){var a,b,c,e;a=0;for(b=k.length;a<b;++a)c=k[a],(e=k[d(a-1)])&&!c&&(t=a),!e&&c&&(G=a)}function n(){}var g=tc.prototype;g.da=function(a){this.qa=a;this.b=a.b};var r=g.da.prototype,q=!1,p=null,b=null;r.L=function(){this.F||q||(q=!0,p=new Image,p.ok=15E3,this.b.Qm(p,"penumbra.png"))};r.mh=function(){if(!this.F){this.ac=this.R=null;var a,b,c;a=0;for(b=this.e.length;a<b;++a)c=this.e[a],c.R=null,c.ac=null}};r.fj=function(){if(!this.F){var a,
b;a=0;for(b=this.e.length;a<b;++a)this.e[a].qk()}};g.S=function(a){this.type=a;this.b=a.b};r=g.S.prototype;r.L=function(){if(!b){var a=p.width,c=p.height,e=document.createElement("canvas");e.width=a;e.height=c;e=e.getContext("2d");e.clearRect(0,0,a,c);e.drawImage(p,0,0,a,c);b=e.getImageData(0,0,a,c).data}this.qe=this.x;this.te=this.y;this.Ro=this.A[0];this.Ib=1E3;this.Uf=this.A[1];this.Gn=this.A[2];this.tag=this.A[3];this.Wg=this.Xg=this.Yg=0;this.Ko=this.x;this.Lo=this.y;this.ac=this.R=null;this.b.n?
this.qk():this.Uf=0;this.b.mw(this)};r.Hn=function(a){return 1===this.Gn?kb(this.tag,a):2===this.Gn?!kb(this.tag,a):!0};r.fg=function(){if(this.Ko!==this.x||this.Lo!==this.y)this.qe=this.x,this.te=this.y;var a=this.k,b=(a.ca+a.ma)/2,c=(a.ja+a.ia)/2,e=a.ma-a.ca+this.Ib,d=a.ia-a.ja+this.Ib;if(b!==this.x||c!==this.y||e!==this.width||d!==this.height)this.x=b,this.y=c,this.width=e,this.height=d,this.G();this.Ko=this.x;this.Lo=this.y;this.Ib=1.5*Ra(a.ca,a.ja,a.ma,a.ia)};r.nd=function(){this.b.n&&(this.R&&
(this.b.n.deleteTexture(this.R),this.R=null),this.ac&&(this.b.n.deleteTexture(this.ac),this.ac=null))};r.Na=function(){return{}};r.$a=function(){};var f=[],e=[];r.to=function(){this.b.om&&(this.b.Ai(this.k,this.b.om.Ll,this.N,f),Ya(f))};var a=[],c=0,k=[],h=[],t=-1,w=-1,G=-1,m=-1,u=0,Q=0,B=[],H=0,K=0,N=0,A=0,C=0,P=0,V=0,R=0,J=new eb([]);r.Lc=function(a){this.to();a.save();a.fillStyle="rgba("+this.Yg+","+this.Xg+","+this.Wg+","+this.opacity+")";var b,c,d,g,h,m,n,l,p,q;b=0;for(c=f.length;b<c;++b)if(d=
f[b],d.H.shadowcasterEnabled&&this.Hn(d.H.shadowcasterTag))if(d.Z(),n=d.H.shadowcasterHeight,d.wd){d.wi(this.N,e);l=d.x;p=d.y;d=0;for(g=e.length;d<g;++d){h=e[d];q=h.nj;h.Tc?(h=h.Tc,m=q.left,q=q.top):(J.ud(q,0,0),h=J,q=m=0);this.ai(h,l+m,p+q,n,!1);a.beginPath();a.moveTo(B[0],B[1]);h=2;for(m=B.length;h<m;h+=2)a.lineTo(B[h],B[h+1]);a.closePath();a.fill();T(k);T(B)}T(e)}else{d.C&&!d.C.hd()?(d.C.cd(d.width,d.height,d.j),h=d.C):(J.Md(d.Pa,d.x,d.y,d.width,d.height),h=J);this.ai(h,d.x,d.y,n,Sa(0>d.width,
0>d.height));a.beginPath();a.moveTo(B[0],B[1]);d=2;for(g=B.length;d<g;d+=2)a.lineTo(B[d],B[d+1]);a.closePath();a.fill();T(k);T(B)}a.restore();T(f)};r.su=function(b,e,d,f){c=b.lc;T(a);var g,h=b.Ja;Q=u=0;var k;for(k=0;k<c;++k)g=2*k,b=h[g]+e,g=h[g+1]+d,f?(a.unshift(g),a.unshift(b)):(a.push(b),a.push(g)),u+=b,Q+=g;u/=c;Q/=c};r.ai=function(b,e,d,f,g){this.su(b,e,d,g);var n;T(k);T(h);T(B);m=w=G=t=-1;d=this.qe;g=this.te;if(0<this.Uf)this.dk(-this.Uf),l(),Da(h,k),w=t,m=G,T(k),G=t=-1,this.dk(this.Uf),l(),
-1!==t&&-1!==G&&-1!==w&&-1!==m&&this.Es();else for(this.dk(0),l(),b=0;b<c;++b)n=2*b,e=a[n],n=a[n+1],this.Ds(b,d,g,e,n,f)};r.Ds=function(a,b,c,e,f,g){var h;h=k[d(a-1)];var m=a===t,n=a===G;k[a]||h?(a=Na(b,c,e,f),h=Ra(b,c,e,f),g=this.Fs(b,c,e,f,g),b+=Math.cos(a)*(h+g),c+=Math.sin(a)*(h+g)):(b=e,c=f);n&&(B.push(e),B.push(f));B.push(b);B.push(c);m&&(B.push(e),B.push(f))};r.dk=function(b){var e=this.qe,d=this.te,f=e,g=d,h,m,n,l,p;for(h=0;h<c;++h)m=2*h,n=h+1,n=n===c?0:2*n,l=a[m],m=a[m+1],p=a[n],n=a[n+1],
0!==b&&(g=Na(e,d,u,Q)-Math.PI/2,f=e+Math.cos(g)*b,g=d+Math.sin(g)*b),k.push(Oa(Na(l,m,f,g),Na(l,m,p,n)-Math.PI/2)>=Math.PI/2)};var D=0,E=0;r.Es=function(){for(var b=w,e,d,f;b=b%c,e=2*b,d=a[e],f=a[e+1],B.push(d),B.push(f),b!==G;++b);var g=this.Uf,h=Na(this.qe,this.te,u,Q),b=this.qe+Math.cos(h-Math.PI/2)*g,k=this.te+Math.sin(h-Math.PI/2)*g,h=Na(b,k,d,f),m=Ra(b,k,d,f),b=b+Math.cos(h)*(m+this.Ib),k=k+Math.sin(h)*(m+this.Ib);e=2*w;var n=a[e];e=a[e+1];var h=Na(this.qe,this.te,u,Q),l=this.qe+Math.cos(h+
Math.PI/2)*g,p=this.te+Math.sin(h+Math.PI/2)*g,h=Na(l,p,n,e),m=Ra(l,p,n,e),g=l+Math.cos(h)*(m+this.Ib),h=p+Math.sin(h)*(m+this.Ib);C=d;P=f;H=n;K=e;var q,r,t,m=b-d,l=k-f;q=g-n;r=h-e;t=-q*l+m*r;0===t?d=!1:(p=(-l*(d-n)+m*(f-e))/t,t=-q*l+m*r,0===t?d=!1:(n=(q*(f-e)-r*(d-n))/t,0<=p&&1>=p&&0<=n&&1>=n?(D=d+n*m,E=f+n*l,d=!0):d=!1));d?(B.push(D),B.push(E),V=D,R=E,N=D,A=E):(B.push(b),B.push(k),B.push(g),B.push(h),V=b,R=k,N=g,A=h)};r.Fs=function(a,b,c,e,d){if(d>=this.Ro)return this.Ib;if(0>=d)return 0;a=Ra(a,
b,c,e);a=Math.atan(a/(this.Ro-d));d=d*Math.tan(a);d>=this.Ib&&(d=this.Ib);0>d&&(d=0);return d};r.Eb=function(a){a.De(this.opacity);this.to();var b,c,d,g,h,n,l,p,q,r;b=0;for(c=f.length;b<c;++b)if(d=f[b],d.H.shadowcasterEnabled&&this.Hn(d.H.shadowcasterTag))if(d.Z(),h=d.H.shadowcasterHeight,d.wd){d.wi(this.N,e);l=d.x;p=d.y;d=0;for(g=e.length;d<g;++d)n=e[d],q=n.nj,n.Tc?(n=n.Tc,r=q.left,q=q.top):(J.ud(q,0,0),n=J,q=r=0),this.ai(n,l+r,p+q,h,!1),6>B.length||(a.Va(this.R),a.Mn(B),-1<t&&-1<w&&(a.Va(this.ac),
this.li(a,!0)),-1<G&&-1<m&&(a.Va(this.ac),this.li(a,!1)),T(k),T(B));T(e)}else d.C&&!d.C.hd()?(d.C.cd(d.width,d.height,d.j),n=d.C):(J.Md(d.Pa,d.x,d.y,d.width,d.height),n=J),this.ai(n,d.x,d.y,h,Sa(0>d.width,0>d.height)),6>B.length||(a.Va(this.R),a.Mn(B),-1<t&&-1<w&&(a.Va(this.ac),this.li(a,!0)),-1<G&&-1<m&&(a.Va(this.ac),this.li(a,!1)),T(k),T(B));T(f)};r.li=function(b,c){var e=this.qe,d=this.te,f,g,h,k,n,l;c?(h=H,k=K,n=N,l=A):(h=C,k=P,n=V,l=R);var p=this.Uf,q=Na(e,d,u,Q),r=Math.PI/2;c&&(r=-r);e+=Math.cos(q+
r)*p;d+=Math.sin(q+r)*p;p=!1;if(c){if(p=t!==w)f=a[2*t],g=a[2*t+1]}else if(p=G!==m)f=a[2*m],g=a[2*m+1];var q=p?Na(f,g,h,k):Na(e,d,h,k),r=h+Math.cos(q)*this.Ib,B=k+Math.sin(q)*this.Ib,D,E,J,tb=J=0,ub=1;p&&(J=Na(e,d,f,g),D=f+Math.cos(J)*this.Ib,E=g+Math.sin(J)*this.Ib,e=Na(h,k,n,l),J=Oa(q,J)/Oa(e,J),q=Ra(f,g,h,k),q=q/(q+this.Ib),e=Na(0,1,J,0),d=Ra(0,1,J,0),tb+=Math.cos(e)*q*d,ub+=Math.sin(e)*q*d);b.Kp(h,k,n,l,r,B,r,B,tb,ub,1,J,J);p&&b.Kp(f,g,r,B,D,E,D,E,0,1,J,0,0)};r.qk=function(){this.b.n&&(this.R&&
(this.b.n.deleteTexture(this.R),this.R=null),this.ac&&(this.b.n.deleteTexture(this.ac),this.ac=null),this.Ls(),this.Os())};r.Ls=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.Yg+","+this.Xg+","+this.Wg+")";b.fillRect(0,0,16,16);this.R=this.b.n.Db(16,16,!1,!1,!0);this.b.n.Pm(a,this.R)};r.Os=function(){var a=p.width,c=p.height,e=this.Yg,d=this.Xg,f=this.Wg,g=b,h=document.createElement("canvas");h.width=a;h.height=c;var k=h.getContext("2d"),
m=k.createImageData(a,c),n=m.data,l,q;l=0;for(q=n.length;l<q;l+=4)n[l]=e,n[l+1]=d,n[l+2]=f,n[l+3]=g[l+3];k.putImageData(m,0,0);this.ac=this.b.n.Db(a,c,this.b.wa,!1,!1);this.b.n.Pm(h,this.ac)};g.g=new function(){};n.prototype.Tr=function(a){var b=ta(a),c=wa(a);a=xa(a);if(this.Yg!==b||this.Xg!==c||this.Wg!==a)this.Yg=b,this.Xg=c,this.Wg=a,this.qk(),this.b.X=!0};g.B=new n;g.W=new function(){}})();function uc(d){this.b=d}
(function(){function d(){}var l=uc.prototype;l.da=function(d){this.behavior=d;this.b=d.b};l.da.prototype.L=function(){};l.S=function(d,n){this.type=d;this.behavior=d.behavior;this.i=n;this.b=d.b};var n=l.S.prototype;n.L=function(){this.sn=this.A[0];this.tn=this.A[1];this.ws=this.A[2];this.vs=this.A[3];this.i.Z();this.Rj=this.i.N.left;this.Uj=this.i.N.top;this.Sj=this.b.Ba-this.i.N.left;this.Tj=this.b.Aa-this.i.N.top;this.oj=this.b.Ba-this.i.N.right;this.Xh=this.b.Aa-this.i.N.bottom;this.enabled=0!==
this.A[4]};n.Na=function(){return{xleft:this.Rj,ytop:this.Uj,xright:this.Sj,ybottom:this.Tj,rdiff:this.oj,bdiff:this.Xh,enabled:this.enabled}};n.$a=function(d){this.Rj=d.xleft;this.Uj=d.ytop;this.Sj=d.xright;this.Tj=d.ybottom;this.oj=d.rdiff;this.Xh=d.bdiff;this.enabled=d.enabled};n.wb=function(){if(this.enabled){var d,n=this.i.k,l=this.i,p=this.i.N;0===this.sn?(l.Z(),d=n.ca+this.Rj-p.left,0!==d&&(l.x+=d,l.G())):1===this.sn&&(l.Z(),d=n.ma-this.Sj-p.left,0!==d&&(l.x+=d,l.G()));0===this.tn?(l.Z(),d=
n.ja+this.Uj-p.top,0!==d&&(l.y+=d,l.G())):1===this.tn&&(l.Z(),d=n.ia-this.Tj-p.top,0!==d&&(l.y+=d,l.G()));1===this.ws&&(l.Z(),d=n.ma-this.oj-p.right,0!==d&&(l.width+=d,0>l.width&&(l.width=0),l.G()));1===this.vs&&(l.Z(),d=n.ia-this.Xh-p.bottom,0!==d&&(l.height+=d,0>l.height&&(l.height=0),l.G()))}};l.g=new function(){};d.prototype.zf=function(d){this.enabled&&0===d?this.enabled=!1:this.enabled||0===d||(this.i.Z(),this.Rj=this.i.N.left,this.Uj=this.i.N.top,this.Sj=this.b.Ba-this.i.N.left,this.Tj=this.b.Aa-
this.i.N.top,this.oj=this.b.Ba-this.i.N.right,this.Xh=this.b.Aa-this.i.N.bottom,this.enabled=!0)};l.B=new d;l.W=new function(){}})();function vc(d){this.b=d}
(function(){function d(){}function l(){}function n(){}var g=vc.prototype;g.da=function(d){this.behavior=d;this.b=d.b};g.da.prototype.L=function(){};g.S=function(d,g){this.type=d;this.behavior=d.behavior;this.i=g;this.b=d.b;this.Dj=this.Cj=this.Bj=this.Ej=this.Xk=this.vh=this.Vg=this.yg=this.Fh=!1;this.yl=this.xl=this.wl=this.zl=-1;this.la=this.ea=0};var r=g.S.prototype;r.L=function(){this.hh=this.A[0];this.Qb=this.A[1];this.Ub=this.A[2];this.zk=this.A[3];this.Zj=this.A[4];this.Ps=1===this.A[5];this.enabled=
0!==this.A[6];this.Ps&&!this.b.Hb&&(jQuery(document).keydown(function(d){return function(g){d.Ql(g)}}(this)),jQuery(document).keyup(function(d){return function(g){d.Rl(g)}}(this)))};r.Na=function(){return{dx:this.ea,dy:this.la,enabled:this.enabled,maxspeed:this.hh,acc:this.Qb,dec:this.Ub,ignoreInput:this.Xk}};r.$a=function(d){this.ea=d.dx;this.la=d.dy;this.enabled=d.enabled;this.hh=d.maxspeed;this.Qb=d.acc;this.Ub=d.dec;this.Xk=d.ignoreInput;this.Dj=this.Cj=this.Bj=this.Ej=this.vh=this.Vg=this.yg=
this.Fh=!1;this.yl=this.xl=this.wl=this.zl=-1};r.Ql=function(d){var g=this.b.zc;switch(d.which){case 37:d.preventDefault();this.xl<g&&(this.Vg=!0);break;case 38:d.preventDefault();this.zl<g&&(this.Fh=!0);break;case 39:d.preventDefault();this.yl<g&&(this.vh=!0);break;case 40:d.preventDefault(),this.wl<g&&(this.yg=!0)}};r.Rl=function(d){var g=this.b.zc;switch(d.which){case 37:d.preventDefault();this.Vg=!1;this.xl=g;break;case 38:d.preventDefault();this.Fh=!1;this.zl=g;break;case 39:d.preventDefault();
this.vh=!1;this.yl=g;break;case 40:d.preventDefault(),this.yg=!1,this.wl=g}};r.lf=function(){this.vh=this.Vg=this.yg=this.Fh=!1};r.wb=function(){var d=this.b.Jf(this.i),g=this.Vg||this.Cj,b=this.vh||this.Dj,f=this.Fh||this.Ej,e=this.yg||this.Bj;this.Bj=this.Ej=this.Dj=this.Cj=!1;if(this.enabled){var a=this.b.rf(this.i);if(a&&(this.b.pj(this.i,a),!this.b.Rv(this.i)))return;this.Xk&&(e=f=b=g=!1);0===this.zk?b=g=!1:1===this.zk&&(e=f=!1);2===this.zk&&(f||e)&&(b=g=!1);g==b&&(0>this.ea?(this.ea+=this.Ub*
d,0<this.ea&&(this.ea=0)):0<this.ea&&(this.ea-=this.Ub*d,0>this.ea&&(this.ea=0)));f==e&&(0>this.la?(this.la+=this.Ub*d,0<this.la&&(this.la=0)):0<this.la&&(this.la-=this.Ub*d,0>this.la&&(this.la=0)));g&&!b&&(this.ea=0<this.ea?this.ea-(this.Qb+this.Ub)*d:this.ea-this.Qb*d);b&&!g&&(this.ea=0>this.ea?this.ea+(this.Qb+this.Ub)*d:this.ea+this.Qb*d);f&&!e&&(this.la=0<this.la?this.la-(this.Qb+this.Ub)*d:this.la-this.Qb*d);e&&!f&&(this.la=0>this.la?this.la+(this.Qb+this.Ub)*d:this.la+this.Qb*d);if(0!==this.ea||
0!==this.la){Math.sqrt(this.ea*this.ea+this.la*this.la)>this.hh&&(a=Math.atan2(this.la,this.ea),this.ea=this.hh*Math.cos(a),this.la=this.hh*Math.sin(a));b=this.i.x;f=this.i.y;g=this.i.j;this.i.x+=this.ea*d;this.i.G();if(a=this.b.rf(this.i))this.b.Jp(this.i,0>this.ea?1:-1,0,Math.abs(Math.floor(this.ea*d)))||(this.i.x=b),this.ea=0,this.i.G(),this.b.pj(this.i,a);this.i.y+=this.la*d;this.i.G();if(a=this.b.rf(this.i))this.b.Jp(this.i,0,0>this.la?1:-1,Math.abs(Math.floor(this.la*d)))||(this.i.y=f),this.la=
0,this.i.G(),this.b.pj(this.i,a);d=jb(this.ea);a=jb(this.la);0===d&&0===a||!this.i.type.qa.cv||(1===this.Zj?this.i.j=Ma(90*Math.round(Ia(Math.atan2(a,d))/90)):2===this.Zj?this.i.j=Ma(45*Math.round(Ia(Math.atan2(a,d))/45)):3===this.Zj&&(this.i.j=Math.atan2(a,d)));this.i.G();this.i.j!=g&&(a=this.b.rf(this.i))&&(this.i.j=g,this.i.G(),this.b.pj(this.i,a))}}};d.prototype.Um=function(){return 1E-10<Math.sqrt(this.ea*this.ea+this.la*this.la)};g.g=new d;l.prototype.$r=function(d){switch(d){case 0:this.Cj=
!0;break;case 1:this.Dj=!0;break;case 2:this.Ej=!0;break;case 3:this.Bj=!0}};l.prototype.zf=function(d){this.enabled=1===d};g.B=new l;n.prototype.gs=function(d){d.M(this.ea)};g.W=new n})();function wc(d){this.b=d}
(function(){function d(){}var l=wc.prototype;l.da=function(d){this.behavior=d;this.b=d.b};l.da.prototype.L=function(){};l.S=function(d,n){this.type=d;this.behavior=d.behavior;this.i=n;this.b=d.b};var n=l.S.prototype;n.L=function(){this.nn=1===this.A[0];this.Cg=this.A[1];this.Lh=this.A[2];this.ni=this.A[3];this.Qs=this.A[4];this.mc=this.nn?0:3;this.cc?this.wc.reset():this.wc=new bb;this.gf=this.i.opacity?this.i.opacity:1;this.nn&&(0===this.Cg?(this.mc=1,0===this.Lh&&(this.mc=2)):(this.i.opacity=0,
this.b.X=!0))};n.Na=function(){return{fit:this.Cg,wt:this.Lh,fot:this.ni,s:this.mc,st:this.wc.V,mo:this.gf}};n.$a=function(d){this.Cg=d.fit;this.Lh=d.wt;this.ni=d.fot;this.mc=d.s;this.wc.reset();this.wc.V=d.st;this.gf=d.mo};n.wb=function(){this.wc.add(this.b.Jf(this.i));0===this.mc&&(this.i.opacity=this.wc.V/this.Cg*this.gf,this.b.X=!0,this.i.opacity>=this.gf&&(this.i.opacity=this.gf,this.mc=1,this.wc.reset(),this.b.trigger(wc.prototype.g.kr,this.i)));1===this.mc&&this.wc.V>=this.Lh&&(this.mc=2,this.wc.reset(),
this.b.trigger(wc.prototype.g.Kr,this.i));2===this.mc&&0!==this.ni&&(this.i.opacity=this.gf-this.wc.V/this.ni*this.gf,this.b.X=!0,0>this.i.opacity&&(this.i.opacity=0,this.mc=3,this.wc.reset(),this.b.trigger(wc.prototype.g.Wm,this.i),1===this.Qs&&this.b.Cc(this.i)))};n.rg=function(){this.mc=0;this.wc.reset();0===this.Cg?(this.mc=1,0===this.Lh&&(this.mc=2)):(this.i.opacity=0,this.b.X=!0)};d.prototype.Wm=function(){return!0};d.prototype.kr=function(){return!0};d.prototype.Kr=function(){return!0};l.g=
new d;l.B=new function(){};l.W=new function(){}})();function xc(d){this.b=d}
(function(){function d(){}var l=xc.prototype;l.da=function(b){this.behavior=b;this.b=b.b};var n=l.da.prototype;n.L=function(){this.kc=[]};n.eu=function(b){var d,e,a;d=0;for(e=b.I.length;d<e;++d)if(a=b.I[d],a instanceof xc.prototype.S&&a.type===this)return a;return null};l.S=function(b,d){this.type=b;this.behavior=b.behavior;this.i=d;this.b=b.b};n=l.S.prototype;n.L=function(){this.qv=this.A[0];this.am=this.A[1];this.mk=W(this.A[2]);this.xq=0!==this.A[3]};n.nd=function(){};n.Na=function(){var b={r:this.am,
c:this.mk,t:[]},d,e;d=0;for(e=this.type.kc.length;d<e;d++)b.t.push(this.type.kc[d].Q);return b};n.$a=function(b){this.am=b.r;this.mk=b.c;T(this.type.kc);var d,e,a;d=0;for(e=b.t.length;d<e;d++)(a=this.b.Se(b.t[d]))&&this.type.kc.push(a)};n.wb=function(){};var g=[],r=new M(0,0,0,0);n.Ou=function(b,d){var e=this.i.x,a=this.i.y,c=this.i.j;0>this.i.width&&(c+=Math.PI);if(Ra(e,a,b,d)>this.am||Oa(c,Na(e,a,b,d))>this.mk/2)return!1;var k,h;r.set(e,a,b,d);r.normalize();if(0===this.qv)for(this.xq?this.b.Sk(this.i.k,
r,g):(c=this.b.vm)&&Ea(g,c.ih.pc()),c=0,k=g.length;c<k;++c){if(h=g[c],h.H.solidEnabled&&h!==this.i&&this.b.hq(e,a,b,d,h))return T(g),!1}else{if(this.xq)this.b.Ai(this.i.k,this.type.kc,r,g);else for(c=0,k=this.type.kc.length;c<k;++c)Ea(g,this.type.kc[c].e);c=0;for(k=g.length;c<k;++c)if(h=g[c],h!==this.i&&this.b.hq(e,a,b,d,h))return T(g),!1}T(g);return!0};var q=new ca,p=new ca;d.prototype.Oq=function(b){if(!b)return!1;var d,e,a,c,g,h,n,l,r=this.b.lu().ba();b=b.ba();var m=r.Xb(),u=b.Xb();r.ga&&T(r.aa);
b.ga&&T(b.aa);var Q=this.b.xi().Di;d=0;for(a=m.length;d<a;++d){g=m[d];l=!1;h=this.eu(g);e=0;for(c=u.length;e<c;++e)n=u[e],g!==n&&Sa(h.Ou(n.x,n.y),Q)&&(l=!0,p.add(n));l&&q.add(g)}d=q.pc();e=p.pc();r.ga=!1;b.ga=!1;Da(r.e,d);Da(b.e,e);q.clear();p.clear();return r.Vk()};l.g=new d;l.B=new function(){};l.W=new function(){}})();function yc(d){this.b=d}
(function(){function d(){}function l(){}var n={},g=yc.prototype;g.Zf=function(){var b,d;for(b in n)n.hasOwnProperty(b)&&(d=n[b],d.ze.unsetReady(),d.uh=!0)};g.da=function(b){this.behavior=b;this.b=b.b};g.da.prototype.L=function(){this.kc=[];this.$d=[]};g.S=function(b,d){this.type=b;this.behavior=b.behavior;this.i=d;this.b=b.b};var r=g.S.prototype;r.L=function(){this.Da=this.A[0];3>this.Da&&(this.Da=3);this.Ic=this.A[1];this.rv=this.A[2];this.jd=this.A[3];this.Qb=this.A[4];this.Ub=this.A[5];this.Sh=
W(this.A[6]);this.rj=0!==this.A[7];this.ki=0!==this.A[8];this.enabled=0!==this.A[9];this.Ig=this.qi=this.cj=this.Mf=!1;this.Jb=0;this.Ni=this.$c=this.i.j;this.sh=this.sd=this.rd=this.Ka=0;this.ye=Math.ceil(this.b.fa.width/this.Da);this.hf=Math.ceil(this.b.fa.height/this.Da);this.Fa=[];this.xg=!1;this.wk=this.vk=0;this.Fi=this.Ki=!1;this.En=this.Dn=0;this.ao=!0;var b=this;this.cc||(this.Bv=function(){b.Ki||(b.Fi=!1,b.Is(),b.Ig=0<b.Fa.length,b.Jb=0,b.b.trigger(yc.prototype.g.yr,b.i),b.Ak())},this.Av=
function(){b.Ki||(b.Fi=!1,b.Kn(),b.Ig=!1,b.Mf=!1,b.Jb=0,b.b.trigger(yc.prototype.g.lr,b.i),b.Ak())})};r.nd=function(){this.Ki=!0;this.xg=!1};r.Na=function(){var b={cs:this.Da,cb:this.Ic,ms:this.jd,acc:this.Qb,dec:this.Ub,av:this.Sh,re:this.rj,de:this.ki,im:this.Mf,mfs:this.cj,ftmwm:this.qi,hp:this.Ig,mn:this.Jb,a:this.$c,lka:this.Ni,s:this.Ka,rx:this.rd,ry:this.sd,ra:this.sh,myhc:this.ye,myvc:this.hf,path:this.Fa,en:this.enabled,fr:this.ao,obs:[],costs:[]};this.Fi?(b.dfp=!0,b.dpx=this.Dn,b.dpy=this.En):
(b.dfp=this.xg,b.dpx=this.vk,b.dpy=this.wk);var d,e;d=0;for(e=this.type.kc.length;d<e;d++)b.obs.push(this.type.kc[d].Q);d=0;for(e=this.type.$d.length;d<e;d++)b.costs.push({sid:this.type.$d[d].vp.Q,cost:this.type.$d[d].Nn});return b};r.$a=function(b){this.Da=b.cs;this.Ic=b.cb;this.jd=b.ms;this.Qb=b.acc;this.Ub=b.dec;this.Sh=b.av;this.rj=b.re;this.ki=b.de;this.Mf=b.im;this.cj=b.mfs;this.qi=b.ftmwm;this.Ig=b.hp;this.Jb=b.mn;this.$c=b.a;this.Ni=b.lka;this.Ka=b.s;this.rd=b.rx;this.sd=b.ry;this.sh=b.ra;
this.ye=b.myhc;this.hf=b.myvc;this.Fa=b.path;this.enabled=b.en;this.ao=b.fr;this.xg=b.dfp;this.vk=b.dpx;this.wk=b.dpy;T(this.type.kc);var d=b.obs,e,a,c;e=0;for(a=d.length;e<a;e++)(c=this.b.Se(d[e]))&&this.type.kc.push(c);T(this.type.$d);b=b.costs;e=0;for(a=b.length;e<a;e++)(c=this.b.Se(b[e].sid))&&this.type.$d.push({vp:c,Nn:b[e].cost});this.Kf().ze.setDiagonals(this.ki)};r.xd=function(){this.Kf().uh=!0};r.wb=function(){if(this.enabled&&this.Mf){this.rj&&this.i.j!==this.Ni&&(this.$c=this.i.j);var b=
this.b.Jf(this.i),d,e,a,c,g,h=this.i,n=Math.min(.4*this.jd,2*Math.abs(this.i.width)),l=Math.max(1.5*this.Ka,30);this.Jb<this.Fa.length?(c=this.Fa[this.Jb].x,g=this.Fa[this.Jb].y,a=Ra(this.rd,this.sd,c,g),a<3*l*b&&(this.Jb++,this.rd=c,this.sd=g,this.Jb<this.Fa.length&&(c=this.Fa[this.Jb].x,g=this.Fa[this.Jb].y))):(c=this.Fa[this.Fa.length-1].x,g=this.Fa[this.Fa.length-1].y);this.sh=Na(this.rd,this.sd,c,g);a=Ra(h.x,h.y,this.rd,this.sd);a<n&&this.Jb<this.Fa.length&&(this.qi?this.qi=!1:n=l*b,this.rd+=
Math.cos(this.sh)*n,this.sd+=Math.sin(this.sh)*n);d=Na(h.x,h.y,this.rd,this.sd);e=Oa(this.$c,d);n=Ra(h.x,h.y,this.Fa[this.Fa.length-1].x,this.Fa[this.Fa.length-1].y);l=this.jd*this.jd/(2*this.Ub);1<a&&(this.$c=Pa(this.$c,d,this.Sh*b),.5>=Ia(e)?e=this.jd:120<=Ia(e)||this.cj&&0===this.Jb?(e=0,this.cj=!0):(d=e/this.Sh,a=Ra(h.x,h.y,this.rd,this.sd),a=a/(2*Math.sin(e)),e=a*e/d,0>e&&(e=0),e>this.jd&&(e=this.jd)),n<l&&(e=Math.min(e,n/l*this.jd+this.jd/40)),this.Ka+=this.Qb*b,this.Ka>e&&(this.Ka=e));h.x+=
Math.cos(this.$c)*this.Ka*b;h.y+=Math.sin(this.$c)*this.Ka*b;this.rj&&(this.Ni=h.j=this.$c);h.G();this.Jb===this.Fa.length&&Ra(h.x,h.y,c,g)<Math.max(3*this.Ka*b,10)&&(this.Ig=this.Mf=!1,this.Ka=this.Jb=0,this.b.trigger(yc.prototype.g.gr,h))}};r.fg=function(){this.enabled&&(this.iu(),this.Ak())};r.Ak=function(){this.xg&&!this.Ki&&(this.xg=!1,this.Ws(this.i.x,this.i.y,this.vk,this.wk))};r.Kf=function(){var b=""+this.Da+","+this.Ic;n.hasOwnProperty(b)||(n[b]={ze:new window.Pathfinder,cells:null,uh:!1,
of:[]});return n[b]};r.iu=function(){var b=this.Kf();if(!b.ze.isReady()||b.uh||b.of.length){var d,e,a,c,g,h,n,l,p,m;if(!b.ze.isReady()||b.uh){this.ye=Math.ceil(this.b.fa.width/this.Da);this.hf=Math.ceil(this.b.fa.height/this.Da);d=[];c=d.length=this.ye;g=this.hf;for(e=0;e<c;++e)for(d[e]=[],d[e].length=g,a=0;a<g;++a)d[e][a]=this.Lp(e,a);b.cells=d;b.ze.init(this.ye,this.hf,d,this.ki);b.uh=!1;T(b.of)}else if(b.of.length){h=0;for(n=b.of.length;h<n;++h){d=b.of[h];l=d[0];p=d[1];c=d[2];e=d[3];d=[];c=c-l;
g=e-p;d.length=c;for(e=0;e<c;++e)for(d[e]=[],d[e].length=g,a=0;a<g;++a)m=this.Lp(l+e,p+a),d[e][a]=m,b.cells[l+e][p+a]=m;b.ze.updateRegion(l,p,c,g,d)}T(b.of)}}};r.Kn=function(){var b,d;b=0;for(d=this.Fa.length;b<d;b++)window.freeResultNode(this.Fa[b]);T(this.Fa)};r.Is=function(){var b=this.Kf().ze.pathList;this.Kn();var d,e,a,c;d=0;for(e=b.length;d<e;d++)a=b[d],c=window.allocResultNode(),c.x=(a.x+.5)*this.Da,c.y=(a.y+.5)*this.Da,this.Fa.push(c)};var q=[],p=new M;r.Lp=function(b,d){var e,a,c,g,h,n=
0;p.left=b*this.Da-this.Ic;p.top=d*this.Da-this.Ic;p.right=(b+1)*this.Da+this.Ic;p.bottom=(d+1)*this.Da+this.Ic;if(0===this.rv){if(this.b.lw(p))return window.PF_OBSTACLE}else{this.b.Ai(this.i.k,this.type.kc,p,q);e=0;for(a=q.length;e<a;++e)if(this.b.zm(p,q[e]))return T(q),window.PF_OBSTACLE;q.length=0}e=0;for(a=this.type.$d.length;e<a;e++){c=this.type.$d[e].vp;h=this.type.$d[e].Nn;this.b.ho(this.i.k,c,p,q);c=0;for(g=q.length;c<g;++c)this.b.zm(p,q[c])&&(n+=h);T(q)}return n};r.Ws=function(b,d,e,a){var c=
this.Kf().ze;if(c.isReady()){this.Fi=!0;this.Dn=e;this.En=a;b=Math.floor(b/this.Da);d=Math.floor(d/this.Da);e=Math.floor(e/this.Da);a=Math.floor(a/this.Da);var g,h,n,l,p,m,q;if(c.at(e,a)===window.PF_OBSTACLE){g=1E6;for(l=n=h=0;l<this.ye;l++)for(p=0;p<this.hf;p++)c.at(l,p)!==window.PF_OBSTACLE&&(m=e-l,q=a-p,m=m*m+q*q,m<g&&(g=m,h=l,n=p));e=h;a=n}c.findPath(b,d,e,a,this.Bv,this.Av)}};d.prototype.yr=function(){return!0};d.prototype.lr=function(){return!0};d.prototype.Um=function(){return this.Mf};d.prototype.gr=
function(){return!0};g.g=new d;l.prototype.zf=function(b){this.enabled=0!==b};r.rg=function(b,d,e,a){var c=Math.min(b,e)-this.Ic,g=Math.min(d,a)-this.Ic;b=Math.max(b,e)+this.Ic;d=Math.max(d,a)+this.Ic;c=Math.max(Math.floor(c/this.Da),0);g=Math.max(Math.floor(g/this.Da),0);b=Math.min(Math.ceil(b/this.Da),this.ye);d=Math.min(Math.ceil(d/this.Da),this.hf);c>=b||g>=d||this.Kf().of.push([c,g,b,d])};g.B=new l;g.W=new function(){}})();function zc(d){this.b=d}
(function(){var d=zc.prototype;d.da=function(d){this.behavior=d;this.b=d.b};d.da.prototype.L=function(){};d.S=function(d,g){this.type=d;this.behavior=d.behavior;this.i=g;this.b=d.b};var l=d.S.prototype;l.L=function(){this.Ob={}};l.nd=function(){Wa(this.Ob)};l.Na=function(){var d={},g,l;for(g in this.Ob)this.Ob.hasOwnProperty(g)&&(l=this.Ob[g],d[g]={c:l.current.V,t:l.total.V,d:l.duration,r:l.Np});return d};l.$a=function(d){this.Ob={};for(var g in d)d.hasOwnProperty(g)&&(this.Ob[g]={current:new bb,
total:new bb,duration:d[g].d,Np:d[g].r},this.Ob[g].current.V=d[g].c,this.Ob[g].total.V=d[g].t)};l.wb=function(){var d=this.b.Jf(this.i),g,l;for(g in this.Ob)this.Ob.hasOwnProperty(g)&&(l=this.Ob[g],l.current.add(d),l.total.add(d))};l.fg=function(){var d,g;for(d in this.Ob)this.Ob.hasOwnProperty(d)&&(g=this.Ob[d],g.current.V>=g.duration&&(g.Np?g.current.V-=g.duration:delete this.Ob[d]))};d.g=new function(){};d.B=new function(){};d.W=new function(){}})();
function Ac(d){this.b=d;this.qm=this.Aj=this.zh=this.pm=0}
(function(){function d(){}var l=Ac.prototype;l.da=function(d){this.behavior=d;this.b=d.b};l.da.prototype.L=function(){};l.S=function(d,l){this.type=d;this.behavior=d.behavior;this.i=l;this.b=d.b};var n=l.S.prototype;n.L=function(){this.enabled=0!==this.A[0]};n.Na=function(){return{smg:this.behavior.pm,ss:this.behavior.zh,se:this.behavior.Aj,smd:this.behavior.qm}};n.$a=function(d){this.behavior.pm=d.smg;this.behavior.zh=d.ss;this.behavior.Aj=d.se;this.behavior.qm=d.smd};n.wb=function(){};n.fg=function(){if(this.enabled){var d=
this.behavior.ih.pc(),l=0,n=0,p,b,f,e=0;p=0;for(b=d.length;p<b;p++){a:{f=d[p];for(var a=void 0,c=void 0,k=void 0,a=0,c=f.I.length;a<c;++a)if(k=f.I[a],k.behavior instanceof Ac){f=k;break a}f=null}f&&f.enabled&&(l+=d[p].x,n+=d[p].y,++e)}d=this.i.k.Ta;b=this.b.Zb.V;f=p=0;b>=this.behavior.zh&&b<this.behavior.Aj&&(p=this.behavior.pm*Math.min(this.b.gg,1),0===this.behavior.qm&&(p*=1-(b-this.behavior.zh)/(this.behavior.Aj-this.behavior.zh)),b=Math.random()*Math.PI*2,f=Math.random()*p,p=Math.cos(b)*f,f*=
Math.sin(b));d.mm(l/e+p);d.nm(n/e+f)}};d.prototype.zf=function(d){this.enabled=0!==d};l.B=new d})();function oc(d){this.b=d;this.Ll=[]}
(function(){function d(){}function l(){}function n(){}var g=oc.prototype;g.da=function(d,g){this.behavior=d;this.b=d.b;-1===this.behavior.Ll.indexOf(g)&&this.behavior.Ll.push(g)};g.da.prototype.L=function(){};g.S=function(d,g){this.type=d;this.behavior=d.behavior;this.i=g;this.b=d.b};var r=g.S.prototype;r.L=function(){this.i.H.shadowcasterEnabled=0!==this.A[0];this.i.H.shadowcasterHeight=this.A[1];this.i.H.shadowcasterTag=this.A[2]};r.wb=function(){};d.prototype.Jq=function(d,g){return cc(this.i.H.shadowcasterHeight,
d,g)};g.g=new d;l.prototype.zf=function(d){this.i.H.shadowcasterEnabled=!!d};l.prototype.Qr=function(d){this.i.H.shadowcasterHeight!==d&&(this.i.H.shadowcasterHeight=d,this.b.X=!0)};g.B=new l;n.prototype.Pq=function(d){d.M(this.i.H.shadowcasterHeight)};g.W=new n})();function nc(d){this.b=d}
(function(){function d(){}var l=nc.prototype;l.da=function(d){this.behavior=d;this.b=d.b};l.da.prototype.L=function(){};l.S=function(d,l){this.type=d;this.behavior=d.behavior;this.i=l;this.b=d.b};var n=l.S.prototype;n.L=function(){this.i.H.solidEnabled=0!==this.A[0]};n.wb=function(){};l.g=new function(){};d.prototype.zf=function(d){this.i.H.solidEnabled=!!d};l.B=new d})();
function mc(){return[pc,qc,Z,rc,Y,tc,sc,vc,Ac,xc,nc,oc,yc,uc,wc,zc,Y.prototype.g.Kq,Z.prototype.W.$q,Ac.prototype.B.zf,rc.prototype.B.Vr,X.prototype.W.Aw,X.prototype.W.zw,X.prototype.g.Zm,X.prototype.B.Sr,tc.prototype.B.Tr,X.prototype.W.Wv,Z.prototype.B.as,Z.prototype.B.Bq,Z.prototype.B.bs,xc.prototype.g.Oq,Y.prototype.B.ln,wc.prototype.g.Wm,rc.prototype.B.ln,Y.prototype.B.Nr,X.prototype.g.Nq,X.prototype.g.Iq,vc.prototype.W.gs,Y.prototype.B.Rr,Y.prototype.B.Ur,X.prototype.g.Sq,X.prototype.g.es,Z.prototype.g.Vq,
rc.prototype.B.Dq,Z.prototype.B.Yr,Z.prototype.g.dn,Z.prototype.B.Zr,X.prototype.W.round,X.prototype.W.random,Z.prototype.g.jn,Z.prototype.B.Xr,Z.prototype.g.hn,X.prototype.W.pv,Z.prototype.g.Tq,X.prototype.B.hs,Z.prototype.B.Fq,Y.prototype.B.Mq,X.prototype.B.Pr,Z.prototype.g.gn,Z.prototype.g.bn,X.prototype.B.Lq,Z.prototype.W.Lr,Y.prototype.B.Zq,Z.prototype.W.Mr,X.prototype.W.Ju,vc.prototype.B.$r,tc.prototype.B.kn,qc.prototype.g.Uq,vc.prototype.g.Um,X.prototype.W.hw,Z.prototype.B.Or,Y.prototype.g.xf,
X.prototype.g.Tm,Y.prototype.B.os,Y.prototype.B.kn,X.prototype.W.Rs,Y.prototype.W.ls,Y.prototype.W.ns,Y.prototype.B.Yq,X.prototype.W.j]};
