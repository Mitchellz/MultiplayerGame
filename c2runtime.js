// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,da,ea,fa,ga,ha,w,ia,ja,la,ma,na,oa,D,pa,ra,J,ta,ua,va,ya,za,Aa,Da,Ea,Q,S,Fa,Ga,Ha,Ia,V,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,W,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc={},ec={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});
(function(){function e(a,c,b,d){this.set(a,c,b,d)}function n(){this.pb=this.ob=this.rb=this.qb=this.zb=this.yb=this.Ya=this.Xa=0}function m(a,c,b,d){a<c?b<d?(p=a<b?a:b,z=c>d?c:d):(p=a<d?a:d,z=c>b?c:b):b<d?(p=c<b?c:b,z=a>d?a:d):(p=c<d?c:d,z=a>b?a:b)}function g(){this.items=this.Ka=null;this.bh=0;C&&(this.Ka=new Set);this.qg=[];this.ge=!0}function t(a){sa[ka++]=a}function v(){this.X=this.Zj=this.y=this.xk=0}function r(a){this.Ja=[];this.ci=this.ei=this.fi=this.di=0;this.Hh(a)}function b(a,c){this.Ck=
a;this.Bk=c;this.cells={}}function f(a,c){this.Ck=a;this.Bk=c;this.cells={}}function d(a,c,b){var d;return N.length?(d=N.pop(),d.ol=a,d.x=c,d.y=b,d):new ba(a,c,b)}function a(a,c,b){this.ol=a;this.x=c;this.y=b;this.eb=new ca}function c(a,c,b){var d;return A.length?(d=A.pop(),d.ol=a,d.x=c,d.y=b,d):new da(a,c,b)}function h(a,c,b){this.ol=a;this.x=c;this.y=b;this.eb=[];this.Wf=!0;this.vd=new ca;this.wg=!1}function k(a,c){return a.dd-c.dd}ea=function(a){window.console&&window.console.log&&window.console.log(a)};
fa=function(a){window.console&&window.console.error&&window.console.error(a)};aa=function(a){return a};ga=function(a){return"undefined"===typeof a};ha=function(a){return"number"===typeof a};w=function(a){return"string"===typeof a};ia=function(a){return 0<a&&0===(a-1&a)};ja=function(a){--a;for(var c=1;32>c;c<<=1)a=a|a>>c;return a+1};la=function(a){return 0>a?-a:a};ma=function(a,c){return a>c?a:c};na=function(a,c){return a<c?a:c};oa=Math.PI;D=function(a){return 0<=a?a|0:(a|0)-1};pa=function(a){var c=
a|0;return c===a?c:c+1};ra=function(a,c,b,d,f,k,h,l){var x,y,F,u;a<b?(y=a,x=b):(y=b,x=a);f<h?(u=f,F=h):(u=h,F=f);if(x<u||y>F)return!1;c<d?(y=c,x=d):(y=d,x=c);k<l?(u=k,F=l):(u=l,F=k);if(x<u||y>F)return!1;x=f-a+h-b;y=k-c+l-d;a=b-a;c=d-c;f=h-f;k=l-k;l=la(c*f-k*a);return la(f*y-k*x)>l?!1:la(a*y-c*x)<=l};e.prototype.set=function(a,c,b,d){this.left=a;this.top=c;this.right=b;this.bottom=d};e.prototype.Cg=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};e.prototype.width=
function(){return this.right-this.left};e.prototype.height=function(){return this.bottom-this.top};e.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};e.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};e.prototype.Al=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};e.prototype.Bl=
function(a,c,b){return!(a.right+c<this.left||a.bottom+b<this.top||a.left+c>this.right||a.top+b>this.bottom)};e.prototype.Za=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};e.prototype.Ig=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};J=e;n.prototype.Ad=function(a){this.Xa=a.left;this.Ya=a.top;this.yb=a.right;this.zb=a.top;this.qb=a.right;this.rb=a.bottom;this.ob=a.left;this.pb=a.bottom};n.prototype.Lq=function(a,
c){if(0===c)this.Ad(a);else{var b=Math.sin(c),d=Math.cos(c),f=a.left*b,k=a.top*b,h=a.right*b,b=a.bottom*b,l=a.left*d,x=a.top*d,y=a.right*d,d=a.bottom*d;this.Xa=l-k;this.Ya=x+f;this.yb=y-k;this.zb=x+h;this.qb=y-b;this.rb=d+h;this.ob=l-b;this.pb=d+f}};n.prototype.offset=function(a,c){this.Xa+=a;this.Ya+=c;this.yb+=a;this.zb+=c;this.qb+=a;this.rb+=c;this.ob+=a;this.pb+=c;return this};var p=0,z=0;n.prototype.ho=function(a){m(this.Xa,this.yb,this.qb,this.ob);a.left=p;a.right=z;m(this.Ya,this.zb,this.rb,
this.pb);a.top=p;a.bottom=z};n.prototype.Za=function(a,c){var b=this.Xa,d=this.Ya,f=this.yb-b,k=this.zb-d,h=this.qb-b,l=this.rb-d,x=a-b,y=c-d,F=f*f+k*k,u=f*h+k*l,k=f*x+k*y,p=h*h+l*l,q=h*x+l*y,e=1/(F*p-u*u),f=(p*k-u*q)*e,F=(F*q-u*k)*e;if(0<=f&&0<F&&1>f+F)return!0;f=this.ob-b;k=this.pb-d;F=f*f+k*k;u=f*h+k*l;k=f*x+k*y;e=1/(F*p-u*u);f=(p*k-u*q)*e;F=(F*q-u*k)*e;return 0<=f&&0<F&&1>f+F};n.prototype.rc=function(a,c){if(c)switch(a){case 0:return this.Xa;case 1:return this.yb;case 2:return this.qb;case 3:return this.ob;
case 4:return this.Xa;default:return this.Xa}else switch(a){case 0:return this.Ya;case 1:return this.zb;case 2:return this.rb;case 3:return this.pb;case 4:return this.Ya;default:return this.Ya}};n.prototype.Up=function(){return(this.Xa+this.yb+this.qb+this.ob)/4};n.prototype.Vp=function(){return(this.Ya+this.zb+this.rb+this.pb)/4};n.prototype.Xg=function(a,c,b,d){if(this.Za(a,c)||this.Za(b,d))return!0;var f,k,h,l,x;for(x=0;4>x;x++)if(f=this.rc(x,!0),k=this.rc(x,!1),h=this.rc(x+1,!0),l=this.rc(x+1,
!1),ra(a,c,b,d,f,k,h,l))return!0;return!1};n.prototype.zl=function(a){var c=a.Up(),b=a.Vp();if(this.Za(c,b))return!0;c=this.Up();b=this.Vp();if(a.Za(c,b))return!0;var d,f,k,h,l,x,y,u;for(y=0;4>y;y++)for(u=0;4>u;u++)if(c=this.rc(y,!0),b=this.rc(y,!1),d=this.rc(y+1,!0),f=this.rc(y+1,!1),k=a.rc(u,!0),h=a.rc(u,!1),l=a.rc(u+1,!0),x=a.rc(u+1,!1),ra(c,b,d,f,k,h,l,x))return!0;return!1};ta=n;ua=function(a,c,b){return Math.max(Math.min(a,255),0)|Math.max(Math.min(c,255),0)<<8|Math.max(Math.min(b,255),0)<<16};
va=function(a){return a&255};ya=function(a){return(a&65280)>>8};za=function(a){return(a&16711680)>>16};Aa=function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a};Da=function(a,c){var b,d;c=D(c);if(!(0>c||c>=a.length)){b=c;for(d=a.length-1;b<d;b++)a[b]=a[b+1];Ea(a,d)}};Ea=function(a,c){a.length=c};Q=function(a){Ea(a,0)};S=function(a,c){Q(a);var b,d;b=0;for(d=c.length;b<d;++b)a[b]=c[b]};Fa=function(a,c){a.push.apply(a,c)};Ga=function(a,c){var b,d;b=0;for(d=a.length;b<d;++b)if(a[b]===
c)return b;return-1};Ha=function(a,c){var b=Ga(a,c);-1!==b&&Da(a,b)};Ia=function(a,c,b){return a<c?c:a>b?b:a};V=function(a){return a/(180/oa)};Ja=function(a){return 180/oa*a};Ka=function(a){a%=360;0>a&&(a+=360);return a};La=function(a){a%=2*oa;0>a&&(a+=2*oa);return a};Ma=function(a){return Ka(Ja(a))};Na=function(a){return La(V(a))};Oa=function(a,c,b,d){return Math.atan2(d-c,b-a)};Pa=function(a,c){if(a===c)return 0;var b=Math.sin(a),d=Math.cos(a),f=Math.sin(c),k=Math.cos(c),b=b*f+d*k;return 1<=b?0:
-1>=b?oa:Math.acos(b)};Qa=function(a,c,b){var d=Math.sin(a),f=Math.cos(a),k=Math.sin(c),h=Math.cos(c);return Math.acos(d*k+f*h)>b?0<f*k-d*h?La(a+b):La(a-b):La(c)};Ra=function(a,c){var b=Math.sin(a),d=Math.cos(a),f=Math.sin(c),k=Math.cos(c);return 0>=d*f-b*k};W=function(a,c,b,d){a=b-a;c=d-c;return Math.sqrt(a*a+c*c)};Sa=function(a,c){return!a!==!c};Ta=function(a,c,b){return a===c?0:(b-a)/(c-a)};Ua=function(a,c,b){var d=Pa(a,c);return Ra(c,a)?a+d*b:a-d*b};Va=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;
return!1};Wa=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var q=+new Date;Xa=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-q};var l=!1,u=l=!1,U=!1;"undefined"!==typeof window&&(l=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
l=!l&&/safari/i.test(navigator.userAgent),u=/(iphone|ipod|ipad)/i.test(navigator.userAgent),U=window.c2ejecta);var C=!l&&!U&&!u&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;g.prototype.contains=function(a){return this.Pd()?!1:C?this.Ka.has(a):this.items&&this.items.hasOwnProperty(a)};g.prototype.add=function(a){if(C)this.Ka.has(a)||(this.Ka.add(a),this.ge=!1);else{var c=a.toString(),b=this.items;b?b.hasOwnProperty(c)||(b[c]=a,this.bh++,this.ge=!1):(this.items={},this.items[c]=
a,this.bh=1,this.ge=!1)}};g.prototype.remove=function(a){if(!this.Pd())if(C)this.Ka.has(a)&&(this.Ka["delete"](a),this.ge=!1);else if(this.items){a=a.toString();var c=this.items;c.hasOwnProperty(a)&&(delete c[a],this.bh--,this.ge=!1)}};g.prototype.clear=function(){this.Pd()||(C?this.Ka.clear():(this.items=null,this.bh=0),Q(this.qg),this.ge=!0)};g.prototype.Pd=function(){return 0===this.count()};g.prototype.count=function(){return C?this.Ka.size:this.bh};var sa=null,ka=0;g.prototype.Ex=function(){if(!this.ge){if(C)Q(this.qg),
sa=this.qg,ka=0,this.Ka.forEach(t),sa=null,ka=0;else{var a=this.qg;Q(a);var c,b=0,d=this.items;if(d)for(c in d)d.hasOwnProperty(c)&&(a[b++]=d[c])}this.ge=!0}};g.prototype.qc=function(){this.Ex();return this.qg};ca=g;var K=new ca;Ya=function(a){var c,b;c=0;for(b=a.length;c<b;++c)K.add(a[c]);S(a,K.qc());K.clear()};Za=function(a,c){C?$a(a,c.Ka):ab(a,c.qc())};$a=function(a,c){var b,d,f,k;d=b=0;for(f=a.length;b<f;++b)k=a[b],c.has(k)||(a[d++]=k);Ea(a,d)};ab=function(a,c){var b,d,f,k;d=b=0;for(f=a.length;b<
f;++b)k=a[b],-1===Ga(c,k)&&(a[d++]=k);Ea(a,d)};v.prototype.add=function(a){this.y=a-this.xk;this.Zj=this.X+this.y;this.xk=this.Zj-this.X-this.y;this.X=this.Zj};v.prototype.reset=function(){this.X=this.Zj=this.y=this.xk=0};bb=v;cb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};r.prototype.Hh=function(a){this.tq=a;this.nc=a.length/2;this.Ja.length=a.length;this.ii=this.ji=-1;this.ko=0};r.prototype.od=function(){return!this.tq.length};r.prototype.U=function(){for(var a=this.Ja,c=a[0],
b=c,d=a[1],f=d,k,h,l=1,x=this.nc;l<x;++l)h=2*l,k=a[h],h=a[h+1],k<c&&(c=k),k>b&&(b=k),h<d&&(d=h),h>f&&(f=h);this.di=c;this.ei=b;this.fi=d;this.ci=f};r.prototype.Ad=function(a,c,b){this.Ja.length=8;this.nc=4;var d=this.Ja;d[0]=a.left-c;d[1]=a.top-b;d[2]=a.right-c;d[3]=a.top-b;d[4]=a.right-c;d[5]=a.bottom-b;d[6]=a.left-c;d[7]=a.bottom-b;this.ji=a.right-a.left;this.ii=a.bottom-a.top;this.U()};r.prototype.Ud=function(a,c,b,d,f){this.Ja.length=8;this.nc=4;var k=this.Ja;k[0]=a.Xa-c;k[1]=a.Ya-b;k[2]=a.yb-
c;k[3]=a.zb-b;k[4]=a.qb-c;k[5]=a.rb-b;k[6]=a.ob-c;k[7]=a.pb-b;this.ji=d;this.ii=f;this.U()};r.prototype.Kq=function(a){this.nc=a.nc;S(this.Ja,a.Ja);this.di=a.di;this.fi-a.fi;this.ei=a.ei;this.ci=a.ci};r.prototype.jd=function(a,c,b){if(this.ji!==a||this.ii!==c||this.ko!==b){this.ji=a;this.ii=c;this.ko=b;var d,f,k,h,l,x=0,y=1,u=this.tq,p=this.Ja;0!==b&&(x=Math.sin(b),y=Math.cos(b));b=0;for(k=this.nc;b<k;b++)d=2*b,f=d+1,h=u[d]*a,l=u[f]*c,p[d]=h*y-l*x,p[f]=l*y+h*x;this.U()}};r.prototype.Za=function(a,
c){var b=this.Ja;if(a===b[0]&&c===b[1])return!0;var d,f,k,h=this.nc,l=this.di-110,x=this.fi-101,y=this.ei+131,u=this.ci+120,p,q,e=0,z=0;for(d=0;d<h;d++)f=2*d,k=(d+1)%h*2,p=b[f],f=b[f+1],q=b[k],k=b[k+1],ra(l,x,a,c,p,f,q,k)&&e++,ra(y,u,a,c,p,f,q,k)&&z++;return 1===e%2||1===z%2};r.prototype.df=function(a,c,b){var d=a.Ja,f=this.Ja;if(this.Za(d[0]+c,d[1]+b)||a.Za(f[0]-c,f[1]-b))return!0;var k,h,l,x,y,u,p,q,e,z,r,g;k=0;for(x=this.nc;k<x;k++)for(h=2*k,l=(k+1)%x*2,q=f[h],h=f[h+1],e=f[l],z=f[l+1],l=0,p=a.nc;l<
p;l++)if(y=2*l,u=(l+1)%p*2,r=d[y]+c,y=d[y+1]+b,g=d[u]+c,u=d[u+1]+b,ra(q,h,e,z,r,y,g,u))return!0;return!1};r.prototype.Xg=function(a,c,b,d,f,k){var h=this.Ja;if(this.Za(b-a,d-c))return!0;var l,x,y,u,p,q;l=0;for(x=this.nc;l<x;l++)if(y=2*l,u=(l+1)%x*2,p=h[y]+a,y=h[y+1]+c,q=h[u]+a,u=h[u+1]+c,ra(b,d,f,k,p,y,q,u))return!0;return!1};db=r;b.prototype.pe=function(a,c,b){var f;f=this.cells[a];return f?(f=f[c])?f:b?(f=d(this,a,c),this.cells[a][c]=f):null:b?(f=d(this,a,c),this.cells[a]={},this.cells[a][c]=f):
null};b.prototype.Db=function(a){return D(a/this.Ck)};b.prototype.Eb=function(a){return D(a/this.Bk)};b.prototype.update=function(a,c,b){var d,f,k,h,l;if(c)for(d=c.left,f=c.right;d<=f;++d)for(k=c.top,h=c.bottom;k<=h;++k)if(!b||!b.Za(d,k))if(l=this.pe(d,k,!1))l.remove(a),l.Pd()&&(l.eb.clear(),1E3>N.length&&N.push(l),this.cells[d][k]=null);if(b)for(d=b.left,f=b.right;d<=f;++d)for(k=b.top,h=b.bottom;k<=h;++k)c&&c.Za(d,k)||this.pe(d,k,!0).wl(a)};b.prototype.Cj=function(a,c){var b,d,f,k,h,l;b=this.Db(a.left);
f=this.Eb(a.top);d=this.Db(a.right);for(h=this.Eb(a.bottom);b<=d;++b)for(k=f;k<=h;++k)(l=this.pe(b,k,!1))&&l.dump(c)};eb=b;f.prototype.pe=function(a,b,d){var f;f=this.cells[a];return f?(f=f[b])?f:d?(f=c(this,a,b),this.cells[a][b]=f):null:d?(f=c(this,a,b),this.cells[a]={},this.cells[a][b]=f):null};f.prototype.Db=function(a){return D(a/this.Ck)};f.prototype.Eb=function(a){return D(a/this.Bk)};f.prototype.update=function(a,c,b){var d,f,k,h,l;if(c)for(d=c.left,f=c.right;d<=f;++d)for(k=c.top,h=c.bottom;k<=
h;++k)if(!b||!b.Za(d,k))if(l=this.pe(d,k,!1))l.remove(a),l.Pd()&&(l.reset(),1E3>A.length&&A.push(l),this.cells[d][k]=null);if(b)for(d=b.left,f=b.right;d<=f;++d)for(k=b.top,h=b.bottom;k<=h;++k)c&&c.Za(d,k)||this.pe(d,k,!0).wl(a)};f.prototype.Cj=function(a,c,b,d,f){var k,h;a=this.Db(a);c=this.Eb(c);b=this.Db(b);for(k=this.Eb(d);a<=b;++a)for(d=c;d<=k;++d)(h=this.pe(a,d,!1))&&h.dump(f)};f.prototype.kw=function(a){var c,b,d,f,k;c=a.left;d=a.top;b=a.right;for(f=a.bottom;c<=b;++c)for(a=d;a<=f;++a)if(k=this.pe(c,
a,!1))k.Wf=!1};gb=f;var N=[];a.prototype.Pd=function(){return this.eb.Pd()};a.prototype.wl=function(a){this.eb.add(a)};a.prototype.remove=function(a){this.eb.remove(a)};a.prototype.dump=function(a){Fa(a,this.eb.qc())};ba=a;var A=[];h.prototype.Pd=function(){if(!this.eb.length)return!0;if(this.eb.length>this.vd.count())return!1;this.bl();return!0};h.prototype.wl=function(a){this.vd.contains(a)?(this.vd.remove(a),this.vd.Pd()&&(this.wg=!1)):this.eb.length?(this.eb[this.eb.length-1].nd()>a.nd()&&(this.Wf=
!1),this.eb.push(a)):(this.eb.push(a),this.Wf=!0)};h.prototype.remove=function(a){this.vd.add(a);this.wg=!0;30<=this.vd.count()&&this.bl()};h.prototype.bl=function(){this.wg&&(this.vd.count()===this.eb.length?this.reset():(Za(this.eb,this.vd),this.vd.clear(),this.wg=!1))};h.prototype.vu=function(){this.Wf||(this.eb.sort(k),this.Wf=!0)};h.prototype.reset=function(){Q(this.eb);this.Wf=!0;this.vd.clear();this.wg=!1};h.prototype.dump=function(a){this.bl();this.vu();this.eb.length&&a.push(this.eb)};da=
h;var M="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");hb=function(a){return 0>=a||11<=a?"source-over":M[a-1]};ib=function(a,c,b){if(b)switch(a.ub=b.ONE,a.sb=b.ONE_MINUS_SRC_ALPHA,c){case 1:a.ub=b.ONE;a.sb=b.ONE;break;case 3:a.ub=b.ONE;a.sb=b.ZERO;break;case 4:a.ub=b.ONE_MINUS_DST_ALPHA;a.sb=b.ONE;break;case 5:a.ub=b.DST_ALPHA;a.sb=b.ZERO;break;case 6:a.ub=b.ZERO;a.sb=b.SRC_ALPHA;break;case 7:a.ub=b.ONE_MINUS_DST_ALPHA;
a.sb=b.ZERO;break;case 8:a.ub=b.ZERO;a.sb=b.ONE_MINUS_SRC_ALPHA;break;case 9:a.ub=b.DST_ALPHA;a.sb=b.ONE_MINUS_SRC_ALPHA;break;case 10:a.ub=b.ONE_MINUS_DST_ALPHA,a.sb=b.SRC_ALPHA}};jb=function(a){return Math.round(1E6*a)/1E6};kb=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};lb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||kb(a.tagName,"canvas")?!0:!1}})();
var fc="undefined"!==typeof Float32Array?Float32Array:Array;function gc(e){var n=new fc(3);e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]);return n}function hc(e){var n=new fc(16);e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]);return n}
function ic(e,n){n[0]=e[0];n[1]=e[1];n[2]=e[2];n[3]=e[3];n[4]=e[4];n[5]=e[5];n[6]=e[6];n[7]=e[7];n[8]=e[8];n[9]=e[9];n[10]=e[10];n[11]=e[11];n[12]=e[12];n[13]=e[13];n[14]=e[14];n[15]=e[15]}function jc(e,n){var m=n[0],g=n[1];n=n[2];e[0]*=m;e[1]*=m;e[2]*=m;e[3]*=m;e[4]*=g;e[5]*=g;e[6]*=g;e[7]*=g;e[8]*=n;e[9]*=n;e[10]*=n;e[11]*=n}
function kc(e,n,m,g){g||(g=hc());var t,v,r,b,f,d,a,c,h=e[0],k=e[1];e=e[2];v=m[0];r=m[1];t=m[2];m=n[1];d=n[2];h===n[0]&&k===m&&e===d?(e=g,e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1):(m=h-n[0],d=k-n[1],a=e-n[2],c=1/Math.sqrt(m*m+d*d+a*a),m*=c,d*=c,a*=c,n=r*a-t*d,t=t*m-v*a,v=v*d-r*m,(c=Math.sqrt(n*n+t*t+v*v))?(c=1/c,n*=c,t*=c,v*=c):v=t=n=0,r=d*v-a*t,b=a*n-m*v,f=m*t-d*n,(c=Math.sqrt(r*r+b*b+f*f))?(c=1/c,r*=c,b*=c,f*=c):f=b=r=0,
g[0]=n,g[1]=r,g[2]=m,g[3]=0,g[4]=t,g[5]=b,g[6]=d,g[7]=0,g[8]=v,g[9]=f,g[10]=a,g[11]=0,g[12]=-(n*h+t*k+v*e),g[13]=-(r*h+b*k+f*e),g[14]=-(m*h+d*k+a*e),g[15]=1)}
(function(){function e(b,f,d){this.ue=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.pa=!!d;this.Qi=this.Yg=!1;this.ri=0;this.ok=1;this.tn=1E3;this.Mx=(this.tn-this.ok)/32768;this.zk=gc([0,0,100]);this.Cp=gc([0,0,0]);this.hr=gc([0,1,0]);this.Xh=gc([1,1,1]);this.Fo=!0;this.nj=hc();this.lc=hc();this.Ol=hc();this.Mk=hc();this.A=b;this.version=0===this.A.getParameter(this.A.VERSION).indexOf("WebGL 2")?2:1;this.fp()}function n(b,f,d){this.A=b;this.Ih=
f;this.name=d;this.wc=b.getAttribLocation(f,"aPos");this.Ee=b.getAttribLocation(f,"aTex");this.Ap=b.getUniformLocation(f,"matP");this.ij=b.getUniformLocation(f,"matMV");this.dg=b.getUniformLocation(f,"opacity");this.Zl=b.getUniformLocation(f,"colorFill");this.Bp=b.getUniformLocation(f,"samplerFront");this.mh=b.getUniformLocation(f,"samplerBack");this.lf=b.getUniformLocation(f,"destStart");this.kf=b.getUniformLocation(f,"destEnd");this.oh=b.getUniformLocation(f,"seconds");this.am=b.getUniformLocation(f,
"pixelWidth");this.$l=b.getUniformLocation(f,"pixelHeight");this.lh=b.getUniformLocation(f,"layerScale");this.kh=b.getUniformLocation(f,"layerAngle");this.ph=b.getUniformLocation(f,"viewOrigin");this.nh=b.getUniformLocation(f,"scrollPos");this.Ov=!!(this.am||this.$l||this.oh||this.mh||this.lf||this.kf||this.lh||this.kh||this.ph||this.nh);this.Kp=this.Lp=-999;this.mj=1;this.Gp=this.Fp=0;this.Ip=this.Ep=this.Dp=1;this.Op=this.Np=this.Mp=this.Qp=this.Pp=this.Hp=0;this.Nl=[];this.Jp=hc();this.dg&&b.uniform1f(this.dg,
1);this.Zl&&b.uniform4f(this.Zl,1,1,1,1);this.Bp&&b.uniform1i(this.Bp,0);this.mh&&b.uniform1i(this.mh,1);this.lf&&b.uniform2f(this.lf,0,0);this.kf&&b.uniform2f(this.kf,1,1);this.lh&&b.uniform1f(this.lh,1);this.kh&&b.uniform1f(this.kh,0);this.ph&&b.uniform2f(this.ph,0,0);this.nh&&b.uniform2f(this.nh,0,0);this.oh&&b.uniform1f(this.oh,0);this.bf=!1}function m(b,f){return b[0]===f[0]&&b[1]===f[1]&&b[2]===f[2]&&b[3]===f[3]&&b[4]===f[4]&&b[5]===f[5]&&b[6]===f[6]&&b[7]===f[7]&&b[8]===f[8]&&b[9]===f[9]&&
b[10]===f[10]&&b[11]===f[11]&&b[12]===f[12]&&b[13]===f[13]&&b[14]===f[14]&&b[15]===f[15]}function g(b,f){this.type=b;this.n=f;this.A=f.A;this.jc=this.wb=this.lq=0;this.V=this.Fc=null;this.Mq=[]}var t=hc();e.prototype.fp=function(){var b=this.A,f;this.up=1;this.gf=this.ye=null;this.qi=1;b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);b.enable(b.BLEND);b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA);b.disable(b.CULL_FACE);b.disable(b.STENCIL_TEST);b.disable(b.DITHER);this.pa?(b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL)):
b.disable(b.DEPTH_TEST);this.vp=b.ONE;this.rp=b.ONE_MINUS_SRC_ALPHA;this.Wh=new Float32Array(8E3*(this.pa?3:2));this.Ph=new Float32Array(16E3);this.qq=new Float32Array(32E3);this.rm=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,this.rm);b.bufferData(b.ARRAY_BUFFER,this.qq.byteLength,b.DYNAMIC_DRAW);this.Vh=Array(4);this.Oh=Array(4);for(f=0;4>f;f++)this.Vh[f]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.Vh[f]),b.bufferData(b.ARRAY_BUFFER,this.Wh.byteLength,b.DYNAMIC_DRAW),this.Oh[f]=b.createBuffer(),
b.bindBuffer(b.ARRAY_BUFFER,this.Oh[f]),b.bufferData(b.ARRAY_BUFFER,this.Ph.byteLength,b.DYNAMIC_DRAW);this.Gd=0;this.Rv=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.Rv);for(var d=new Uint16Array(12E3),a=f=0;12E3>f;)d[f++]=a,d[f++]=a+1,d[f++]=a+2,d[f++]=a,d[f++]=a+2,d[f++]=a+3,a+=4;b.bufferData(b.ELEMENT_ARRAY_BUFFER,d,b.STATIC_DRAW);this.tm=this.Ne=this.Ic=0;this.Ha=[];f=this.pa?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";d=this.Dg({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},f,"<default>");this.Ha.push(d);d=this.Dg({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ha.push(d);d=this.Dg({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},f,"<earlyz>");this.Ha.push(d);d=this.Dg({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
f,"<fill>");this.Ha.push(d);for(var c in lc)lc.hasOwnProperty(c)&&this.Ha.push(this.Dg(lc[c],f,c));b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,null);this.hd=[];this.Nc=0;this.$a=!1;this.yo=this.dh=-1;this.If=null;this.al=b.createFramebuffer();this.ti=this.Gj=null;this.eo=!1;this.pa&&(this.ti=b.createRenderbuffer());this.Oe=gc([0,0,0]);this.Rp=b.getParameter(b.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Rp&&(this.Rp=2048);this.Ob(0)};n.prototype.ln=function(b){m(this.Jp,b)||(ic(b,this.Jp),this.A.uniformMatrix4fv(this.ij,
!1,b))};e.prototype.Dg=function(b,f,d){var a=this.A,c=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(c,b.src);a.compileShader(c);if(!a.getShaderParameter(c,a.COMPILE_STATUS))throw b=a.getShaderInfoLog(c),a.deleteShader(c),Error("error compiling fragment shader: "+b);var h=a.createShader(a.VERTEX_SHADER);a.shaderSource(h,f);a.compileShader(h);if(!a.getShaderParameter(h,a.COMPILE_STATUS))throw b=a.getShaderInfoLog(h),a.deleteShader(c),a.deleteShader(h),Error("error compiling vertex shader: "+b);f=
a.createProgram();a.attachShader(f,c);a.attachShader(f,h);a.linkProgram(f);if(!a.getProgramParameter(f,a.LINK_STATUS))throw b=a.getProgramInfoLog(f),a.deleteShader(c),a.deleteShader(h),a.deleteProgram(f),Error("error linking shader program: "+b);a.useProgram(f);a.deleteShader(c);a.deleteShader(h);c=new n(a,f,d);c.Zk=b.Zk||0;c.$k=b.$k||0;c.xo=!!b.xo;c.Zc=!!b.Zc;c.bo=!!b.bo;c.W=b.W||[];b=0;for(h=c.W.length;b<h;b++)c.W[b][1]=a.getUniformLocation(f,c.W[b][0]),c.Nl.push(0),a.uniform1f(c.W[b][1],0);return c};
e.prototype.ll=function(b){var f,d;f=0;for(d=this.Ha.length;f<d;f++)if(this.Ha[f].name===b)return f;return-1};e.prototype.sq=function(b,f,d){var a=this.lc,c=this.nj,h=[0,0,0,0,0,0,0,0];h[0]=a[0]*b+a[4]*f+a[12];h[1]=a[1]*b+a[5]*f+a[13];h[2]=a[2]*b+a[6]*f+a[14];h[3]=a[3]*b+a[7]*f+a[15];h[4]=c[0]*h[0]+c[4]*h[1]+c[8]*h[2]+c[12]*h[3];h[5]=c[1]*h[0]+c[5]*h[1]+c[9]*h[2]+c[13]*h[3];h[6]=c[2]*h[0]+c[6]*h[1]+c[10]*h[2]+c[14]*h[3];h[7]=-h[2];0!==h[7]&&(h[7]=1/h[7],h[4]*=h[7],h[5]*=h[7],h[6]*=h[7],d[0]=(.5*h[4]+
.5)*this.width,d[1]=(.5*h[5]+.5)*this.height)};e.prototype.uf=function(b,f,d){if(this.width!==b||this.height!==f||d){this.Kd();d=this.A;this.width=b;this.height=f;d.viewport(0,0,b,f);kc(this.zk,this.Cp,this.hr,this.lc);if(this.pa){var a=-b/2;b=b/2;var c=f/2;f=-f/2;var h=this.ok,k=this.tn,p=this.nj;p||(p=hc());var e=b-a,q=f-c,l=k-h;p[0]=2/e;p[1]=0;p[2]=0;p[3]=0;p[4]=0;p[5]=2/q;p[6]=0;p[7]=0;p[8]=0;p[9]=0;p[10]=-2/l;p[11]=0;p[12]=-(a+b)/e;p[13]=-(f+c)/q;p[14]=-(k+h)/l;p[15]=1;this.Xh[0]=1;this.Xh[1]=
1}else f=b/f,a=this.ok,b=this.tn,p=this.nj,k=a*Math.tan(45*Math.PI/360),f*=k,c=-f,h=-k,p||(p=hc()),e=f-c,q=k-h,l=b-a,p[0]=2*a/e,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=2*a/q,p[6]=0,p[7]=0,p[8]=(f+c)/e,p[9]=(k+h)/q,p[10]=-(b+a)/l,p[11]=-1,p[12]=0,p[13]=0,p[14]=-(b*a*2)/l,p[15]=0,a=[0,0],b=[0,0],this.sq(0,0,a),this.sq(1,1,b),this.Xh[0]=1/(b[0]-a[0]),this.Xh[1]=-1/(b[1]-a[1]);a=0;for(b=this.Ha.length;a<b;a++)c=this.Ha[a],c.bf=!1,c.Ap&&(d.useProgram(c.Ih),d.uniformMatrix4fv(c.Ap,!1,this.nj));d.useProgram(this.Ha[this.dh].Ih);
d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE1);d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE0);this.gf=this.ye=null;this.ti&&(d.bindFramebuffer(d.FRAMEBUFFER,this.al),d.bindRenderbuffer(d.RENDERBUFFER,this.ti),d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_COMPONENT16,this.width,this.height),this.eo||(d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,this.ti),this.eo=!0),d.bindRenderbuffer(d.RENDERBUFFER,null),d.bindFramebuffer(d.FRAMEBUFFER,null),
this.Gj=null)}};e.prototype.Bc=function(){kc(this.zk,this.Cp,this.hr,this.lc);jc(this.lc,this.Xh)};e.prototype.translate=function(b,f){if(0!==b||0!==f){this.Oe[0]=b;this.Oe[1]=f;this.Oe[2]=0;var d=this.lc,a=this.Oe,c=a[0],h=a[1],a=a[2];d[12]=d[0]*c+d[4]*h+d[8]*a+d[12];d[13]=d[1]*c+d[5]*h+d[9]*a+d[13];d[14]=d[2]*c+d[6]*h+d[10]*a+d[14];d[15]=d[3]*c+d[7]*h+d[11]*a+d[15]}};e.prototype.scale=function(b,f){if(1!==b||1!==f)this.Oe[0]=b,this.Oe[1]=f,this.Oe[2]=1,jc(this.lc,this.Oe)};e.prototype.Jj=function(b){if(0!==
b){var f=this.lc,d,a=Math.sin(b);b=Math.cos(b);var c=f[0],h=f[1],k=f[2],p=f[3],e=f[4],q=f[5],l=f[6],u=f[7];d?f!==d&&(d[8]=f[8],d[9]=f[9],d[10]=f[10],d[11]=f[11],d[12]=f[12],d[13]=f[13],d[14]=f[14],d[15]=f[15]):d=f;d[0]=c*b+e*a;d[1]=h*b+q*a;d[2]=k*b+l*a;d[3]=p*b+u*a;d[4]=c*-a+e*b;d[5]=h*-a+q*b;d[6]=k*-a+l*b;d[7]=p*-a+u*b}};e.prototype.oc=function(){if(!m(this.Ol,this.lc)){var b=this.Mb();b.type=5;b.V?ic(this.lc,b.V):b.V=hc(this.lc);ic(this.lc,this.Ol);this.$a=!1}};e.prototype.Nj=function(b){this.pa&&
(32760<b&&(b=32760),this.ri=this.zk[2]-this.ok-b*this.Mx)};g.prototype.eu=function(){var b=this.A,f=this.n;0!==this.wb?(b.depthMask(!0),b.colorMask(!1,!1,!1,!1),b.disable(b.BLEND),b.bindFramebuffer(b.FRAMEBUFFER,f.al),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.clear(b.DEPTH_BUFFER_BIT),b.bindFramebuffer(b.FRAMEBUFFER,null),f.Qi=!0):(b.depthMask(!1),b.colorMask(!0,!0,!0,!0),b.enable(b.BLEND),f.Qi=!1)};g.prototype.iu=function(){this.A.bindTexture(this.A.TEXTURE_2D,
this.Fc)};g.prototype.ju=function(){var b=this.A;b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,this.Fc);b.activeTexture(b.TEXTURE0)};g.prototype.fu=function(){var b=this.lq,f=this.n;f.qi=b;f=f.If;f.dg&&f.mj!==b&&(f.mj=b,this.A.uniform1f(f.dg,b))};g.prototype.$t=function(){this.A.drawElements(this.A.TRIANGLES,this.jc,this.A.UNSIGNED_SHORT,this.wb)};g.prototype.bu=function(){this.A.blendFunc(this.wb,this.jc)};g.prototype.ku=function(){var b,f,d,a=this.n.Ha,c=this.n.yo;b=0;for(f=a.length;b<
f;b++)d=a[b],b===c&&d.ij?(d.ln(this.V),d.bf=!0):d.bf=!1;ic(this.V,this.n.Mk)};g.prototype.au=function(){var b=this.A,f=this.n;this.Fc?(f.gf===this.Fc&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,null),f.gf=null,b.activeTexture(b.TEXTURE0)),b.bindFramebuffer(b.FRAMEBUFFER,f.al),f.Qi||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.Fc,0)):(f.pa||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.bindFramebuffer(b.FRAMEBUFFER,null))};
g.prototype.Wt=function(){var b=this.A,f=this.wb;0===f?(b.clearColor(this.V[0],this.V[1],this.V[2],this.V[3]),b.clear(b.COLOR_BUFFER_BIT)):1===f?(b.enable(b.SCISSOR_TEST),b.scissor(this.V[0],this.V[1],this.V[2],this.V[3]),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.disable(b.SCISSOR_TEST)):b.clear(b.DEPTH_BUFFER_BIT)};g.prototype.du=function(){var b=this.A;0!==this.wb?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)};g.prototype.Zt=function(){var b=this.A,f=this.n;f.pa&&b.disable(b.DEPTH_TEST);
var d=f.Ha[1];b.useProgram(d.Ih);!d.bf&&d.ij&&(d.ln(f.Mk),d.bf=!0);b.enableVertexAttribArray(d.wc);b.bindBuffer(b.ARRAY_BUFFER,f.rm);b.vertexAttribPointer(d.wc,4,b.FLOAT,!1,0,0);b.drawArrays(b.POINTS,this.wb/4,this.jc);d=f.If;b.useProgram(d.Ih);0<=d.wc&&(b.enableVertexAttribArray(d.wc),b.bindBuffer(b.ARRAY_BUFFER,f.Vh[f.Gd]),b.vertexAttribPointer(d.wc,f.pa?3:2,b.FLOAT,!1,0,0));0<=d.Ee&&(b.enableVertexAttribArray(d.Ee),b.bindBuffer(b.ARRAY_BUFFER,f.Oh[f.Gd]),b.vertexAttribPointer(d.Ee,2,b.FLOAT,!1,
0,0));f.pa&&b.enable(b.DEPTH_TEST)};g.prototype.gu=function(){var b=this.A,f=this.n,d=f.Ha[this.wb];f.yo=this.wb;f.If=d;b.useProgram(d.Ih);!d.bf&&d.ij&&(d.ln(f.Mk),d.bf=!0);d.dg&&d.mj!==f.qi&&(d.mj=f.qi,b.uniform1f(d.dg,f.qi));0<=d.wc&&(b.enableVertexAttribArray(d.wc),b.bindBuffer(b.ARRAY_BUFFER,f.Vh[f.Gd]),b.vertexAttribPointer(d.wc,f.pa?3:2,b.FLOAT,!1,0,0));0<=d.Ee&&(b.enableVertexAttribArray(d.Ee),b.bindBuffer(b.ARRAY_BUFFER,f.Oh[f.Gd]),b.vertexAttribPointer(d.Ee,2,b.FLOAT,!1,0,0))};g.prototype.cu=
function(){var b=this.V;this.A.uniform4f(this.n.If.Zl,b[0],b[1],b[2],b[3])};g.prototype.hu=function(){var b,f,d=this.n.If,a=this.A;b=this.V;d.mh&&this.n.gf!==this.Fc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this.Fc),this.n.gf=this.Fc,a.activeTexture(a.TEXTURE0));var c=b[0];d.am&&c!==d.Lp&&(d.Lp=c,a.uniform1f(d.am,c));c=b[1];d.$l&&c!==d.Kp&&(d.Kp=c,a.uniform1f(d.$l,c));c=b[2];f=b[3];!d.lf||c===d.Fp&&f===d.Gp||(d.Fp=c,d.Gp=f,a.uniform2f(d.lf,c,f));c=b[4];f=b[5];!d.kf||c===d.Dp&&f===
d.Ep||(d.Dp=c,d.Ep=f,a.uniform2f(d.kf,c,f));c=b[6];d.lh&&c!==d.Ip&&(d.Ip=c,a.uniform1f(d.lh,c));c=b[7];d.kh&&c!==d.Hp&&(d.Hp=c,a.uniform1f(d.kh,c));c=b[8];f=b[9];!d.ph||c===d.Pp&&f===d.Qp||(d.Pp=c,d.Qp=f,a.uniform2f(d.ph,c,f));c=b[10];f=b[11];!d.nh||c===d.Mp&&f===d.Np||(d.Mp=c,d.Np=f,a.uniform2f(d.nh,c,f));c=b[12];d.oh&&c!==d.Op&&(d.Op=c,a.uniform1f(d.oh,c));if(d.W.length)for(b=0,f=d.W.length;b<f;b++)c=this.Mq[b],c!==d.Nl[b]&&(d.Nl[b]=c,a.uniform1f(d.W[b][1],c))};e.prototype.Mb=function(){this.Nc===
this.hd.length&&this.hd.push(new g(0,this));return this.hd[this.Nc++]};e.prototype.Kd=function(){if(0!==this.Nc&&!this.A.isContextLost()){var b=this.A;0<this.tm&&(b.bindBuffer(b.ARRAY_BUFFER,this.rm),b.bufferSubData(b.ARRAY_BUFFER,0,this.qq.subarray(0,this.tm)),f&&0<=f.wc&&"<point>"===f.name&&b.vertexAttribPointer(f.wc,4,b.FLOAT,!1,0,0));if(0<this.Ic){var f=this.If;b.bindBuffer(b.ARRAY_BUFFER,this.Vh[this.Gd]);b.bufferSubData(b.ARRAY_BUFFER,0,this.Wh.subarray(0,this.Ic));f&&0<=f.wc&&"<point>"!==f.name&&
b.vertexAttribPointer(f.wc,this.pa?3:2,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,this.Oh[this.Gd]);b.bufferSubData(b.ARRAY_BUFFER,0,this.Ph.subarray(0,this.Ne));f&&0<=f.Ee&&"<point>"!==f.name&&b.vertexAttribPointer(f.Ee,2,b.FLOAT,!1,0,0)}for(var d,b=0,f=this.Nc;b<f;b++)switch(d=this.hd[b],d.type){case 1:d.$t();break;case 2:d.iu();break;case 3:d.fu();break;case 4:d.bu();break;case 5:d.ku();break;case 6:d.au();break;case 7:d.Wt();break;case 8:d.Zt();break;case 9:d.gu();break;case 10:d.hu();break;
case 11:d.ju();break;case 12:d.cu();break;case 13:d.du();break;case 14:d.eu()}this.tm=this.Ne=this.Ic=this.Nc=0;this.Qi=this.$a=!1;this.Gd++;4<=this.Gd&&(this.Gd=0)}};e.prototype.Le=function(b){if(b!==this.up&&!this.Yg){var f=this.Mb();f.type=3;this.up=f.lq=b;this.$a=!1}};e.prototype.Wa=function(b){if(b!==this.ye){var f=this.Mb();f.type=2;this.ye=f.Fc=b;this.$a=!1}};e.prototype.Ke=function(b,f){if((b!==this.vp||f!==this.rp)&&!this.Yg){var d=this.Mb();d.type=4;d.wb=b;d.jc=f;this.vp=b;this.rp=f;this.$a=
!1}};e.prototype.Dq=function(){this.Ke(this.A.ONE,this.A.ONE_MINUS_SRC_ALPHA)};e.prototype.sf=function(b,f,d,a,c,h,k,p){15992<=this.Ic&&this.Kd();var e=this.Ic,q=this.Ne,l=this.Wh,u=this.Ph,r=this.ri;if(this.$a)this.hd[this.Nc-1].jc+=6;else{var g=this.Mb();g.type=1;g.wb=this.pa?e:e/2*3;g.jc=6;this.$a=!0}this.pa?(l[e++]=b,l[e++]=f,l[e++]=r,l[e++]=d,l[e++]=a,l[e++]=r,l[e++]=c,l[e++]=h,l[e++]=r,l[e++]=k,l[e++]=p,l[e++]=r):(l[e++]=b,l[e++]=f,l[e++]=d,l[e++]=a,l[e++]=c,l[e++]=h,l[e++]=k,l[e++]=p);u[q++]=
0;u[q++]=0;u[q++]=1;u[q++]=0;u[q++]=1;u[q++]=1;u[q++]=0;u[q++]=1;this.Ic=e;this.Ne=q};e.prototype.wd=function(b,f,d,a,c,h,k,p,e){15992<=this.Ic&&this.Kd();var q=this.Ic,l=this.Ne,u=this.Wh,r=this.Ph,g=this.ri;if(this.$a)this.hd[this.Nc-1].jc+=6;else{var n=this.Mb();n.type=1;n.wb=this.pa?q:q/2*3;n.jc=6;this.$a=!0}var n=e.left,m=e.top,t=e.right;e=e.bottom;this.pa?(u[q++]=b,u[q++]=f,u[q++]=g,u[q++]=d,u[q++]=a,u[q++]=g,u[q++]=c,u[q++]=h,u[q++]=g,u[q++]=k,u[q++]=p,u[q++]=g):(u[q++]=b,u[q++]=f,u[q++]=d,
u[q++]=a,u[q++]=c,u[q++]=h,u[q++]=k,u[q++]=p);r[l++]=n;r[l++]=m;r[l++]=t;r[l++]=m;r[l++]=t;r[l++]=e;r[l++]=n;r[l++]=e;this.Ic=q;this.Ne=l};e.prototype.wq=function(b,f,d,a,c,h,k,p,e,q,l,u,r){15992<=this.Ic&&this.Kd();var g=this.Ic,n=this.Ne,m=this.Wh,t=this.Ph,v=this.ri;if(this.$a)this.hd[this.Nc-1].jc+=6;else{var A=this.Mb();A.type=1;A.wb=this.pa?g:g/2*3;A.jc=6;this.$a=!0}this.pa?(m[g++]=b,m[g++]=f,m[g++]=v,m[g++]=d,m[g++]=a,m[g++]=v,m[g++]=c,m[g++]=h,m[g++]=v,m[g++]=k,m[g++]=p,m[g++]=v):(m[g++]=
b,m[g++]=f,m[g++]=d,m[g++]=a,m[g++]=c,m[g++]=h,m[g++]=k,m[g++]=p);t[n++]=e;t[n++]=q;t[n++]=l;t[n++]=0;t[n++]=u;t[n++]=0;t[n++]=r;t[n++]=0;this.Ic=g;this.Ne=n};e.prototype.vo=function(b){var f=b.length/2-2,d=f-1,a=b[0],c=b[1],h,k,p,e,q,l,u;for(h=0;h<f;h+=2)k=2*h,p=b[k+2],e=b[k+3],q=b[k+4],l=b[k+5],h===d?this.sf(a,c,p,e,q,l,q,l):(u=b[k+6],k=b[k+7],this.sf(a,c,p,e,q,l,u,k))};e.prototype.Ob=function(b){if(this.dh!==b){if(!this.Ha[b]){if(0===this.dh)return;b=0}var f=this.Mb();f.type=9;this.dh=f.wb=b;this.$a=
!1}};e.prototype.Ah=function(b){b=this.Ha[b];return!(!b.lf&&!b.kf)};e.prototype.wm=function(b){b=this.Ha[b];return!!(b.lf||b.kf||b.xo)};e.prototype.vm=function(b){return this.Ha[b].Zc};e.prototype.Tw=function(b){b=this.Ha[b];return 0!==b.Zk||0!==b.$k};e.prototype.uv=function(b){return this.Ha[b].Zk};e.prototype.vv=function(b){return this.Ha[b].$k};e.prototype.wv=function(b,f){return this.Ha[b].W[f][2]};e.prototype.zj=function(b){return this.Ha[b].bo};e.prototype.kg=function(b,f,d,a,c,h,k,p,e,q,l,
u,r,g,n){var m=this.Ha[this.dh],t,v;if(m.Ov||n.length){t=this.Mb();t.type=10;t.V?ic(this.lc,t.V):t.V=hc();v=t.V;v[0]=f;v[1]=d;v[2]=a;v[3]=c;v[4]=h;v[5]=k;v[6]=p;v[7]=e;v[8]=q;v[9]=l;v[10]=u;v[11]=r;v[12]=g;m.mh?t.Fc=b:t.Fc=null;if(n.length)for(d=t.Mq,d.length=n.length,b=0,f=n.length;b<f;b++)d[b]=n[b];this.$a=!1}};e.prototype.clear=function(b,f,d,a){var c=this.Mb();c.type=7;c.wb=0;c.V||(c.V=hc());c.V[0]=b;c.V[1]=f;c.V[2]=d;c.V[3]=a;this.$a=!1};e.prototype.clearRect=function(b,f,d,a){if(!(0>d||0>a)){var c=
this.Mb();c.type=7;c.wb=1;c.V||(c.V=hc());c.V[0]=b;c.V[1]=f;c.V[2]=d;c.V[3]=a;this.$a=!1}};e.prototype.Gq=function(b){if(this.pa&&(b=!!b,this.Yg!==b)){var f=this.Mb();f.type=14;f.wb=b?1:0;this.$a=!1;this.Yg=b;this.Gj=null;this.Yg?this.Ob(2):this.Ob(0)}};e.prototype.Fq=function(b){if(this.pa){var f=this.Mb();f.type=13;f.wb=b?1:0;this.$a=!1}};e.prototype.No=function(){ic(this.Ol,t);this.Bc();this.oc();var b=this.width/2,f=this.height/2;this.sf(-b,f,b,f,b,-f,-b,-f);ic(t,this.lc);this.oc()};e.prototype.Eq=
function(b,f,d){this.Ob(3);var a=this.Mb();a.type=12;a.V||(a.V=hc());a.V[0]=b;a.V[1]=f;a.V[2]=d;a.V[3]=1;this.$a=!1};e.prototype.nx=function(){this.Ob(0)};e.prototype.$w=function(){this.Ob(2)};e.prototype.Qw=function(){this.Kd();this.A.flush()};var v=[],r={};e.prototype.Jt=function(){Q(v);r={}};e.prototype.gj=function(b,f,d,a){f=!!f;d=!!d;var c=b.src+","+f+","+d+(f?",undefined":""),h=null;if("undefined"!==typeof b.src&&r.hasOwnProperty(c))return h=r[c],h.hi++,h;this.Kd();var k=this.A,p=ia(b.width)&&
ia(b.height),h=k.createTexture();k.bindTexture(k.TEXTURE_2D,h);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var e=k.RGBA,q=k.RGBA,l=k.UNSIGNED_BYTE;if(a&&!this.ue)switch(a){case 1:q=e=k.RGB;break;case 2:l=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:l=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:q=e=k.RGB,l=k.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!p&&f){a=document.createElement("canvas");a.width=ja(b.width);a.height=ja(b.height);var u=a.getContext("2d");"undefined"!==typeof u.imageSmoothingEnabled?u.imageSmoothingEnabled=
d:(u.webkitImageSmoothingEnabled=d,u.mozImageSmoothingEnabled=d,u.msImageSmoothingEnabled=d);u.drawImage(b,0,0,b.width,b.height,0,0,a.width,a.height);k.texImage2D(k.TEXTURE_2D,0,e,q,l,a)}else k.texImage2D(k.TEXTURE_2D,0,e,q,l,b);f?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));d?(k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MAG_FILTER,k.LINEAR),(p||2<=this.version)&&this.Fo?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.ye=null;h.Te=b.width;h.Se=b.height;h.hi=1;h.jo=c;v.push(h);return r[c]=h};e.prototype.Fb=function(b,f,d,a,c){this.Kd();
var h=this.A;this.ue&&(a=!1);var k=h.createTexture();h.bindTexture(h.TEXTURE_2D,k);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,b,f,0,h.RGBA,a?h.UNSIGNED_SHORT_4_4_4_4:h.UNSIGNED_BYTE,null);c?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE));h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,d?h.LINEAR:h.NEAREST);h.texParameteri(h.TEXTURE_2D,
h.TEXTURE_MIN_FILTER,d?h.LINEAR:h.NEAREST);h.bindTexture(h.TEXTURE_2D,null);this.ye=null;k.Te=b;k.Se=f;v.push(k);return k};e.prototype.qn=function(b,f,d){this.Kd();var a=this.A;this.ue&&(d=!1);a.bindTexture(a.TEXTURE_2D,f);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,d?a.UNSIGNED_SHORT_4_4_4_4:a.UNSIGNED_BYTE,b)}catch(c){console&&console.error&&console.error("Error updating WebGL texture: ",c)}a.bindTexture(a.TEXTURE_2D,null);this.ye=null};e.prototype.deleteTexture=
function(b){b&&("undefined"!==typeof b.hi&&1<b.hi?b.hi--:(this.Kd(),b===this.ye&&(this.A.bindTexture(this.A.TEXTURE_2D,null),this.ye=null),b===this.gf&&(this.A.activeTexture(this.A.TEXTURE1),this.A.bindTexture(this.A.TEXTURE_2D,null),this.A.activeTexture(this.A.TEXTURE0),this.gf=null),Ha(v,b),"undefined"!==typeof b.jo&&delete r[b.jo],this.A.deleteTexture(b)))};e.prototype.Cc=function(b){if(b!==this.Gj){var f=this.Mb();f.type=6;this.Gj=f.Fc=b;this.$a=!1}};mb=e})();
(function(){function e(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.uc=(this.Dl=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Od=!!a.dc;this.Wv="undefined"!==typeof window.AppMobi||
this.Od;this.tc=!!window.c2cocoonjs;this.Uc=!!window.c2ejecta;this.tc&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.Uc&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.Sa=this.Od||this.tc||this.Uc;this.Si=
/edge\//i.test(navigator.userAgent);this.ue=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Si;this.lp=/tizen/i.test(navigator.userAgent);this.Cl=/android/i.test(navigator.userAgent)&&!this.lp&&!this.ue&&!this.Si;this.qp=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.ue&&!this.Si;this.fw=/ipad/i.test(navigator.userAgent);this.Xi=this.qp||this.fw||this.Uc;this.Yv=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.ue&&!this.Si;this.Vv=/amazonwebappplatform/i.test(navigator.userAgent);this.Zv=/firefox/i.test(navigator.userAgent);this.Gl="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.op=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.dw=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.$g=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Ll=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Kl=!!window.cr_windows10;this.np=this.op||this.dw||this.Ll||this.Kl;this.Xv=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.kp=this.Cl&&!this.Yv&&!this.Dl&&!this.Zv&&!this.Vv&&!this.Sa;this.devicePixelRatio=1;this.ve=this.uc||this.Dl||this.Wv||this.tc||this.Cl||this.Xi||this.$g||this.Ll||this.Xv||this.lp||this.Uc;this.ve||
(this.ve=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.mp=!!(this.Xi&&this.uc&&window.webkit);"undefined"===typeof cr_is_preview||this.Gl||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.Gl=!0);this.canvas=a;this.oo=document.getElementById("c2canvasdiv");this.n=this.A=null;this.nl="(unavailable)";this.pa=!1;this.We=0;this.xa=null;this.Bi=!1;this.dq=this.fq=
0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Od&&(window.c2runtime=this);this.Gl&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.kp&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.M=this.width;this.L=this.height;this.oi=this.width;this.Fg=this.height;this.$f=window.innerWidth;this.Zf=window.innerHeight;this.Z=!0;this.ff=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.p=[];this.Ca=[];this.Wl={};this.Wc=[];this.Yk={};this.Ld=[];this.tg=[];this.ek=[];this.tt=[];this.ut=[];this.Lm=this.Rm=null;this.Ue={};this.Fl=this.qe=!1;this.Vc=
0;this.El=this.Il=!1;this.Rc=[];this.Zg=!1;this.ej=this.Im="";this.Va=null;this.Qd="";this.Mh=this.Oq=!1;this.Ai=[];this.ne=this.Jf=0;this.Wp=30;this.Ik=this.qh=0;this.ng=1;this.$b=new bb;this.jk=new bb;this.qj=this.Fi=this.Kg=this.Gc=this.jf=this.cl=this.$i=0;this.Ek=null;this.Tk=[];this.Xk=[];this.xi=-1;this.cm=[[]];this.dn=this.jj=0;this.Bj(null);this.dm=[];this.lj=-1;this.aq=this.vh=0;this.Vl=!0;this.Mg=0;this.Nh=[];this.an=this.ym=-1;this.Yi=!0;this.hj=0;this.Ti=!1;this.ux=0;this.zg=null;this.vc=
this.$o=!1;this.jm=new ca;this.km=new ca;this.lm=new ca;this.Bm=[];this.Pb=new db([]);this.Vm=new db([]);this.Gf=[];this.Tf={};this.he={};this.ee={};this.rg={};this.fo={};this.yp=this.dj=this.La=this.Ta=this.xp=this.cj=this.ga=null;this.pg=this.Ml=!1;this.dl=[null,null];this.Of=0;this.Td={};this.Kh=this.Ce=null;this.Rq="";this.pj=[];this.Zw()}}function n(a,c){return 128>=c?a[3]:256>=c?a[2]:512>=c?a[1]:a[0]}function m(){try{return!!window.indexedDB}catch(a){return!1}}function g(a){a.target.result.createObjectStore("saves",
{keyPath:"slot"})}function t(a,c,b,d){try{var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=g;f.onerror=d;f.onsuccess=function(f){f=f.target.result;f.onerror=d;f.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=b}}catch(k){d(k)}}function v(a,c,b){try{var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=g;d.onerror=b;d.onsuccess=function(d){d=d.target.result;d.onerror=b;var f=d.transaction(["saves"]).objectStore("saves").get(a);f.onsuccess=function(){f.result?
c(f.result.data):c(null)}}}catch(f){b(f)}}function r(){ea("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function b(a){var c,b={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof ca||a[c]&&"undefined"!==typeof a[c].Ny||"spriteCreatedDestroyCallback"!==c&&(b[c]=a[c]);return b}var f=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;e.prototype.Zw=function(){var a=this;if(this.mp)this.bv(function(c){a.jh(JSON.parse(c))},function(){alert("Error fetching data.js")});else{var c;this.$g?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var b="data.js";if(this.op||this.$g||this.Ll||this.Kl)b="data.json";c.open("GET",b,!0);var d=!1;if(!this.Sa&&"response"in c&&"responseType"in c)try{c.responseType="json",d="json"===c.responseType}catch(f){d=!1}if(!d&&"responseType"in
c)try{c.responseType="text"}catch(k){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(h){}this.$g?c.onreadystatechange=function(){4===c.readyState&&a.jh(JSON.parse(c.responseText))}:(c.onload=function(){if(d)a.jh(c.response);else if(a.Uc){var b=c.responseText,b=b.substr(b.indexOf("{"));a.jh(JSON.parse(b))}else a.jh(JSON.parse(c.responseText))},c.onerror=function(a){fa("Error requesting "+b+":");fa(a)});c.send()}};e.prototype.Tv=function(){var a=this,c,b,d,
f,k,h,l,u,p;this.ef=(!this.Sa||this.Uc||this.uc)&&this.Gx&&!this.kp;0===this.Hb&&this.Xi&&(this.ef=!1);this.devicePixelRatio=this.ef?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.mb();0<this.Hb&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();a.ww();ea("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",
function(){a.n.fp();a.n.uf(a.n.width,a.n.height,!0);a.Ta=null;a.La=null;a.dl[0]=null;a.dl[1]=null;a.xw();a.Z=!0;ea("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.tu&&(this.tc||this.Uc||!this.Sa)&&(c={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.Cl||(this.A=this.canvas.getContext("webgl2",c)),this.A||(this.A=this.canvas.getContext("webgl",c)||this.canvas.getContext("experimental-webgl",c)))}catch(q){}if(this.A){if(c=
this.A.getExtension("WEBGL_debug_renderer_info"))this.nl=this.A.getParameter(c.UNMASKED_RENDERER_WEBGL)+" ["+this.A.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.pa&&(this.nl+=" [front-to-back enabled]");this.Sa||(this.kb=document.createElement("canvas"),jQuery(this.kb).appendTo(this.canvas.parentNode),this.kb.oncontextmenu=function(){return!1},this.kb.onselectstart=function(){return!1},this.kb.width=Math.round(this.oi*this.devicePixelRatio),this.kb.height=Math.round(this.Fg*this.devicePixelRatio),
jQuery(this.kb).css({width:this.oi+"px",height:this.Fg+"px"}),this.rq(),this.qm=this.kb.getContext("2d"));this.n=new mb(this.A,this.ve,this.pa);this.n.uf(this.canvas.width,this.canvas.height);this.n.Fo=0!==this.lu;this.xa=null;c=0;for(b=this.p.length;c<b;c++)for(k=this.p[c],d=0,f=k.O.length;d<f;d++)l=k.O[d],l.Oa=this.n.ll(l.id),l.Zc=this.n.vm(l.Oa),this.pg=this.pg||this.n.Ah(l.Oa);c=0;for(b=this.Wc.length;c<b;c++){u=this.Wc[c];d=0;for(f=u.O.length;d<f;d++)l=u.O[d],l.Oa=this.n.ll(l.id),l.Zc=this.n.vm(l.Oa);
u.cd();d=0;for(f=u.P.length;d<f;d++){p=u.P[d];k=0;for(h=p.O.length;k<h;k++)l=p.O[k],l.Oa=this.n.ll(l.id),l.Zc=this.n.vm(l.Oa),this.pg=this.pg||this.n.Ah(l.Oa);p.cd()}}}else{if(0<this.Hb&&this.Od){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.xa=AppMobi.canvas.getContext("2d");try{this.xa.samplingMode=this.wa?"smooth":"sharp",this.xa.globalScale=1,this.xa.HTML5CompatibilityMode=!0,this.xa.imageSmoothingEnabled=this.wa}catch(e){}0!==this.width&&
0!==this.height&&(this.xa.width=this.width,this.xa.height=this.height)}this.xa||(this.tc?(c={antialias:!!this.wa,alpha:!0},this.xa=this.canvas.getContext("2d",c)):(c={alpha:!0},this.xa=this.canvas.getContext("2d",c)),this.Mj(this.xa,this.wa));this.qm=this.kb=null}this.Zq=function(c){a.xb(!1,c)};window==window.top||this.Sa||this.np||this.$g||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&
(this.tc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ea("Reloading for continuous preview"),this.ej="__c2_continuouspreview",this.Mh=!0),this.Iw&&!this.ve&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var c=window.parent;c&&c.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.qf()});this.Sa||(c=function(a){if(lb(a)&&document.activeElement&&document.activeElement!==
document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",c):document.addEventListener("touchstart",c),document.addEventListener("mousedown",c));0===this.Hb&&this.ef&&1<this.devicePixelRatio&&this.setSize(this.Ba,this.Aa,!0);this.dr();this.Lv();this.go();this.I={}};e.prototype.setSize=function(a,
c,b){var d=0,f=0,k=0,h=0,h=0;if(this.$f!==a||this.Zf!==c||b){this.$f=a;this.Zf=c;var l=this.Hb;if((k=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Ti)&&!this.uc)||0!==this.Hb||b)k&&(l=this.Of),b=this.devicePixelRatio,4<=l?(k=this.Ba/this.Aa,a/c>k?(k*=c,5===l?(h=k*b/this.Ba,1<h?h=Math.floor(h):1>h&&(h=1/Math.ceil(1/h)),k=this.Ba*h/b,h=this.Aa*h/b,d=(a-k)/2,f=(c-h)/2,a=k,c=h):(d=(a-k)/2,a=k)):(h=a/k,5===l?(h=h*b/this.Aa,1<h?h=Math.floor(h):
1>h&&(h=1/Math.ceil(1/h)),k=this.Ba*h/b,h=this.Aa*h/b,d=(a-k)/2,f=(c-h)/2,a=k):f=(c-h)/2,c=h)):k&&0===l&&(d=Math.floor((a-this.Ba)/2),f=Math.floor((c-this.Aa)/2),a=this.Ba,c=this.Aa),2>l&&(this.yg=b),this.oi=Math.round(a),this.Fg=Math.round(c),this.width=Math.round(a*b),this.height=Math.round(c*b),this.Z=!0,this.pr?(this.M=this.width,this.L=this.height,this.ic=!0):this.width<this.Ba&&this.height<this.Aa||1===l?(this.M=this.width,this.L=this.height,this.ic=!0):(this.M=this.Ba,this.L=this.Aa,this.ic=
!1,2===l?(k=this.Ba/this.Aa,l=this.$f/this.Zf,l<k?this.M=this.L*l:l>k&&(this.L=this.M/l)):3===l&&(k=this.Ba/this.Aa,l=this.$f/this.Zf,l>k?this.M=this.L*l:l<k&&(this.L=this.M/l))),this.oo&&!this.Sa&&(jQuery(this.oo).css({width:Math.round(a)+"px",height:Math.round(c)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(f)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*b),
this.canvas.height=Math.round(c*b),this.Uc?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(f)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.ef&&!this.Sa&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px")),this.kb&&(this.kb.width=Math.round(a*b),this.kb.height=Math.round(c*b),this.kb.style.width=this.oi+"px",this.kb.style.height=this.Fg+"px"),this.n&&this.n.uf(Math.round(a*b),Math.round(c*
b)),this.Od&&this.xa&&(this.xa.width=Math.round(a),this.xa.height=Math.round(c)),this.xa&&this.Mj(this.xa,this.wa),this.dr(),this.qp&&!this.uc&&window.scrollTo(0,0)}};e.prototype.dr=function(){if(this.Bt&&0!==this.pm){var a="portrait";2===this.pm&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):
screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",c)}}};e.prototype.ww=function(){this.n.Jt();this.Ml=!0;var a,c,b;a=0;for(c=this.p.length;a<c;a++)b=this.p[a],b.xh&&b.xh()};e.prototype.xw=function(){this.Ml=!1;var a,c,b;a=0;for(c=this.p.length;a<c;a++)b=this.p[a],b.sj&&b.sj()};e.prototype.rq=function(){if(!this.Sa){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||
this.Ti)&&!this.uc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.kb).css(a)}};var d=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;e.prototype.setSuspended=function(a){var c;if(a&&!this.ff)for(ea("[Construct 2] Suspending"),this.ff=!0,-1!==this.ym&&d&&d(this.ym),-1!==this.an&&clearTimeout(this.an),a=0,c=this.Nh.length;a<c;a++)this.Nh[a](!0);else if(!a&&
this.ff){ea("[Construct 2] Resuming");this.ff=!1;this.$i=Xa();this.jf=Xa();a=this.qh=this.Fi=0;for(c=this.Nh.length;a<c;a++)this.Nh[a](!1);this.xb(!1)}};e.prototype.Yn=function(a){this.Nh.push(a)};e.prototype.ae=function(a){return this.pj[a]};e.prototype.jh=function(a){a&&a.project||fa("Project model unavailable");a=a.project;this.name=a[0];this.Mo=a[1];this.Hb=a[12];this.Ba=a[10];this.Aa=a[11];this.mq=this.Ba/2;this.nq=this.Aa/2;this.Sa&&!this.Uc&&(4<=a[12]||0===a[12])&&(ea("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.Hb=3);this.pn=a[18];this.De=a[19];if(0===this.De){var c=new Image;c.crossOrigin="anonymous";this.Hq(c,"loading-logo.png");this.Ce={kj:c}}else if(4===this.De){c=new Image;c.src="";var b=new Image;b.src="";var d=new Image;d.src="";var f=new Image;f.src="";var k=new Image;k.src="";var h=new Image;h.src="";var l=new Image;l.src="";var u=new Image;u.src="";var p=new Image;p.src="";var q=new Image;q.src="";var e=new Image;e.src="";var r=new Image;r.src="";this.Ce={kj:[c,b,d,f],Nw:[k,h,l,u],Lx:[p,q,
e,r]}}this.vh=a[21];this.pj=mc();this.Bd=new X(this);c=0;for(b=a[2].length;c<b;c++)l=a[2][c],d=this.ae(l[0]),nb(l,d.prototype),u=new d(this),u.Vj=l[1],u.we=l[2],u.ew=l[5],u.Zp=l[9],u.J&&u.J(),this.plugins.push(u);this.pj=mc();c=0;for(b=a[3].length;c<b;c++){l=a[3][c];k=this.ae(l[1]);u=null;d=0;for(f=this.plugins.length;d<f;d++)if(this.plugins[d]instanceof k){u=this.plugins[d];break}p=new u.ba(u);p.name=l[0];p.G=l[2];p.yl=l[3].slice(0);p.Ix=l[3].length;p.Ct=l[4];p.hv=l[5];p.R=l[11];p.G?(p.qd=[],p.md=
this.Mg++,p.ya=null):(p.qd=null,p.md=-1,p.ya=[]);p.Ng=null;p.Mf=null;p.Go=null;p.Bb=!1;p.Vb=null;l[6]?(p.Xm=l[6][0],p.Ym=l[6][1],p.Zm=l[6][2]):(p.Xm=null,p.Ym=0,p.Zm=0);l[7]?p.Ub=l[7]:p.Ub=null;p.index=c;p.e=[];p.si=[];p.Xd=[new ob(p)];p.kd=0;p.sc=null;p.zo=0;p.mg=!0;p.gk=pb;p.To=qb;p.sv=rb;p.ca=sb;p.Ch=tb;p.Aj=ub;p.rf=xb;p.Gi=yb;p.el=zb;p.gl=Ab;p.fe=Bb;p.il=Cb;p.mi=new eb(this.Ba,this.Aa);p.$h=!0;p.ai=!1;p.I={};p.toString=Db;p.Ca=[];d=0;for(f=l[8].length;d<f;d++){q=l[8][d];e=this.ae(q[1]);r=null;
k=0;for(h=this.Ca.length;k<h;k++)if(this.Ca[k]instanceof e){r=this.Ca[k];break}r||(r=new e(this),r.hm=[],r.sh=new ca,r.J&&r.J(),this.Ca.push(r),nc&&r instanceof nc&&(this.Rm=r),oc&&r instanceof oc&&(this.Lm=r));-1===r.hm.indexOf(p)&&r.hm.push(p);k=new r.ba(r,p);k.name=q[0];k.R=q[2];k.J();p.Ca.push(k)}p.global=l[9];p.Hl=l[10];p.O=[];d=0;for(f=l[12].length;d<f;d++)p.O.push({id:l[12][d][0],name:l[12][d][1],Oa:-1,Zc:!1,gc:!0,index:d});p.fz=l[13];this.pn&&!p.G&&!p.Hl&&u.we||p.J();p.name&&(this.types[p.name]=
p);this.p.push(p);u.Vj&&(d=new u.Q(p),d.uid=this.vh++,d.uq=this.aq++,d.cf=0,d.Qg=Eb,d.toString=Fb,d.u=l[14],d.J(),p.e.push(d),this.Td[d.uid.toString()]=d)}c=0;for(b=a[4].length;c<b;c++)for(k=a[4][c],h=this.p[k[0]],d=1,f=k.length;d<f;d++)l=this.p[k[d]],l.ya.push(h),h.qd.push(l);c=0;for(b=a[28].length;c<b;c++){k=a[28][c];h=[];d=0;for(f=k.length;d<f;d++)h.push(this.p[k[d]]);d=0;for(f=h.length;d<f;d++)h[d].Bb=!0,h[d].Vb=h}if(0<this.Mg)for(c=0,b=this.p.length;c<b;c++)if(l=this.p[c],!l.G&&l.ya.length){l.Ng=
Array(this.Mg);l.Mf=Array(this.Mg);l.Go=Array(this.Mg);p=[];d=r=e=q=0;for(f=l.ya.length;d<f;d++)for(u=l.ya[d],l.Ng[u.md]=q,q+=u.Ix,l.Mf[u.md]=e,e+=u.Ct,l.Go[u.md]=r,r+=u.hv,k=0,h=u.O.length;k<h;k++)p.push(Aa({},u.O[k]));l.O=p.concat(l.O);d=0;for(f=l.O.length;d<f;d++)l.O[d].index=d}c=0;for(b=a[5].length;c<b;c++)l=a[5][c],d=new Gb(this,l),this.Wl[d.name]=d,this.Wc.push(d);c=0;for(b=a[6].length;c<b;c++)l=a[6][c],d=new Hb(this,l),this.Yk[d.name]=d,this.Ld.push(d);c=0;for(b=this.Ld.length;c<b;c++)this.Ld[c].Ia();
c=0;for(b=this.Ld.length;c<b;c++)this.Ld[c].kn();c=0;for(b=this.ek.length;c<b;c++)this.ek[c].Ia();Q(this.ek);this.At=a[7];this.Xc=a[9];this.yg=1;this.tu=a[13];this.wa=a[14];this.so=a[15];this.Gx=a[17];this.pm=a[20];this.Bt=0<this.pm;this.Iw=a[22];this.ic=this.pr=a[23];this.lu=a[24];this.Ow=a[25];this.pa=a[27]&&!this.ue;this.Wj=Date.now();Q(this.pj);this.Tv()};var a=!1,c=0,h=[];e.prototype.Yw=function(a,b){function d(){c--;f.Sp()}var f=this;a.addEventListener("load",d);a.addEventListener("error",d);
h.push([a,b]);this.Sp()};e.prototype.Sp=function(){for(var a;h.length&&100>c;)c++,a=h.shift(),this.Hq(a[0],a[1])};e.prototype.rn=function(c,b){c.cocoonLazyLoad=!0;c.onerror=function(b){a=c.io=!0;console&&console.error&&console.error("Error loading image '"+c.src+"': ",b)};this.Uc?c.src=b:c.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(a){c.src=a},function(d){a=c.io=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",d)}):(c.crossOrigin=
"anonymous",this.Yw(c,b)));this.tg.push(c)};e.prototype.gv=function(a){var c,b;c=0;for(b=this.tg.length;c<b;c++)if(this.tg[c].Mt===a)return this.tg[c];return null};var k=0,p=!1;e.prototype.Lv=function(){this.zg&&(k=this.zg.bz(this.At))};e.prototype.co=function(){var a=k,c=0,b=0,d=!0,f,h,b=0;for(f=this.tg.length;b<f;b++){h=this.tg[b];var l=h.Jk;if(!l||0>=l)l=5E4;a+=l;h.src&&(h.complete||h.loaded)&&!h.io?c+=l:d=!1}d&&this.Ow&&this.zg&&(p||(this.zg.cz(),p=!0),b=this.zg.Ry(),c+=b,b<k&&(d=!1));this.$c=
0==a?1:c/a;return d};var z=!1;e.prototype.go=function(){if(this.xa||this.n){var c=this.xa||this.qm;this.kb&&this.rq();var b=window.innerWidth,d=window.innerHeight;this.$f===b&&this.Zf===d||this.setSize(b,d);this.$c=0;this.wp=-1;var k=this;if(this.co()&&(4!==this.De||z))this.Mv();else{d=Date.now()-this.Wj;if(c){var h=this.width,l=this.height,b=this.devicePixelRatio;if(3>this.De&&(this.tc||500<=d&&this.wp!=this.$c)){c.clearRect(0,0,h,l);var d=h/2,l=l/2,h=0===this.De&&this.Ce.kj.complete,p=40*b,u=0,
q=80*b,e;if(h){var r=this.Ce.kj,q=r.width*b;e=r.height*b;p=q/2;u=e/2;c.drawImage(r,D(d-p),D(l-u),q,e)}1>=this.De?(d=D(d-p)+.5,l=D(l+(u+(h?12*b:0)))+.5,c.fillStyle=a?"red":"DodgerBlue",c.fillRect(d,l,Math.floor(q*this.$c),6*b),c.strokeStyle="black",c.strokeRect(d,l,q,6*b),c.strokeStyle="white",c.strokeRect(d-1*b,l-1*b,q+2*b,8*b)):2===this.De&&(c.font=this.Uc?"12pt ArialMT":"12pt Arial",c.fillStyle=a?"#f00":"#999",c.ez="middle",b=Math.round(100*this.$c)+"%",h=c.measureText?c.measureText(b):null,c.fillText(b,
d-(h?h.width:0)/2,l));this.wp=this.$c}else if(4===this.De){this.qu(c);f?f(function(){k.go()}):setTimeout(function(){k.go()},16);return}}setTimeout(function(){k.go()},this.tc?10:100)}}};var q=-1,l="undefined"===typeof cr_is_preview?200:0,u=!0,U=!1,C=0,sa=0,ka="undefined"===typeof cr_is_preview?3E3:0,K=null,N=null,A=0;e.prototype.qu=function(c){if(!z){for(var b=Math.ceil(this.width),d=Math.ceil(this.height),f=this.Ce.kj,k=this.Ce.Nw,h=this.Ce.Lx,p=0;4>p;++p)if(!f[p].complete||!k[p].complete||!h[p].complete)return;
0===A&&(q=Date.now());var p=Date.now(),e=!1,r=c,g,m;u||U?(c.clearRect(0,0,b,d),K&&K.width===b&&K.height===d||(K=document.createElement("canvas"),K.width=b,K.height=d,N=K.getContext("2d")),r=N,e=!0,u&&1===A&&(q=Date.now())):c.globalAlpha=1;r.fillStyle="#333333";r.fillRect(0,0,b,d);256<this.Fg?(g=Ia(.22*d,105,.6*b),m=.25*g,r.drawImage(n(k,g),.5*b-g/2,.2*d-m/2,g,m),m=g=Math.min(.395*d,.95*b),r.drawImage(n(f,g),.5*b-g/2,.485*d-m/2,g,m),g=Ia(.22*d,105,.6*b),m=.25*g,r.drawImage(n(h,g),.5*b-g/2,.868*d-m/
2,g,m),r.fillStyle="#3C3C3C",g=b,m=Math.max(.005*d,2),r.fillRect(0,.8*d-m/2,g,m),r.fillStyle=a?"red":"#E0FF65",g=b*this.$c,r.fillRect(.5*b-g/2,.8*d-m/2,g,m)):(m=g=.55*d,r.drawImage(n(f,g),.5*b-g/2,.45*d-m/2,g,m),r.fillStyle="#3C3C3C",g=b,m=Math.max(.005*d,2),r.fillRect(0,.85*d-m/2,g,m),r.fillStyle=a?"red":"#E0FF65",g=b*this.$c,r.fillRect(.5*b-g/2,.85*d-m/2,g,m));e&&(u?c.globalAlpha=0===A?0:Math.min((p-q)/300,1):U&&(c.globalAlpha=Math.max(1-(p-sa)/300,0)),c.drawImage(K,0,0,b,d));u&&300<=p-q&&2<=A&&
(u=!1,C=p);!u&&p-C>=ka&&!U&&1<=this.$c&&(U=!0,sa=p);if(U&&p-sa>=300+l||"undefined"!==typeof cr_is_preview&&1<=this.$c&&500>Date.now()-q)z=!0,U=u=!1,this.Ce=N=K=null;++A}};e.prototype.Mv=function(){this.kb&&(this.canvas.parentNode.removeChild(this.kb),this.kb=this.qm=null);this.Wj=Date.now();this.jf=Xa();var a,c,b;if(this.pn)for(a=0,c=this.p.length;a<c;a++)b=this.p[a],b.G||b.Hl||!b.na.we||b.J();else this.Yi=!1;a=0;for(c=this.Wc.length;a<c;a++)this.Wc[a].Ot();2<=this.Hb&&(a=this.Ba/this.Aa,c=this.width/
this.height,this.yg=2!==this.Hb&&c>a||2===this.Hb&&c<a?this.height/this.Aa:this.width/this.Ba);this.Mo?this.Wl[this.Mo].Sm():this.Wc[0].Sm();this.pn||(this.hj=1,this.trigger(X.prototype.g.Bn,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(c=this.p.length;a<c;a++)b=this.p[a],b.gq&&b.gq();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.xb(!1);this.Od&&
AppMobi.webview.execute("onGameReady();")};e.prototype.xb=function(a,c,b){if(this.ga){var d=Xa();if(b||!this.ff||a){a||(f?this.ym=f(this.Zq):this.an=setTimeout(this.Zq,this.ve?1:16));c=c||d;var k=this.Hb;((b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.uc)||this.Ti)&&0<this.Of&&(k=this.Of);if(0<k){var k=window.innerWidth,h=window.innerHeight;this.$f===k&&this.Zf===h||this.setSize(k,h)}this.Sa||(b?this.Bi||(this.Bi=!0):this.Bi?(this.Bi=
!1,0===this.Hb&&this.setSize(Math.round(this.fq/this.devicePixelRatio),Math.round(this.dq/this.devicePixelRatio),!0)):(this.fq=this.width,this.dq=this.height));this.Yi&&(b=this.co(),this.hj=this.$c,b&&(this.Yi=!1,this.$c=1,this.trigger(X.prototype.g.Bn,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.jw(c);!this.Z&&!this.tc||this.Ml||this.Mh||a||(this.Z=!1,this.n?this.Gb():this.Sc(),this.Kh&&(this.canvas&&this.canvas.toDataURL&&(this.Rq=this.canvas.toDataURL(this.Kh[0],this.Kh[1]),window.cr_onSnapshot&&
window.cr_onSnapshot(this.Rq),this.trigger(X.prototype.g.Zr,null)),this.Kh=null));this.Sy||(this.Gc++,this.Kg++,this.Fi++);this.qh+=Xa()-d}}};e.prototype.jw=function(a){var c,b,d,k,f,h,l,p;1E3<=a-this.jf&&(this.jf+=1E3,1E3<=a-this.jf&&(this.jf=a),this.cl=this.Fi,this.Fi=0,this.Ik=this.qh,this.qh=0);c=0;0!==this.$i&&(c=a-this.$i,0>c&&(c=0),this.ne=c/=1E3,.5<this.ne?this.ne=0:this.ne>1/this.Wp&&(this.ne=1/this.Wp));this.$i=a;this.Jf=this.ne*this.ng;this.$b.add(this.Jf);this.jk.add(c);a=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Ti)&&!this.uc;2<=this.Hb||a&&0<this.Of?(c=this.Ba/this.Aa,b=this.width/this.height,d=this.Hb,a&&0<this.Of&&(d=this.Of),this.yg=2!==d&&b>c||2===d&&b<c?this.height/this.Aa:this.width/this.Ba,this.ga&&(this.ga.Jm(this.ga.scrollX),this.ga.Km(this.ga.scrollY))):this.yg=this.ef?this.devicePixelRatio:1;this.mb();this.Vc++;this.Bd.gx();this.Vc--;this.mb();this.Vc++;b=this.jm.qc();a=0;for(c=b.length;a<c;a++)b[a].Rw();a=
0;for(c=this.p.length;a<c;a++)if(h=this.p[a],!h.G&&(h.Ca.length||h.ya.length))for(b=0,d=h.e.length;b<d;b++)for(l=h.e[b],k=0,f=l.K.length;k<f;k++)l.K[k].xb();a=0;for(c=this.p.length;a<c;a++)if(h=this.p[a],!h.G&&(h.Ca.length||h.ya.length))for(b=0,d=h.e.length;b<d;b++)for(l=h.e[b],k=0,f=l.K.length;k<f;k++)p=l.K[k],p.Mw&&p.Mw();b=this.km.qc();a=0;for(c=b.length;a<c;a++)b[a].xb();this.Vc--;this.Nv();for(a=0;this.Ek&&10>a++;)this.Bo(this.Ek);a=0;for(c=this.Ld.length;a<c;a++)this.Ld[a].pl=!1;this.ga.Xe&&
this.ga.Xe.Ma();Q(this.Bm);this.Vl=!1;this.Vc++;a=0;for(c=this.p.length;a<c;a++)if(h=this.p[a],!h.G&&(h.Ca.length||h.ya.length))for(b=0,d=h.e.length;b<d;b++)for(l=h.e[b],k=0,f=l.K.length;k<f;k++)p=l.K[k],p.yf&&p.yf();b=this.lm.qc();a=0;for(c=b.length;a<c;a++)b[a].yf();this.Vc--};e.prototype.qf=function(){var a,c,b,d,k,f,h,l,p;a=0;for(c=this.p.length;a<c;a++)if(h=this.p[a],!h.G)for(b=0,d=h.e.length;b<d;b++)if(l=h.e[b],l.qf&&l.qf(),l.K)for(k=0,f=l.K.length;k<f;k++)p=l.K[k],p.qf&&p.qf()};e.prototype.Bo=
function(a){var c=this.ga;this.ga.vx();var b,d,k;if(this.n)for(b=0,d=this.p.length;b<d;b++)k=this.p[b],k.G||!k.jn||k.global&&0!==k.e.length||-1!==a.Vg.indexOf(k)||k.jn();c==a&&Q(this.Bd.Rb);Q(this.Bm);this.Bq(!0);a.Sm();this.Bq(!1);this.Vl=this.Z=!0;this.mb()};e.prototype.Bq=function(a){var c,b,d,k,f,h,l,p,u;c=0;for(b=this.Ca.length;c<b;c++)d=this.Ca[c],a?d.hg&&d.hg():d.wh&&d.wh();c=0;for(b=this.p.length;c<b;c++)if(d=this.p[c],d.global||d.na.Vj)for(k=0,f=d.e.length;k<f;k++)if(h=d.e[k],a?h.hg&&h.hg():
h.wh&&h.wh(),h.K)for(l=0,p=h.K.length;l<p;l++)u=h.K[l],a?u.hg&&u.hg():u.wh&&u.wh()};e.prototype.Sw=function(a){this.jm.add(a)};e.prototype.$m=function(a){this.km.add(a)};e.prototype.Yq=function(a){this.lm.add(a)};e.prototype.Pf=function(a){return a&&-1!==a.uh?this.ne*a.uh:this.Jf};e.prototype.Sc=function(){this.ga.Sc(this.xa);this.Od&&this.xa.present()};e.prototype.Gb=function(){this.pa&&(this.We=1,this.ga.Ve(this.n));this.ga.Gb(this.n);this.n.Qw()};e.prototype.pt=function(a){a&&this.Tk.push(a)};
e.prototype.jl=function(a){a=a.toString();return this.Td.hasOwnProperty(a)?this.Td[a]:null};var M=[];e.prototype.Jc=function(a){var c,b;c=a.type.name;var d=null;if(this.Ue.hasOwnProperty(c)){if(d=this.Ue[c],d.contains(a))return}else d=M.length?M.pop():new ca,this.Ue[c]=d;d.add(a);this.qe=!0;if(a.Bb)for(c=0,b=a.siblings.length;c<b;c++)this.Jc(a.siblings[c]);this.Fl&&d.qg.push(a);this.El||(this.Vc++,this.trigger(Object.getPrototypeOf(a.type.na).g.as,a),this.Vc--)};e.prototype.mb=function(){if(this.qe){var a,
c,b,d,k,f;this.Fl=!0;b=0;for(k=this.Rc.length;b<k;++b)for(a=this.Rc[b],c=a.type,c.e.push(a),d=0,f=c.ya.length;d<f;++d)c.ya[d].e.push(a),c.ya[d].mg=!0;Q(this.Rc);this.Pr();Wa(this.Ue);this.qe=this.Fl=!1}};e.prototype.Pr=function(){for(var a in this.Ue)this.Ue.hasOwnProperty(a)&&this.yr(this.Ue[a])};e.prototype.yr=function(a){var c=a.qc(),b=c[0].type,d,k,f,h,l,p;Za(b.e,a);b.mg=!0;0===b.e.length&&(b.ai=!1);d=0;for(k=b.ya.length;d<k;++d)p=b.ya[d],Za(p.e,a),p.mg=!0;d=0;for(k=this.Bd.Rb.length;d<k;++d)if(l=
this.Bd.Rb[d],l.Cb.hasOwnProperty(b.index)&&Za(l.Cb[b.index].Nd,a),!b.G)for(f=0,h=b.ya.length;f<h;++f)p=b.ya[f],l.Cb.hasOwnProperty(p.index)&&Za(l.Cb[p.index].Nd,a);if(l=c[0].k){if(l.pc)for(f=l.e,d=0,k=f.length;d<k;++d)h=f[d],a.contains(h)&&(h.U(),l.lb.update(h,h.Nb,null),h.Nb.set(0,0,-1,-1));Za(l.e,a);l.Gh(0)}for(d=0;d<c.length;++d)this.xr(c[d],b);a.clear();M.push(a);this.Z=!0};e.prototype.xr=function(a,c){var b,d,k;b=0;for(d=this.Tk.length;b<d;++b)this.Tk[b](a);a.ie&&c.mi.update(a,a.ie,null);(b=
a.k)&&b.ig(a,!0);if(a.K)for(b=0,d=a.K.length;b<d;++b)k=a.K[b],k.td&&k.td(),k.behavior.sh.remove(a);this.jm.remove(a);this.km.remove(a);this.lm.remove(a);a.td&&a.td();this.Td.hasOwnProperty(a.uid.toString())&&delete this.Td[a.uid.toString()];this.qj--;100>c.si.length&&c.si.push(a)};e.prototype.Kk=function(a,c,b,d){if(a.G){var k=D(Math.random()*a.qd.length);return this.Kk(a.qd[k],c,b,d)}return a.sc?this.ke(a.sc,c,!1,b,d,!1):null};var T=[];e.prototype.ke=function(a,c,b,d,k,f){var h,l,p,u;if(!a)return null;
var q=this.p[a[1]],e=q.na.we;if(this.Yi&&e&&!q.Hl||e&&!this.n&&11===a[0][11])return null;var r=c;e||(c=null);var g;q.si.length?(g=q.si.pop(),g.ec=!0,q.na.Q.call(g,q)):(g=new q.na.Q(q),g.ec=!1);!b||f||this.Td.hasOwnProperty(a[2].toString())?g.uid=this.vh++:g.uid=a[2];this.Td[g.uid.toString()]=g;g.uq=this.aq++;g.cf=q.e.length;h=0;for(l=this.Rc.length;h<l;++h)this.Rc[h].type===q&&g.cf++;g.Qg=Eb;g.toString=Fb;p=a[3];if(g.ec)Wa(g.I);else{g.I={};if("undefined"!==typeof cr_is_preview)for(g.jp=[],g.jp.length=
p.length,h=0,l=p.length;h<l;h++)g.jp[h]=p[h][1];g.qa=[];g.qa.length=p.length}h=0;for(l=p.length;h<l;h++)g.qa[h]=p[h][0];if(e){var z=a[0];g.x=ga(d)?z[0]:d;g.y=ga(k)?z[1]:k;g.z=z[2];g.width=z[3];g.height=z[4];g.depth=z[5];g.j=z[6];g.opacity=z[7];g.Ib=z[8];g.Jb=z[9];g.nb=z[10];h=z[11];!this.n&&q.O.length&&(g.nb=h);g.Bg=hb(g.nb);this.A&&ib(g,g.nb,this.A);if(g.ec){h=0;for(l=z[12].length;h<l;h++)for(p=0,u=z[12][h].length;p<u;p++)g.Ea[h][p]=z[12][h][p];g.N.set(0,0,0,0);g.ie.set(0,0,-1,-1);g.Nb.set(0,0,-1,
-1);g.Pa.Ad(g.N);Q(g.wk)}else{g.Ea=z[12].slice(0);h=0;for(l=g.Ea.length;h<l;h++)g.Ea[h]=z[12][h].slice(0);g.ka=[];g.be=[];g.be.length=q.O.length;g.N=new J(0,0,0,0);g.ie=new J(0,0,-1,-1);g.Nb=new J(0,0,-1,-1);g.Pa=new ta;g.wk=[];g.H=Ib;g.My=Jb;g.Za=Kb;g.U=Lb;g.Fx=Mb;g.lr=Nb;g.nd=Ob}g.Cd=!1;g.Ax=0;g.zx=0;g.yx=null;14===z.length&&(g.Cd=!0,g.Ax=z[13][0],g.zx=z[13][1],g.yx=z[13][2]);h=0;for(l=q.O.length;h<l;h++)g.be[h]=!0;g.Vd=!0;g.cd=Pb;g.cd();g.nr=!!g.ka.length;g.vk=!0;g.Ak=!0;q.$h=!0;g.visible=!0;g.uh=
-1;g.k=c;g.dd=c.e.length;g.We=0;"undefined"===typeof g.D&&(g.D=null);this.Z=g.Qc=!0}var m;Q(T);h=0;for(l=q.ya.length;h<l;h++)T.push.apply(T,q.ya[h].Ca);T.push.apply(T,q.Ca);if(g.ec)for(h=0,l=T.length;h<l;h++){var n=T[h];m=g.K[h];m.ec=!0;n.behavior.Q.call(m,n,g);z=a[4][h];p=0;for(u=z.length;p<u;p++)m.u[p]=z[p];m.J();n.behavior.sh.add(g)}else for(g.K=[],h=0,l=T.length;h<l;h++)n=T[h],m=new n.behavior.Q(n,g),m.ec=!1,m.u=a[4][h].slice(0),m.J(),g.K.push(m),n.behavior.sh.add(g);z=a[5];if(g.ec)for(h=0,l=
z.length;h<l;h++)g.u[h]=z[h];else g.u=z.slice(0);this.Rc.push(g);this.qe=!0;c&&(c.xg(g,!0),1!==c.zc||1!==c.Ac)&&(q.ai=!0);this.qj++;if(q.Bb){if(g.Bb=!0,g.ec?Q(g.siblings):g.siblings=[],!b&&!f){h=0;for(l=q.Vb.length;h<l;h++)if(q.Vb[h]!==q){if(!q.Vb[h].sc)return null;g.siblings.push(this.ke(q.Vb[h].sc,r,!1,e?g.x:d,e?g.y:k,!0))}h=0;for(l=g.siblings.length;h<l;h++)for(g.siblings[h].siblings.push(g),p=0;p<l;p++)h!==p&&g.siblings[h].siblings.push(g.siblings[p])}}else g.Bb=!1,g.siblings=null;g.J();h=0;for(l=
g.K.length;h<l;h++)g.K[h].Lw&&g.K[h].Lw();return g};e.prototype.Ji=function(a){var c,b;c=0;for(b=this.ga.P.length;c<b;c++){var d=this.ga.P[c];if(kb(d.name,a))return d}return null};e.prototype.Qf=function(a){a=D(a);0>a&&(a=0);a>=this.ga.P.length&&(a=this.ga.P.length-1);return this.ga.P[a]};e.prototype.Wo=function(a){return ha(a)?this.Qf(a):this.Ji(a.toString())};e.prototype.Fk=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].ca().da=!0};e.prototype.Ch=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Ch()};
e.prototype.Aj=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Aj()};e.prototype.rf=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].rf()};e.prototype.jr=function(a){if(a.$h){var c,b,d=a.e;c=0;for(b=d.length;c<b;++c)d[c].lr();d=this.Rc;c=0;for(b=d.length;c<b;++c)d[c].type===a&&d[c].lr();a.$h=!1}};e.prototype.Qo=function(a,c,b,d){var k,h,f=a?1!==a.zc||1!==a.Ac:!1;if(c.G)for(a=0,k=c.qd.length;a<k;++a)h=c.qd[a],f||h.ai?Fa(d,h.e):(this.jr(h),h.mi.Cj(b,d));else f||c.ai?Fa(d,c.e):(this.jr(c),c.mi.Cj(b,
d))};e.prototype.Li=function(a,c,b,d){var k,h;k=0;for(h=c.length;k<h;++k)this.Qo(a,c[k],b,d)};e.prototype.ml=function(a,c,b){var d=this.Rm;d&&this.Li(a,d.hm,c,b)};e.prototype.$j=function(a,c,b){var d=a.ca(),k,h,f,l,p=this.jb().hb.xc,u,q,e;if(d.da)for(d.da=!1,Q(d.e),k=0,l=a.e.length;k<l;k++)f=a.e[k],f.U(),u=f.k.Ab(c,b,!0),q=f.k.Ab(c,b,!1),f.Za(u,q)?d.e.push(f):p&&d.Y.push(f);else{h=0;e=p?d.Y:d.e;k=0;for(l=e.length;k<l;k++)f=e[k],f.U(),u=f.k.Ab(c,b,!0),q=f.k.Ab(c,b,!1),f.Za(u,q)&&(p?d.e.push(f):(d.e[h]=
d.e[k],h++));e.length=h}a.fe();return d.Ni()};e.prototype.ak=function(a,c){if(!(a&&c&&a!==c&&a.Qc&&c.Qc))return!1;a.U();c.U();var b=a.k,d=c.k,k,h,f,l,p,u,q,e;if(b===d||b.zc===d.zc&&d.Ac===d.Ac&&b.scale===d.scale&&b.j===d.j&&b.ed===d.ed){if(!a.N.Al(c.N)||!a.Pa.zl(c.Pa)||a.Cd&&c.Cd)return!1;if(a.Cd)return this.Vq(a,c);if(c.Cd)return this.Vq(c,a);q=a.D&&!a.D.od();k=c.D&&!c.D.od();if(!q&&!k)return!0;q?(a.D.jd(a.width,a.height,a.j),q=a.D):(this.Pb.Ud(a.Pa,a.x,a.y,a.width,a.height),q=this.Pb);k?(c.D.jd(c.width,
c.height,c.j),e=c.D):(this.Pb.Ud(c.Pa,c.x,c.y,c.width,c.height),e=this.Pb);return q.df(e,c.x-a.x,c.y-a.y)}q=a.D&&!a.D.od();k=c.D&&!c.D.od();q?(a.D.jd(a.width,a.height,a.j),this.Pb.Kq(a.D)):this.Pb.Ud(a.Pa,a.x,a.y,a.width,a.height);q=this.Pb;k?(c.D.jd(c.width,c.height,c.j),this.Vm.Kq(c.D)):this.Vm.Ud(c.Pa,c.x,c.y,c.width,c.height);e=this.Vm;k=0;for(h=q.nc;k<h;k++)f=2*k,l=f+1,p=q.Ja[f],u=q.Ja[l],q.Ja[f]=b.za(p+a.x,u+a.y,!0),q.Ja[l]=b.za(p+a.x,u+a.y,!1);q.U();k=0;for(h=e.nc;k<h;k++)f=2*k,l=f+1,p=e.Ja[f],
u=e.Ja[l],e.Ja[f]=d.za(p+c.x,u+c.y,!0),e.Ja[l]=d.za(p+c.x,u+c.y,!1);e.U();return q.df(e,0,0)};var O=new ta,H=new J(0,0,0,0),B=[];e.prototype.Vq=function(a,c){var b,d,k,h,f=c.N,l=a.x,p=a.y;a.Hi(f,B);var u=c.D&&!c.D.od();b=0;for(d=B.length;b<d;++b)if(k=B[b],h=k.Dj,f.Bl(h,l,p)&&(O.Ad(h),O.offset(l,p),O.zl(c.Pa)))if(u)if(c.D.jd(c.width,c.height,c.j),k.Yc){if(k.Yc.df(c.D,c.x-(l+h.left),c.y-(p+h.top)))return Q(B),!0}else{if(this.Pb.Ud(O,0,0,h.right-h.left,h.bottom-h.top),this.Pb.df(c.D,c.x,c.y))return Q(B),
!0}else if(k.Yc){if(this.Pb.Ud(c.Pa,0,0,c.width,c.height),k.Yc.df(this.Pb,-(l+h.left),-(p+h.top)))return Q(B),!0}else return Q(B),!0;Q(B);return!1};e.prototype.Wm=function(a,c){if(!c||!c.Qc)return!1;c.U();if(!c.N.Al(a))return!1;if(c.Cd){c.Hi(a,B);var b,d,k,h,f=c.x,l=c.y;b=0;for(d=B.length;b<d;++b)if(k=B[b],h=k.Dj,a.Bl(h,f,l))if(k.Yc){if(this.Pb.Ad(a,0,0),k.Yc.df(this.Pb,-(f+h.left),-(l+h.top)))return Q(B),!0}else return Q(B),!0;Q(B);return!1}O.Ad(a);if(!c.Pa.zl(O))return!1;if(!c.D||c.D.od())return!0;
c.D.jd(c.width,c.height,c.j);O.offset(-a.left,-a.top);this.Pb.Ud(O,0,0,1,1);return c.D.df(this.Pb,a.left-c.x,a.top-c.y)};e.prototype.Uq=function(a,c,b,d,k){if(!k||!k.Qc)return!1;k.U();H.set(na(a,b),na(c,d),ma(a,b),ma(c,d));if(!k.N.Al(H))return!1;if(k.Cd){k.Hi(H,B);var h,f,l,p=k.x,u=k.y;k=0;for(h=B.length;k<h;++k)if(f=B[k],l=f.Dj,H.Bl(l,p,u)&&(O.Ad(l),O.offset(p,u),O.Xg(a,c,b,d)))if(f.Yc){if(f.Yc.Xg(p+l.left,u+l.top,a,c,b,d))return Q(B),!0}else return Q(B),!0;Q(B);return!1}if(!k.Pa.Xg(a,c,b,d))return!1;
if(!k.D||k.D.od())return!0;k.D.jd(k.width,k.height,k.j);return k.D.Xg(k.x,k.y,a,c,b,d)};e.prototype.er=function(a,c){if(!c)return!1;var b,d,k,h,f;b=0;for(d=a.Ca.length;b<d;b++)if(a.Ca[b].behavior instanceof c)return!0;if(!a.G)for(b=0,d=a.ya.length;b<d;b++)for(f=a.ya[b],k=0,h=f.Ca.length;k<h;k++)if(f.Ca[k].behavior instanceof c)return!0;return!1};e.prototype.gn=function(a){return this.er(a,ec.ky)};e.prototype.hn=function(a){return this.er(a,ec.ly)};var E=[];e.prototype.wf=function(a){var c,b,d;a.U();
this.ml(a.k,a.N,E);c=0;for(b=E.length;c<b;++c)if(d=E[c],d.I.solidEnabled&&this.ak(a,d))return Q(E),d;Q(E);return null};e.prototype.xx=function(a){var c,b,d;this.ml(null,a,E);c=0;for(b=E.length;c<b;++c)if(d=E[c],d.I.solidEnabled&&this.Wm(a,d))return Q(E),d;Q(E);return null};e.prototype.vq=function(a,c,b,d){d=d||50;var k=a.x,h=a.y,f,l=null,p=null;for(f=0;f<d;f++)if(a.x=k+c*f,a.y=h+b*f,a.H(),!this.ak(a,l)&&((l=this.wf(a))&&(p=l),!l&&!l))return p&&this.Uw(a,c,b,p),!0;a.x=k;a.y=h;a.H();return!1};e.prototype.Uw=
function(a,c,b,d){var k=2,h,f=!1;h=!1;for(var l=a.x,p=a.y;16>=k;)h=1/k,k*=2,a.x+=c*h*(f?1:-1),a.y+=b*h*(f?1:-1),a.H(),this.ak(a,d)?h=f=!0:(h=f=!1,l=a.x,p=a.y);h&&(a.x=l,a.y=p,a.H())};e.prototype.Xw=function(a){var c=ga(void 0)?100:void 0,b=0,d=a.x,k=a.y,h=0,f=0,l=0,p=this.wf(a);if(!p)return!0;for(;b<=c;){switch(h){case 0:f=0;l=-1;b++;break;case 1:f=1;l=-1;break;case 2:f=1;l=0;break;case 3:l=f=1;break;case 4:f=0;l=1;break;case 5:f=-1;l=1;break;case 6:f=-1;l=0;break;case 7:l=f=-1}h=(h+1)%8;a.x=D(d+
f*b);a.y=D(k+l*b);a.H();if(!this.ak(a,p)&&(p=this.wf(a),!p))return!0}a.x=d;a.y=k;a.H();return!1};e.prototype.Fj=function(a,c){a.Qc&&c.Qc&&this.Bm.push([a,c])};var wa=-1;e.prototype.trigger=function(a,c,b){if(!this.ga)return!1;var d=this.ga.Xe;if(!d)return!1;var k=!1,h,f,l;wa++;var p=d.Pk;f=0;for(l=p.length;f<l;++f)h=this.br(a,c,p[f],b),k=k||h;h=this.br(a,c,d,b);wa--;return k||h};e.prototype.br=function(a,c,b,d){var k=!1,h,f,l,p;if(c)for(l=this.cn(a,c,c.type.name,b,d),k=k||l,p=c.type.ya,h=0,f=p.length;h<
f;++h)l=this.cn(a,c,p[h].name,b,d),k=k||l;else l=this.cn(a,c,"system",b,d),k=k||l;return k};e.prototype.cn=function(a,c,b,d,k){var h,f=!1,l=!1,l="undefined"!==typeof k,p=(l?d.Io:d.cr)[b];if(!p)return f;var u=null;d=0;for(h=p.length;d<h;++d)if(p[d].method==a){u=p[d].Jg;break}if(!u)return f;var q;l?q=u[k]:q=u;if(!q)return null;d=0;for(h=q.length;d<h;d++)a=q[d][0],k=q[d][1],l=this.Zu(c,b,a,k),f=f||l;return f};e.prototype.Zu=function(a,c,b,d){var k,h,f=!1;this.dn++;var l=this.jb().hb;l&&this.Ch(l.Me);
var p=1<this.dn;this.Ch(b.Me);p&&this.Vw();var u=this.Bj(b);u.hb=b;a&&(k=this.types[c].ca(),k.da=!1,Q(k.e),k.e[0]=a,this.types[c].fe());a=!0;if(b.parent){c=u.Tq;for(k=b.parent;k;)c.push(k),k=k.parent;c.reverse();k=0;for(h=c.length;k<h;k++)if(!c[k].ix()){a=!1;break}}a&&(this.Kg++,b.xc?b.hx(d):b.Ma(),f=f||u.hf);this.yj();p&&this.Jw();this.rf(b.Me);l&&this.rf(l.Me);this.qe&&0===this.Vc&&0===wa&&!this.Il&&this.mb();this.dn--;return f};e.prototype.Ii=function(){var a=this.jb();return a.hb.Ra[a.Qa]};e.prototype.mv=
function(){return this.Ii().type};e.prototype.Vw=function(){this.jj++;this.jj>=this.cm.length&&this.cm.push([])};e.prototype.Jw=function(){this.jj--};e.prototype.Ro=function(){return this.cm[this.jj]};e.prototype.Bj=function(a){this.xi++;this.xi>=this.Xk.length&&this.Xk.push(new Qb);var c=this.jb();c.reset(a);return c};e.prototype.yj=function(){this.xi--};e.prototype.jb=function(){return this.Xk[this.xi]};e.prototype.Ww=function(){this.lj++;this.lj>=this.dm.length&&this.dm.push(aa({name:void 0,index:0,
Um:!1}));var a=this.nv();a.name=void 0;a.index=0;a.Um=!1;return a};e.prototype.Kw=function(){this.lj--};e.prototype.nv=function(){return this.dm[this.lj]};e.prototype.So=function(a,c){for(var b,d,k,h,f,l;c;){b=0;for(d=c.Ec.length;b<d;b++)if(l=c.Ec[b],l instanceof Rb&&kb(a,l.name))return l;c=c.parent}b=0;for(d=this.Ld.length;b<d;b++)for(f=this.Ld[b],k=0,h=f.oe.length;k<h;k++)if(l=f.oe[k],l instanceof Rb&&kb(a,l.name))return l;return null};e.prototype.Xo=function(a){var c,b;c=0;for(b=this.Wc.length;c<
b;c++)if(this.Wc[c].R===a)return this.Wc[c];return null};e.prototype.Ze=function(a){var c,b;c=0;for(b=this.p.length;c<b;c++)if(this.p[c].R===a)return this.p[c];return null};e.prototype.ov=function(a){var c,b;c=0;for(b=this.Gf.length;c<b;c++)if(this.Gf[c].R===a)return this.Gf[c];return null};e.prototype.Ut=function(a,c){this.Kh=[a,c];this.Z=!0};e.prototype.Nv=function(){var a=this,c=this.Im,b=this.Qd,d=this.ej,k=!1;this.Oq&&(k=!0,c="__c2_continuouspreview",this.Oq=!1);if(c.length){this.mb();b=this.mx();
if(m()&&!this.tc)t(c,b,function(){ea("Saved state to IndexedDB storage ("+b.length+" bytes)");a.Qd=b;a.trigger(X.prototype.g.pk,null);a.Qd="";k&&r()},function(d){try{localStorage.setItem("__c2save_"+c,b),ea("Saved state to WebStorage ("+b.length+" bytes)"),a.Qd=b,a.trigger(X.prototype.g.pk,null),a.Qd="",k&&r()}catch(h){ea("Failed to save game state: "+d+"; "+h),a.trigger(X.prototype.g.Gn,null)}});else try{localStorage.setItem("__c2save_"+c,b),ea("Saved state to WebStorage ("+b.length+" bytes)"),a.Qd=
b,this.trigger(X.prototype.g.pk,null),a.Qd="",k&&r()}catch(h){ea("Error saving to WebStorage: "+h),a.trigger(X.prototype.g.Gn,null)}this.ej=this.Im="";this.Va=null}if(d.length){if(m()&&!this.tc)v(d,function(c){c?(a.Va=c,ea("Loaded state from IndexedDB storage ("+a.Va.length+" bytes)")):(a.Va=localStorage.getItem("__c2save_"+d)||"",ea("Loaded state from WebStorage ("+a.Va.length+" bytes)"));a.Mh=!1;a.Va||(a.Va=null,a.trigger(X.prototype.g.Zh,null))},function(){a.Va=localStorage.getItem("__c2save_"+
d)||"";ea("Loaded state from WebStorage ("+a.Va.length+" bytes)");a.Mh=!1;a.Va||(a.Va=null,a.trigger(X.prototype.g.Zh,null))});else{try{this.Va=localStorage.getItem("__c2save_"+d)||"",ea("Loaded state from WebStorage ("+this.Va.length+" bytes)")}catch(f){this.Va=null}this.Mh=!1;a.Va||(a.Va=null,a.trigger(X.prototype.g.Zh,null))}this.Im=this.ej=""}null!==this.Va&&(this.mb(),this.iw(this.Va)?(this.Qd=this.Va,this.trigger(X.prototype.g.qs,null),this.Qd=""):a.trigger(X.prototype.g.Zh,null),this.Va=null)};
e.prototype.mx=function(){var a,c,d,k,h,f,l,p={c2save:!0,version:1,rt:{time:this.$b.X,walltime:this.jk.X,timescale:this.ng,tickcount:this.Gc,execcount:this.Kg,next_uid:this.vh,running_layout:this.ga.R,start_time_offset:Date.now()-this.Wj},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(c=this.p.length;a<c;a++)if(h=this.p[a],!h.G&&!this.gn(h)){f={instances:[]};Va(h.I)&&(f.ex=b(h.I));d=0;for(k=h.e.length;d<k;d++)f.instances.push(this.Hm(h.e[d]));p.types[h.R.toString()]=f}a=0;
for(c=this.Wc.length;a<c;a++)d=this.Wc[a],p.layouts[d.R.toString()]=d.Na();k=p.events.groups;a=0;for(c=this.Gf.length;a<c;a++)d=this.Gf[a],k[d.R.toString()]=this.Tf[d.Rg].$e;c=p.events.cnds;for(l in this.he)this.he.hasOwnProperty(l)&&(a=this.he[l],Va(a.I)&&(c[l]={ex:b(a.I)}));c=p.events.acts;for(l in this.ee)this.ee.hasOwnProperty(l)&&(a=this.ee[l],Va(a.I)&&(c[l]={ex:b(a.I)}));c=p.events.vars;for(l in this.rg)this.rg.hasOwnProperty(l)&&(a=this.rg[l],a.Ui||a.parent&&!a.ah||(c[l]=a.data));p.system=
this.Bd.Na();return JSON.stringify(p)};e.prototype.yq=function(){var a,c,b,d,k,h;this.Td={};a=0;for(c=this.p.length;a<c;a++)if(b=this.p[a],!b.G)for(d=0,k=b.e.length;d<k;d++)h=b.e[d],this.Td[h.uid.toString()]=h};e.prototype.iw=function(a){var c;try{c=JSON.parse(a)}catch(b){return!1}if(!c.c2save||1<c.version)return!1;this.Zg=!0;a=c.rt;this.$b.reset();this.$b.X=a.time;this.jk.reset();this.jk.X=a.walltime||0;this.ng=a.timescale;this.Gc=a.tickcount;this.Kg=a.execcount;this.Wj=Date.now()-a.start_time_offset;
var d=a.running_layout;if(d!==this.ga.R)if(d=this.Xo(d))this.Bo(d);else return;var k,h,f,l,p,u,q;u=c.types;for(h in u)if(u.hasOwnProperty(h)&&(l=this.Ze(parseInt(h,10)))&&!l.G&&!this.gn(l)){u[h].ex?l.I=u[h].ex:Wa(l.I);p=l.e;f=u[h].instances;d=0;for(k=na(p.length,f.length);d<k;d++)this.fj(p[d],f[d]);d=f.length;for(k=p.length;d<k;d++)this.Jc(p[d]);d=p.length;for(k=f.length;d<k;d++){p=null;if(l.na.we&&(p=this.ga.Ki(f[d].w.l),!p))continue;p=this.ke(l.sc,p,!1,0,0,!0);this.fj(p,f[d])}l.mg=!0}this.mb();
this.yq();k=c.layouts;for(h in k)k.hasOwnProperty(h)&&(d=this.Xo(parseInt(h,10)))&&d.bb(k[h]);k=c.events.groups;for(h in k)k.hasOwnProperty(h)&&(d=this.ov(parseInt(h,10)))&&this.Tf[d.Rg]&&this.Tf[d.Rg].Oj(k[h]);d=c.events.cnds;for(h in this.he)this.he.hasOwnProperty(h)&&(d.hasOwnProperty(h)?this.he[h].I=d[h].ex:this.he[h].I={});d=c.events.acts;for(h in this.ee)this.ee.hasOwnProperty(h)&&(d.hasOwnProperty(h)?this.ee[h].I=d[h].ex:this.ee[h].I={});d=c.events.vars;for(h in d)d.hasOwnProperty(h)&&this.rg.hasOwnProperty(h)&&
(this.rg[h].data=d[h]);this.vh=a.next_uid;this.Zg=!1;d=0;for(k=this.Ai.length;d<k;++d)p=this.Ai[d],this.trigger(Object.getPrototypeOf(p.type.na).g.Df,p);Q(this.Ai);this.Bd.bb(c.system);d=0;for(k=this.p.length;d<k;d++)if(l=this.p[d],!l.G&&!this.gn(l))for(c=0,h=l.e.length;c<h;c++){p=l.e[c];if(l.Bb)for(u=p.Qg(),Q(p.siblings),a=0,f=l.Vb.length;a<f;a++)q=l.Vb[a],l!==q&&p.siblings.push(q.e[u]);p.Ed&&p.Ed();if(p.K)for(a=0,f=p.K.length;a<f;a++)u=p.K[a],u.Ed&&u.Ed()}return this.Z=!0};e.prototype.Hm=function(a,
c){var d,k,h,f,l;f=a.type;h=f.na;var p={};c?p.c2=!0:p.uid=a.uid;Va(a.I)&&(p.ex=b(a.I));if(a.qa&&a.qa.length)for(p.ivs={},d=0,k=a.qa.length;d<k;d++)p.ivs[a.type.yl[d].toString()]=a.qa[d];if(h.we){h={x:a.x,y:a.y,w:a.width,h:a.height,l:a.k.R,zi:a.nd()};0!==a.j&&(h.a=a.j);1!==a.opacity&&(h.o=a.opacity);.5!==a.Ib&&(h.hX=a.Ib);.5!==a.Jb&&(h.hY=a.Jb);0!==a.nb&&(h.bm=a.nb);a.visible||(h.v=a.visible);a.Qc||(h.ce=a.Qc);-1!==a.uh&&(h.mts=a.uh);if(f.O.length)for(h.fx=[],d=0,k=f.O.length;d<k;d++)l=f.O[d],h.fx.push({name:l.name,
active:a.be[l.index],params:a.Ea[l.index]});p.w=h}if(a.K&&a.K.length)for(p.behs={},d=0,k=a.K.length;d<k;d++)f=a.K[d],f.Na&&(p.behs[f.type.R.toString()]=f.Na());a.Na&&(p.data=a.Na());return p};e.prototype.qv=function(a,c){var b,d;b=0;for(d=a.yl.length;b<d;b++)if(a.yl[b]===c)return b;return-1};e.prototype.lv=function(a,c){var b,d;b=0;for(d=a.K.length;b<d;b++)if(a.K[b].type.R===c)return b;return-1};e.prototype.fj=function(a,c,b){var d,k,h,f,l;l=a.type;var p=l.na;if(b){if(!c.c2)return}else a.uid=c.uid;
c.ex?a.I=c.ex:Wa(a.I);if(k=c.ivs)for(d in k)k.hasOwnProperty(d)&&(h=this.qv(l,parseInt(d,10)),0>h||h>=a.qa.length||(f=k[d],null===f&&(f=NaN),a.qa[h]=f));if(p.we){h=c.w;a.k.R!==h.l&&(k=a.k,a.k=this.ga.Ki(h.l),a.k?(k.ig(a,!0),a.k.xg(a,!0),a.H(),a.k.Gh(0)):(a.k=k,b||this.Jc(a)));a.x=h.x;a.y=h.y;a.width=h.w;a.height=h.h;a.dd=h.zi;a.j=h.hasOwnProperty("a")?h.a:0;a.opacity=h.hasOwnProperty("o")?h.o:1;a.Ib=h.hasOwnProperty("hX")?h.hX:.5;a.Jb=h.hasOwnProperty("hY")?h.hY:.5;a.visible=h.hasOwnProperty("v")?
h.v:!0;a.Qc=h.hasOwnProperty("ce")?h.ce:!0;a.uh=h.hasOwnProperty("mts")?h.mts:-1;a.nb=h.hasOwnProperty("bm")?h.bm:0;a.Bg=hb(a.nb);this.A&&ib(a,a.nb,this.A);a.H();if(h.hasOwnProperty("fx"))for(b=0,k=h.fx.length;b<k;b++)f=l.gl(h.fx[b].name),0>f||(a.be[f]=h.fx[b].active,a.Ea[f]=h.fx[b].params);a.cd()}if(l=c.behs)for(d in l)l.hasOwnProperty(d)&&(b=this.lv(a,parseInt(d,10)),0>b||a.K[b].bb(l[d]));c.data&&a.bb(c.data)};e.prototype.Jo=function(a,c,b){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+
"www/"+a,function(a){a.file(c,b)},b)};e.prototype.bv=function(a,c){this.Jo("data.js",function(b){var d=new FileReader;d.onload=function(c){a(c.target.result)};d.onerror=c;d.readAsText(b)},c)};var xa=[],L=0;e.prototype.em=function(){if(xa.length&&!(8<=L)){L++;var a=xa.shift();this.Xt(a.filename,a.wx,a.wu)}};e.prototype.$u=function(a,c,b){var d=this;xa.push({filename:a,wx:function(a){L--;d.em();c(a)},wu:function(a){L--;d.em();b(a)}});this.em()};e.prototype.Xt=function(a,c,b){this.Jo(a,function(a){var b=
new FileReader;b.onload=function(a){c(a.target.result)};b.readAsArrayBuffer(a)},b)};e.prototype.cv=function(a,c,b){var d="",k=a.toLowerCase(),h=k.substr(k.length-4),k=k.substr(k.length-5);".mp4"===h?d="video/mp4":".webm"===k?d="video/webm":".m4a"===h?d="audio/mp4":".mp3"===h&&(d="audio/mpeg");this.$u(a,function(a){a=URL.createObjectURL(new Blob([a],{type:d}));c(a)},b)};e.prototype.Uv=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};e.prototype.Hq=function(a,
c){this.mp&&!this.Uv(c)?this.cv(c,function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src=c};e.prototype.Mj=function(a,c){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=c:(a.webkitImageSmoothingEnabled=c,a.mozImageSmoothingEnabled=c,a.msImageSmoothingEnabled=c)};Sb=function(a){return new e(document.getElementById(a))};Tb=function(a,c){return new e({dc:!0,width:a,height:c})};window.cr_createRuntime=Sb;window.cr_createDCRuntime=Tb;window.createCocoonJSRuntime=
function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Ag=!0;document.body.appendChild(a);a=new e(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new e(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,
window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var e=document.getElementById("c2canvas");return e?e.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(e,n){var m=window.cr_getC2Runtime();m&&m.Ut(e,n)};window.cr_sizeCanvas=function(e,n){if(0!==e&&0!==n){var m=window.cr_getC2Runtime();m&&m.setSize(e,n)}};window.cr_setSuspended=function(e){var n=window.cr_getC2Runtime();n&&n.setSuspended(e)};
(function(){function e(a,c){this.b=a;this.Xe=null;this.scrollX=this.b.Ba/2;this.scrollY=this.b.Aa/2;this.scale=1;this.j=0;this.Nf=!0;this.name=c[0];this.Ew=c[1];this.Dw=c[2];this.width=c[1];this.height=c[2];this.gr=c[3];this.Nq=c[4];this.R=c[5];var b=c[6],d,f;this.P=[];this.Vg=[];d=0;for(f=b.length;d<f;d++){var e=new Ub(this,b[d]);e.bq=d;this.P.push(e)}b=c[7];this.te=[];d=0;for(f=b.length;d<f;d++){var e=b[d],q=this.b.p[e[1]];q.sc||(q.sc=e);this.te.push(e);-1===this.Vg.indexOf(q)&&this.Vg.push(q)}this.O=
[];this.ka=[];this.Vd=!0;this.Ea=[];d=0;for(f=c[8].length;d<f;d++)this.O.push({id:c[8][d][0],name:c[8][d][1],Oa:-1,Zc:!1,gc:!0,index:d}),this.Ea.push(c[8][d][2].slice(0));this.cd();this.Je=new J(0,0,1,1);this.Am=new J(0,0,1,1);this.Ie={}}function n(a,c){return a.dd-c.dd}function m(a,c){this.Ua=a;this.b=a.b;this.e=[];this.scale=1;this.j=0;this.Jd=!1;this.Yd=new J(0,0,0,0);this.$q=new ta;this.ia=this.ja=this.ma=this.ea=0;this.Af=!1;this.$d=-1;this.Gk=0;this.name=c[0];this.index=c[1];this.R=c[2];this.visible=
c[3];this.Mc=c[4];this.bd=c[5];this.zc=c[6];this.Ac=c[7];this.opacity=c[8];this.Ei=c[9];this.pc=c[10];this.ed=c[11];this.nb=c[12];this.su=c[13];this.Bg="source-over";this.sb=this.ub=0;this.lb=null;this.Rd=g();this.ad=!0;this.ag=new J(0,0,-1,-1);this.gb=new J(0,0,-1,-1);this.pc&&(this.lb=new gb(this.b.Ba,this.b.Aa));this.zd=!1;var b=c[14],d,f;this.Sq=[];this.kc=[];this.Eg=[];d=0;for(f=b.length;d<f;d++){var e=b[d],q=this.b.p[e[1]];q.sc||(q.sc=e,q.zo=this.index);this.kc.push(e);-1===this.Ua.Vg.indexOf(q)&&
this.Ua.Vg.push(q)}S(this.Sq,this.kc);this.O=[];this.ka=[];this.Vd=!0;this.Ea=[];d=0;for(f=c[15].length;d<f;d++)this.O.push({id:c[15][d][0],name:c[15][d][1],Oa:-1,Zc:!1,gc:!0,index:d}),this.Ea.push(c[15][d][2].slice(0));this.cd();this.Je=new J(0,0,1,1);this.Am=new J(0,0,1,1)}function g(){return b.length?b.pop():[]}function t(a){Q(a);b.push(a)}e.prototype.lx=function(a){var c=a.type.R.toString();this.Ie.hasOwnProperty(c)||(this.Ie[c]=[]);this.Ie[c].push(this.b.Hm(a))};e.prototype.bp=function(){var a=
this.P[0];return!a.bd&&1===a.opacity&&!a.Ei&&a.visible};e.prototype.cd=function(){Q(this.ka);this.Vd=!0;var a,c,b;a=0;for(c=this.O.length;a<c;a++)b=this.O[a],b.gc&&(this.ka.push(b),b.Zc||(this.Vd=!1))};e.prototype.fl=function(a){var c,b,d;c=0;for(b=this.O.length;c<b;c++)if(d=this.O[c],d.name===a)return d;return null};var v=[],r=!0;e.prototype.Sm=function(){this.Nq&&(this.Xe=this.b.Yk[this.Nq],this.Xe.kn());this.b.ga=this;this.width=this.Ew;this.height=this.Dw;this.scrollX=this.b.Ba/2;this.scrollY=
this.b.Aa/2;var a,c,b,d,f,e,q;a=0;for(b=this.b.p.length;a<b;a++)if(c=this.b.p[a],!c.G)for(f=c.e,c=0,d=f.length;c<d;c++)if(e=f[c],e.k){var l=e.k.bq;l>=this.P.length&&(l=this.P.length-1);e.k=this.P[l];-1===e.k.e.indexOf(e)&&e.k.e.push(e);e.k.Af=!0}if(!r)for(a=0,b=this.P.length;a<b;++a)this.P[a].e.sort(n);Q(v);this.Dt();a=0;for(b=this.P.length;a<b;a++)e=this.P[a],e.Pt(),e.hk();f=!1;if(!this.Nf){for(q in this.Ie)if(this.Ie.hasOwnProperty(q)&&(c=this.b.Ze(parseInt(q,10)))&&!c.G&&this.b.hn(c)){d=this.Ie[q];
a=0;for(b=d.length;a<b;a++){e=null;if(c.na.we&&(e=this.Ki(d[a].w.l),!e))continue;e=this.b.ke(c.sc,e,!1,0,0,!0);this.b.fj(e,d[a]);f=!0;v.push(e)}Q(d)}a=0;for(b=this.P.length;a<b;a++)this.P[a].e.sort(n),this.P[a].Af=!0}f&&(this.b.mb(),this.b.yq());for(a=0;a<v.length;a++)if(e=v[a],e.type.Bb)for(b=e.Qg(),c=0,d=e.type.Vb.length;c<d;c++)q=e.type.Vb[c],e.type!==q&&(q.e.length>b?e.siblings.push(q.e[b]):q.sc&&(f=this.b.ke(q.sc,e.k,!0,e.x,e.y,!0),this.b.mb(),q.gk(),e.siblings.push(f),v.push(f)));a=0;for(b=
this.te.length;a<b;a++)e=this.te[a],c=this.b.p[e[1]],c.Bb||this.b.ke(this.te[a],null,!0);this.b.Ek=null;this.b.mb();if(this.b.xa&&!this.b.Sa)for(a=0,b=this.b.p.length;a<b;a++)q=this.b.p[a],!q.G&&q.e.length&&q.um&&q.um(this.b.xa);if(this.b.Zg)S(this.b.Ai,v);else for(a=0,b=v.length;a<b;a++)e=v[a],this.b.trigger(Object.getPrototypeOf(e.type.na).g.Df,e);Q(v);this.b.Zg||this.b.trigger(X.prototype.g.An,null);this.Nf=!1};e.prototype.Ot=function(){var a,c,b,d,f;c=a=0;for(b=this.te.length;a<b;a++)d=this.te[a],
f=this.b.p[d[1]],f.global?f.Bb||this.b.ke(d,null,!0):(this.te[c]=d,c++);Ea(this.te,c)};e.prototype.vx=function(){this.b.Zg||this.b.trigger(X.prototype.g.os,null);this.b.El=!0;Q(this.b.Bd.Rb);var a,c,b,d,f,e;if(!this.Nf)for(a=0,c=this.P.length;a<c;a++)for(this.P[a].nn(),f=this.P[a].e,b=0,d=f.length;b<d;b++)e=f[b],e.type.global||this.b.hn(e.type)&&this.lx(e);a=0;for(c=this.P.length;a<c;a++){f=this.P[a].e;b=0;for(d=f.length;b<d;b++)e=f[b],e.type.global||this.b.Jc(e);this.b.mb();Q(f);this.P[a].Af=!0}a=
0;for(c=this.b.p.length;a<c;a++)if(f=this.b.p[a],!(f.global||f.na.we||f.na.Vj||f.G)){b=0;for(d=f.e.length;b<d;b++)this.b.Jc(f.e[b]);this.b.mb()}r=!1;this.b.El=!1};new J(0,0,0,0);e.prototype.Sc=function(a){var c,b=a,d=!1,f=!this.b.ic;f&&(this.b.dj||(this.b.dj=document.createElement("canvas"),c=this.b.dj,c.width=this.b.M,c.height=this.b.L,this.b.yp=c.getContext("2d"),d=!0),c=this.b.dj,b=this.b.yp,c.width!==this.b.M&&(c.width=this.b.M,d=!0),c.height!==this.b.L&&(c.height=this.b.L,d=!0),d&&this.b.Mj(b,
this.b.wa));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.b.so&&!this.bp()&&b.clearRect(0,0,this.b.M,this.b.L);var e,q,d=0;for(e=this.P.length;d<e;d++)q=this.P[d],q.visible&&0<q.opacity&&11!==q.nb&&(q.e.length||!q.bd)?q.Sc(b):q.hk();f&&a.drawImage(c,0,0,this.b.width,this.b.height)};e.prototype.Ve=function(a){a.Gq(!0);this.b.La||(this.b.La=a.Fb(this.b.M,this.b.L,this.b.wa));if(this.b.La.Te!==this.b.M||this.b.La.Se!==this.b.L)a.deleteTexture(this.b.La),this.b.La=a.Fb(this.b.M,this.b.L,
this.b.wa);a.Cc(this.b.La);this.b.ic||a.uf(this.b.M,this.b.L);var c,b;for(c=this.P.length-1;0<=c;--c)b=this.P[c],b.visible&&1===b.opacity&&b.Vd&&0===b.nb&&(b.e.length||!b.bd)?b.Ve(a):b.hk();a.Gq(!1)};e.prototype.Gb=function(a){var c=0<this.ka.length||this.b.pg||!this.b.ic||this.b.pa;if(c){this.b.La||(this.b.La=a.Fb(this.b.M,this.b.L,this.b.wa));if(this.b.La.Te!==this.b.M||this.b.La.Se!==this.b.L)a.deleteTexture(this.b.La),this.b.La=a.Fb(this.b.M,this.b.L,this.b.wa);a.Cc(this.b.La);this.b.ic||a.uf(this.b.M,
this.b.L)}else this.b.La&&(a.Cc(null),a.deleteTexture(this.b.La),this.b.La=null);this.b.so&&!this.bp()&&a.clear(0,0,0,0);var b,d,f;b=0;for(d=this.P.length;b<d;b++)f=this.P[b],f.visible&&0<f.opacity&&(f.e.length||!f.bd)?f.Gb(a):f.hk();c&&(0===this.ka.length||1===this.ka.length&&this.b.ic?(1===this.ka.length?(c=this.ka[0].index,a.Ob(this.ka[0].Oa),a.kg(null,1/this.b.M,1/this.b.L,0,0,1,1,this.scale,this.j,0,0,this.b.M/2,this.b.L/2,this.b.$b.X,this.Ea[c]),a.zj(this.ka[0].Oa)&&(this.b.Z=!0)):a.Ob(0),this.b.ic||
a.uf(this.b.width,this.b.height),a.Cc(null),a.Fq(!1),a.Le(1),a.Wa(this.b.La),a.Dq(),a.Bc(),a.oc(),c=this.b.width/2,b=this.b.height/2,a.sf(-c,b,c,b,c,-b,-c,-b),a.Wa(null),a.Fq(!0)):this.Cm(a,null,null,null))};e.prototype.Pg=function(){return 0<this.ka.length||this.b.pg||!this.b.ic||this.b.pa?this.b.La:null};e.prototype.Yo=function(){var a=this.P[0].Zb(),c,b,d;c=1;for(b=this.P.length;c<b;c++)d=this.P[c],(0!==d.zc||0!==d.Ac)&&d.Zb()<a&&(a=d.Zb());return a};e.prototype.Jm=function(a){if(!this.gr){var c=
1/this.Yo()*this.b.M/2;a>this.width-c&&(a=this.width-c);a<c&&(a=c)}this.scrollX!==a&&(this.scrollX=a,this.b.Z=!0)};e.prototype.Km=function(a){if(!this.gr){var c=1/this.Yo()*this.b.L/2;a>this.height-c&&(a=this.height-c);a<c&&(a=c)}this.scrollY!==a&&(this.scrollY=a,this.b.Z=!0)};e.prototype.Dt=function(){this.Jm(this.scrollX);this.Km(this.scrollY)};e.prototype.Cm=function(a,c,b,d){var f=b?b.ka:c?c.ka:this.ka,e=1,q=0,l=0,u=0,g=this.b.M,r=this.b.L;b?(e=b.k.Zb(),q=b.k.Xb(),l=b.k.ea,u=b.k.ja,g=b.k.ma,r=
b.k.ia):c&&(e=c.Zb(),q=c.Xb(),l=c.ea,u=c.ja,g=c.ma,r=c.ia);var m=this.b.dl,n,t,v,A,M=0,T=1,O,H,B=this.b.M,E=this.b.L,wa=B/2,xa=E/2,L=c?c.Je:this.Je,x=c?c.Am:this.Am,y=0,F=0,I=0,G=0,R=B,Ba=B,P=E,Ca=E,qa=v=0;A=b?b.k.Xb():0;if(b){n=0;for(t=f.length;n<t;n++)v+=a.uv(f[n].Oa),qa+=a.vv(f[n].Oa);G=b.N;y=c.za(G.left,G.top,!0,!0);I=c.za(G.left,G.top,!1,!0);R=c.za(G.right,G.bottom,!0,!0);P=c.za(G.right,G.bottom,!1,!0);0!==A&&(n=c.za(G.right,G.top,!0,!0),t=c.za(G.right,G.top,!1,!0),F=c.za(G.left,G.bottom,!0,
!0),G=c.za(G.left,G.bottom,!1,!0),A=Math.min(y,R,n,F),R=Math.max(y,R,n,F),y=A,A=Math.min(I,P,t,G),P=Math.max(I,P,t,G),I=A);y-=v;I-=qa;R+=v;P+=qa;x.left=y/B;x.top=1-I/E;x.right=R/B;x.bottom=1-P/E;F=y=D(y);G=I=D(I);Ba=R=pa(R);Ca=P=pa(P);F-=v;G-=qa;Ba+=v;Ca+=qa;0>y&&(y=0);0>I&&(I=0);R>B&&(R=B);P>E&&(P=E);0>F&&(F=0);0>G&&(G=0);Ba>B&&(Ba=B);Ca>E&&(Ca=E);L.left=y/B;L.top=1-I/E;L.right=R/B;L.bottom=1-P/E}else L.left=x.left=0,L.top=x.top=0,L.right=x.right=1,L.bottom=x.bottom=1;qa=b&&(a.Ah(f[0].Oa)||0!==v||
0!==qa||1!==b.opacity||b.type.na.Zp)||c&&!b&&1!==c.opacity;a.Dq();if(qa){m[M]||(m[M]=a.Fb(B,E,this.b.wa));if(m[M].Te!==B||m[M].Se!==E)a.deleteTexture(m[M]),m[M]=a.Fb(B,E,this.b.wa);a.Ob(0);a.Cc(m[M]);H=Ca-G;a.clearRect(F,E-G-H,Ba-F,H);b?b.Gb(a):(a.Wa(this.b.Ta),a.Le(c.opacity),a.Bc(),a.translate(-wa,-xa),a.oc(),a.wd(y,P,R,P,R,I,y,I,L));x.left=x.top=0;x.right=x.bottom=1;b&&(A=L.top,L.top=L.bottom,L.bottom=A);M=1;T=0}a.Le(1);v=f.length-1;var fb=a.wm(f[v].Oa)||!c&&!b&&!this.b.ic;n=A=0;for(t=f.length;n<
t;n++){m[M]||(m[M]=a.Fb(B,E,this.b.wa));if(m[M].Te!==B||m[M].Se!==E)a.deleteTexture(m[M]),m[M]=a.Fb(B,E,this.b.wa);a.Ob(f[n].Oa);A=f[n].index;a.zj(f[n].Oa)&&(this.b.Z=!0);0!=n||qa?(a.kg(d,1/B,1/E,x.left,x.top,x.right,x.bottom,e,q,l,u,(l+g)/2,(u+r)/2,this.b.$b.X,b?b.Ea[A]:c?c.Ea[A]:this.Ea[A]),a.Wa(null),n!==v||fb?(a.Cc(m[M]),H=Ca-G,O=E-G-H,a.clearRect(F,O,Ba-F,H)):(b?a.Ke(b.ub,b.sb):c&&a.Ke(c.ub,c.sb),a.Cc(d)),a.Wa(m[T]),a.Bc(),a.translate(-wa,-xa),a.oc(),a.wd(y,P,R,P,R,I,y,I,L),n!==v||fb||a.Wa(null)):
(a.Cc(m[M]),H=Ca-G,O=E-G-H,a.clearRect(F,O,Ba-F,H),b?(b.fb&&b.fb.aa?(O=b.fb.aa,T=1/O.width,O=1/O.height):(T=1/b.width,O=1/b.height),a.kg(d,T,O,x.left,x.top,x.right,x.bottom,e,q,l,u,(l+g)/2,(u+r)/2,this.b.$b.X,b.Ea[A]),b.Gb(a)):(a.kg(d,1/B,1/E,0,0,1,1,e,q,l,u,(l+g)/2,(u+r)/2,this.b.$b.X,c?c.Ea[A]:this.Ea[A]),a.Wa(c?this.b.Ta:this.b.La),a.Bc(),a.translate(-wa,-xa),a.oc(),a.wd(y,P,R,P,R,I,y,I,L)),x.left=x.top=0,x.right=x.bottom=1,b&&!fb&&(A=P,P=I,I=A));M=0===M?1:0;T=0===M?1:0}fb&&(a.Ob(0),b?a.Ke(b.ub,
b.sb):c?a.Ke(c.ub,c.sb):this.b.ic||(a.uf(this.b.width,this.b.height),wa=this.b.width/2,xa=this.b.height/2,I=y=0,R=this.b.width,P=this.b.height),a.Cc(d),a.Wa(m[T]),a.Bc(),a.translate(-wa,-xa),a.oc(),b&&1===f.length&&!qa?a.wd(y,I,R,I,R,P,y,P,L):a.wd(y,P,R,P,R,I,y,I,L),a.Wa(null))};e.prototype.Ki=function(a){var c,b;c=0;for(b=this.P.length;c<b;c++)if(this.P[c].R===a)return this.P[c];return null};e.prototype.Na=function(){var a,c,b,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,
h:this.height,fv:this.Nf,persist:this.Ie,fx:[],layers:{}};a=0;for(c=this.O.length;a<c;a++)b=this.O[a],d.fx.push({name:b.name,active:b.gc,params:this.Ea[b.index]});a=0;for(c=this.P.length;a<c;a++)b=this.P[a],d.layers[b.R.toString()]=b.Na();return d};e.prototype.bb=function(a){var c,b,d,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.j=a.a;this.width=a.w;this.height=a.h;this.Ie=a.persist;"undefined"!==typeof a.fv&&(this.Nf=a.fv);var e=a.fx;c=0;for(b=e.length;c<b;c++)if(d=this.fl(e[c].name))d.gc=
e[c].active,this.Ea[d.index]=e[c].params;this.cd();c=a.layers;for(f in c)c.hasOwnProperty(f)&&(a=this.Ki(parseInt(f,10)))&&a.bb(c[f])};Gb=e;m.prototype.cd=function(){Q(this.ka);this.Vd=!0;var a,c,b;a=0;for(c=this.O.length;a<c;a++)b=this.O[a],b.gc&&(this.ka.push(b),b.Zc||(this.Vd=!1))};m.prototype.fl=function(a){var c,b,d;c=0;for(b=this.O.length;c<b;c++)if(d=this.O[c],d.name===a)return d;return null};m.prototype.Pt=function(){var a,c,b,d,f,e;c=a=0;for(b=this.kc.length;a<b;a++){d=this.kc[a];f=this.b.p[d[1]];
e=this.b.hn(f);f=!0;if(!e||this.Ua.Nf){d=this.b.ke(d,this,!0);if(!d)continue;v.push(d);d.type.global&&(f=!1,this.Eg.push(d.uid))}f&&(this.kc[c]=this.kc[a],c++)}this.kc.length=c;this.b.mb();!this.b.n&&this.O.length&&(this.nb=this.su);this.Bg=hb(this.nb);this.b.A&&ib(this,this.nb,this.b.A);this.ad=!0};m.prototype.ig=function(a,c){var b=Ga(this.e,a);0>b||(c&&this.pc&&a.Nb&&a.Nb.right>=a.Nb.left&&(a.U(),this.lb.update(a,a.Nb,null),a.Nb.set(0,0,-1,-1)),b===this.e.length-1?this.e.pop():(Da(this.e,b),this.Gh(b)),
this.ad=!0)};m.prototype.xg=function(a,c){a.dd=this.e.length;this.e.push(a);c&&this.pc&&a.Nb&&a.H();this.ad=!0};m.prototype.Pw=function(a){this.e.unshift(a);this.Gh(0)};m.prototype.ow=function(a,c,b){var d=a.nd();c=c.nd();Da(this.e,d);d<c&&c--;b&&c++;c===this.e.length?this.e.push(a):this.e.splice(c,0,a);this.Gh(d<c?d:c)};m.prototype.Gh=function(a){-1===this.$d?this.$d=a:a<this.$d&&(this.$d=a);this.ad=this.Af=!0};m.prototype.nn=function(){if(this.Af){-1===this.$d&&(this.$d=0);var a,c,b;if(this.pc)for(a=
this.$d,c=this.e.length;a<c;++a)b=this.e[a],b.dd=a,this.lb.kw(b.Nb);else for(a=this.$d,c=this.e.length;a<c;++a)this.e[a].dd=a;this.Af=!1;this.$d=-1}};m.prototype.Zb=function(a){return this.rv()*(this.b.ic||a?this.b.yg:1)};m.prototype.rv=function(){return(this.scale*this.Ua.scale-1)*this.ed+1};m.prototype.Xb=function(){return this.Jd?0:La(this.Ua.j+this.j)};var b=[],f=[],d=[];m.prototype.kl=function(){this.nn();this.lb.Cj(this.ea,this.ja,this.ma,this.ia,d);if(!d.length)return g();if(1===d.length){var a=
g();S(a,d[0]);Q(d);return a}for(var c=!0;1<d.length;){for(var a=d,b=void 0,k=void 0,p=void 0,e=void 0,q=void 0,b=0,k=a.length;b<k-1;b+=2){var p=a[b],e=a[b+1],q=g(),l=p,u=e,r=q,m=0,n=0,v=0,K=l.length,N=u.length,A=void 0,M=void 0;for(r.length=K+N;m<K&&n<N;++v)A=l[m],M=u[n],A.dd<M.dd?(r[v]=A,++m):(r[v]=M,++n);for(;m<K;++m,++v)r[v]=l[m];for(;n<N;++n,++v)r[v]=u[n];c||(t(p),t(e));f.push(q)}1===k%2&&(c?(p=g(),S(p,a[k-1]),f.push(p)):f.push(a[k-1]));S(a,f);Q(f);c=!1}a=d[0];Q(d);return a};m.prototype.Sc=function(a){this.zd=
this.Ei||1!==this.opacity||0!==this.nb;var c=this.b.canvas,b=a,d=!1;this.zd&&(this.b.cj||(this.b.cj=document.createElement("canvas"),c=this.b.cj,c.width=this.b.M,c.height=this.b.L,this.b.xp=c.getContext("2d"),d=!0),c=this.b.cj,b=this.b.xp,c.width!==this.b.M&&(c.width=this.b.M,d=!0),c.height!==this.b.L&&(c.height=this.b.L,d=!0),d&&this.b.Mj(b,this.b.wa),this.bd&&b.clearRect(0,0,this.b.M,this.b.L));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.bd||(b.fillStyle="rgb("+this.Mc[0]+","+
this.Mc[1]+","+this.Mc[2]+")",b.fillRect(0,0,this.b.M,this.b.L));b.save();this.Jd=!0;var d=this.Ab(0,0,!0,!0),f=this.Ab(0,0,!1,!0);this.Jd=!1;this.b.Xc&&(d=Math.round(d),f=Math.round(f));this.Ij(d,f,b);var e=this.Zb();b.scale(e,e);b.translate(-d,-f);this.pc?(this.gb.left=this.lb.Db(this.ea),this.gb.top=this.lb.Eb(this.ja),this.gb.right=this.lb.Db(this.ma),this.gb.bottom=this.lb.Eb(this.ia),this.ad||!this.gb.Ig(this.ag)?(t(this.Rd),d=this.kl(),this.ad=!1,this.ag.Cg(this.gb)):d=this.Rd):d=this.e;for(var q,
l=null,f=0,e=d.length;f<e;++f)q=d[f],q!==l&&(this.mu(q,b),l=q);this.pc&&(this.Rd=d);b.restore();this.zd&&(a.globalCompositeOperation=this.Bg,a.globalAlpha=this.opacity,a.drawImage(c,0,0))};m.prototype.mu=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.U();var b=a.N;b.right<this.ea||b.bottom<this.ja||b.left>this.ma||b.top>this.ia||(c.globalCompositeOperation=a.Bg,a.Sc(c))}};m.prototype.hk=function(){this.Jd=!0;var a=this.Ab(0,0,!0,!0),c=this.Ab(0,0,!1,!0);this.Jd=!1;this.b.Xc&&(a=Math.round(a),
c=Math.round(c));this.Ij(a,c,null)};m.prototype.Ij=function(a,c,b){var d=this.Zb();this.ea=a;this.ja=c;this.ma=a+1/d*this.b.M;this.ia=c+1/d*this.b.L;this.ea>this.ma&&(a=this.ea,this.ea=this.ma,this.ma=a);this.ja>this.ia&&(a=this.ja,this.ja=this.ia,this.ia=a);a=this.Xb();0!==a&&(b&&(b.translate(this.b.M/2,this.b.L/2),b.rotate(-a),b.translate(this.b.M/-2,this.b.L/-2)),this.Yd.set(this.ea,this.ja,this.ma,this.ia),this.Yd.offset((this.ea+this.ma)/-2,(this.ja+this.ia)/-2),this.$q.Lq(this.Yd,a),this.$q.ho(this.Yd),
this.Yd.offset((this.ea+this.ma)/2,(this.ja+this.ia)/2),this.ea=this.Yd.left,this.ja=this.Yd.top,this.ma=this.Yd.right,this.ia=this.Yd.bottom)};m.prototype.Ve=function(a){if(this.zd=this.Ei){this.b.Ta||(this.b.Ta=a.Fb(this.b.M,this.b.L,this.b.wa));if(this.b.Ta.Te!==this.b.M||this.b.Ta.Se!==this.b.L)a.deleteTexture(this.b.Ta),this.b.Ta=a.Fb(this.b.M,this.b.L,this.b.wa);a.Cc(this.b.Ta)}this.Jd=!0;var c=this.Ab(0,0,!0,!0),b=this.Ab(0,0,!1,!0);this.Jd=!1;this.b.Xc&&(c=Math.round(c),b=Math.round(b));this.Ij(c,
b,null);c=this.Zb();a.Bc();a.scale(c,c);a.Jj(-this.Xb());a.translate((this.ea+this.ma)/-2,(this.ja+this.ia)/-2);a.oc();this.pc?(this.gb.left=this.lb.Db(this.ea),this.gb.top=this.lb.Eb(this.ja),this.gb.right=this.lb.Db(this.ma),this.gb.bottom=this.lb.Eb(this.ia),this.ad||!this.gb.Ig(this.ag)?(t(this.Rd),c=this.kl(),this.ad=!1,this.ag.Cg(this.gb)):c=this.Rd):c=this.e;for(var d,f=null,b=c.length-1;0<=b;--b)d=c[b],d!==f&&(this.ou(c[b],a),f=d);this.pc&&(this.Rd=c);this.bd||(this.Gk=this.b.We++,a.Nj(this.Gk),
a.Eq(1,1,1),a.No(),a.$w())};m.prototype.Gb=function(a){var c=0,b=0;if(this.zd=this.Ei||1!==this.opacity||0<this.ka.length||0!==this.nb){this.b.Ta||(this.b.Ta=a.Fb(this.b.M,this.b.L,this.b.wa));if(this.b.Ta.Te!==this.b.M||this.b.Ta.Se!==this.b.L)a.deleteTexture(this.b.Ta),this.b.Ta=a.Fb(this.b.M,this.b.L,this.b.wa);a.Cc(this.b.Ta);this.bd&&a.clear(0,0,0,0)}this.bd||(this.b.pa?(a.Nj(this.Gk),a.Eq(this.Mc[0]/255,this.Mc[1]/255,this.Mc[2]/255),a.No(),a.nx()):a.clear(this.Mc[0]/255,this.Mc[1]/255,this.Mc[2]/
255,1));this.Jd=!0;var d=this.Ab(0,0,!0,!0),c=this.Ab(0,0,!1,!0);this.Jd=!1;this.b.Xc&&(d=Math.round(d),c=Math.round(c));this.Ij(d,c,null);d=this.Zb();a.Bc();a.scale(d,d);a.Jj(-this.Xb());a.translate((this.ea+this.ma)/-2,(this.ja+this.ia)/-2);a.oc();this.pc?(this.gb.left=this.lb.Db(this.ea),this.gb.top=this.lb.Eb(this.ja),this.gb.right=this.lb.Db(this.ma),this.gb.bottom=this.lb.Eb(this.ia),this.ad||!this.gb.Ig(this.ag)?(t(this.Rd),c=this.kl(),this.ad=!1,this.ag.Cg(this.gb)):c=this.Rd):c=this.e;var f,
e,q=null,b=0;for(f=c.length;b<f;++b)e=c[b],e!==q&&(this.nu(c[b],a),q=e);this.pc&&(this.Rd=c);this.zd&&(c=this.ka.length?this.ka[0].Oa:0,b=this.ka.length?this.ka[0].index:0,0===this.ka.length||1===this.ka.length&&!a.wm(c)&&1===this.opacity?(1===this.ka.length?(a.Ob(c),a.kg(this.Ua.Pg(),1/this.b.M,1/this.b.L,0,0,1,1,d,this.Xb(),this.ea,this.ja,(this.ea+this.ma)/2,(this.ja+this.ia)/2,this.b.$b.X,this.Ea[b]),a.zj(c)&&(this.b.Z=!0)):a.Ob(0),a.Cc(this.Ua.Pg()),a.Le(this.opacity),a.Wa(this.b.Ta),a.Ke(this.ub,
this.sb),a.Bc(),a.oc(),d=this.b.M/2,c=this.b.L/2,a.sf(-d,c,d,c,d,-c,-d,-c),a.Wa(null)):this.Ua.Cm(a,this,null,this.Ua.Pg()))};m.prototype.nu=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.U();var b=a.N;b.right<this.ea||b.bottom<this.ja||b.left>this.ma||b.top>this.ia||(c.Nj(a.We),a.nr?this.pu(a,c):(c.Ob(0),c.Ke(a.ub,a.sb),a.Gb(c)))}};m.prototype.ou=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.U();var b=a.N;b.right<this.ea||b.bottom<this.ja||b.left>this.ma||b.top>this.ia||(a.We=
this.b.We++,0===a.nb&&1===a.opacity&&a.Vd&&a.Ve&&(c.Nj(a.We),a.Ve(c)))}};m.prototype.pu=function(a,c){var b=a.ka[0].Oa,d=a.ka[0].index,f=this.Zb();if(1!==a.ka.length||c.wm(b)||c.Tw(b)||(a.j||a.k.Xb())&&c.Ah(b)||1!==a.opacity||a.type.na.Zp)this.Ua.Cm(c,this,a,this.zd?this.b.Ta:this.Ua.Pg()),c.Bc(),c.scale(f,f),c.Jj(-this.Xb()),c.translate((this.ea+this.ma)/-2,(this.ja+this.ia)/-2),c.oc();else{c.Ob(b);c.Ke(a.ub,a.sb);c.zj(b)&&(this.b.Z=!0);var e=0,q=0,l=0,u=0;c.Ah(b)&&(u=a.N,e=this.za(u.left,u.top,
!0,!0),q=this.za(u.left,u.top,!1,!0),l=this.za(u.right,u.bottom,!0,!0),u=this.za(u.right,u.bottom,!1,!0),e=e/windowWidth,q=1-q/windowHeight,l=l/windowWidth,u=1-u/windowHeight);var g;a.fb&&a.fb.aa?(g=a.fb.aa,b=1/g.width,g=1/g.height):(b=1/a.width,g=1/a.height);c.kg(this.zd?this.b.Ta:this.Ua.Pg(),b,g,e,q,l,u,f,this.Xb(),this.ea,this.ja,(this.ea+this.ma)/2,(this.ja+this.ia)/2,this.b.$b.X,a.Ea[d]);a.Gb(c)}};m.prototype.Ab=function(a,c,b,d){var f=this.b.devicePixelRatio;this.b.ef&&(a*=f,c*=f);var f=this.b.mq,
e=this.b.nq,f=(this.Ua.scrollX-f)*this.zc+f,e=(this.Ua.scrollY-e)*this.Ac+e,q=f,l=e,u=1/this.Zb(!d);d?(q-=this.b.M*u/2,l-=this.b.L*u/2):(q-=this.b.width*u/2,l-=this.b.height*u/2);q+=a*u;l+=c*u;c=this.Xb();0!==c&&(q-=f,l-=e,a=Math.cos(c),c=Math.sin(c),d=q*a-l*c,l=l*a+q*c,q=d+f,l+=e);return b?q:l};m.prototype.za=function(a,c,b,d){var f=this.b.mq,e=this.b.nq,q=(this.Ua.scrollX-f)*this.zc+f,l=(this.Ua.scrollY-e)*this.Ac+e,e=q,f=l,u=this.Xb();if(0!==u){a-=q;c-=l;var g=Math.cos(-u),u=Math.sin(-u),r=a*g-
c*u;c=c*g+a*u;a=r+q;c+=l}q=1/this.Zb(!d);d?(e-=this.b.M*q/2,f-=this.b.L*q/2):(e-=this.b.width*q/2,f-=this.b.height*q/2);e=(a-e)/q;f=(c-f)/q;a=this.b.devicePixelRatio;this.b.ef&&!d&&(e/=a,f/=a);return b?e:f};m.prototype.Na=function(){var a,c,b,d={s:this.scale,a:this.j,vl:this.ea,vt:this.ja,vr:this.ma,vb:this.ia,v:this.visible,bc:this.Mc,t:this.bd,px:this.zc,py:this.Ac,o:this.opacity,zr:this.ed,fx:[],cg:this.Eg,instances:[]};a=0;for(c=this.O.length;a<c;a++)b=this.O[a],d.fx.push({name:b.name,active:b.gc,
params:this.Ea[b.index]});return d};m.prototype.bb=function(a){var c,b,d;this.scale=a.s;this.j=a.a;this.ea=a.vl;this.ja=a.vt;this.ma=a.vr;this.ia=a.vb;this.visible=a.v;this.Mc=a.bc;this.bd=a.t;this.zc=a.px;this.Ac=a.py;this.opacity=a.o;this.ed=a.zr;this.Eg=a.cg||[];S(this.kc,this.Sq);var f=new ca;c=0;for(d=this.Eg.length;c<d;++c)f.add(this.Eg[c]);b=c=0;for(d=this.kc.length;c<d;++c)f.contains(this.kc[c][2])||(this.kc[b]=this.kc[c],++b);Ea(this.kc,b);b=a.fx;c=0;for(d=b.length;c<d;c++)if(a=this.fl(b[c].name))a.gc=
b[c].active,this.Ea[a.index]=b[c].params;this.cd();this.e.sort(n);this.Af=!0};Ub=m})();
(function(){function e(a,c){var b,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===c[0];case 2:return a[0]===c[0]&&a[1]===c[1];default:for(b=0;b<d;b++)if(a[b]!==c[b])return!1;return!0}}function n(a,c){return a.index-c.index}function m(a){var c,b,d,f;2===a.length?a[0].index>a[1].index&&(c=a[0],a[0]=a[1],a[1]=c):2<a.length&&a.sort(n);a.length>=p.length&&(p.length=a.length+1);p[a.length]||(p[a.length]=[]);f=p[a.length];c=0;for(b=f.length;c<b;c++)if(d=f[c],e(a,d))return d;f.push(a);return a}
function g(a,c){this.b=a;this.cr={};this.Io={};this.pl=!1;this.ep=new ca;this.Pk=[];this.sk=[];this.name=c[0];var b=c[1];this.oe=[];var d,f;d=0;for(f=b.length;d<f;d++)this.gp(b[d],null,this.oe)}function t(a){this.type=a;this.e=[];this.Y=[];this.da=!0}function v(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.ta=[];this.Me=[];this.cp=this.ck=this.bn=this.ul=this.group=this.Qm=!1;this.Ra=[];this.Kc=[];this.Ec=[];this.Rg="";this.$e=this.ul=this.group=!1;this.ni=null;b[1]&&(this.Rg=b[1][1].toLowerCase(),
this.group=!0,this.ul=!!b[1][0],this.ni=[],this.$e=this.ul,this.b.Gf.push(this),this.b.Tf[this.Rg]=this);this.xc=b[2];this.R=b[4];this.group||(this.b.fo[this.R.toString()]=this);var d=b[5];a=0;for(c=d.length;a<c;a++){var f=new Vb(this,d[a]);f.index=a;this.Ra.push(f);this.Xn(f.type)}d=b[6];a=0;for(c=d.length;a<c;a++)f=new Wb(this,d[a]),f.index=a,this.Kc.push(f);if(8===b.length)for(b=b[7],a=0,c=b.length;a<c;a++)this.sheet.gp(b[a],this,this.Ec);this.Wi=!1;this.Ra.length&&(this.Wi=null==this.Ra[0].type&&
this.Ra[0].ib==X.prototype.g.un)}function r(a,c){var b,d,f;if(a&&(-1===c.indexOf(a)&&c.push(a),a.Bb))for(b=0,d=a.Vb.length;b<d;b++)f=a.Vb[b],a!==f&&-1===c.indexOf(f)&&c.push(f)}function b(a,c){this.hc=a;this.sheet=a.sheet;this.b=a.b;this.W=[];this.Ga=[];this.I={};this.index=-1;this.vg=!1;this.ib=this.b.ae(c[1]);this.trigger=0<c[3];this.Ho=2===c[3];this.Pi=c[5];this.gw=c[6];this.R=c[7];this.b.he[this.R.toString()]=this;-1===c[0]?(this.type=null,this.Ma=this.Gm,this.Re=null,this.Oc=-1):(this.type=this.b.p[c[0]],
this.Ma=this.gw?this.jx:this.Fm,c[2]?(this.Re=this.type.Gi(c[2]),this.Oc=this.type.el(c[2])):(this.Re=null,this.Oc=-1),this.hc.parent&&this.hc.parent.Pj());this.Ho&&(this.Ma=this.kx);if(10===c.length){var b,d,f=c[9];b=0;for(d=f.length;b<d;b++){var k=new Xb(this,f[b]);this.W.push(k)}this.Ga.length=f.length}}function f(a,c){this.hc=a;this.sheet=a.sheet;this.b=a.b;this.W=[];this.Ga=[];this.I={};this.index=-1;this.vg=!1;this.ib=this.b.ae(c[1]);-1===c[0]?(this.type=null,this.Ma=this.Gm,this.Re=null,this.Oc=
-1):(this.type=this.b.p[c[0]],this.Ma=this.Fm,c[2]?(this.Re=this.type.Gi(c[2]),this.Oc=this.type.el(c[2])):(this.Re=null,this.Oc=-1));this.R=c[3];this.b.ee[this.R.toString()]=this;if(6===c.length){var b,d,f=c[5];b=0;for(d=f.length;b<d;b++){var k=new Xb(this,f[b]);this.W.push(k)}this.Ga.length=f.length}}function d(){q++;z.length===q&&z.push(new Yb);return z[q]}function a(a,c){this.yc=a;this.hc=a.hc;this.sheet=a.sheet;this.b=a.b;this.type=c[0];this.ld=null;this.Wd=0;this.get=null;this.uo=0;this.Ua=
null;this.key=0;this.object=null;this.index=0;this.Th=this.vf=this.Th=this.vf=this.Ko=this.Ye=this.Uh=null;this.Hc=!1;var b,d,f;switch(c[0]){case 0:case 7:this.ld=new Zb(this,c[1]);this.Wd=0;this.get=this.Bv;break;case 1:this.ld=new Zb(this,c[1]);this.Wd=0;this.get=this.Cv;break;case 5:this.ld=new Zb(this,c[1]);this.Wd=0;this.get=this.Gv;break;case 3:case 8:this.uo=c[1];this.get=this.zv;break;case 6:this.Ua=this.b.Wl[c[1]];this.get=this.Hv;break;case 9:this.key=c[1];this.get=this.Fv;break;case 4:this.object=
this.b.p[c[1]];this.get=this.Iv;this.hc.Xn(this.object);this.yc instanceof Wb?this.hc.Pj():this.hc.parent&&this.hc.parent.Pj();break;case 10:this.index=c[1];a.type&&a.type.G?(this.get=this.Dv,this.Hc=!0):this.get=this.Ev;break;case 11:this.Uh=c[1];this.Ye=null;this.get=this.Av;break;case 2:case 12:this.Ko=c[1];this.get=this.yv;break;case 13:for(this.get=this.Jv,this.vf=[],this.Th=[],b=1,d=c.length;b<d;b++)f=new Xb(this.yc,c[b]),this.vf.push(f),this.Th.push(0)}}function c(a,c,b){this.sheet=a;this.parent=
c;this.b=a.b;this.ta=[];this.name=b[1];this.tl=b[3];this.ah=!!b[4];this.Ui=!!b[5];this.R=b[6];this.b.rg[this.R.toString()]=this;this.data=this.tl;this.parent?(this.mf=this.ah||this.Ui?-1:this.b.ux++,this.b.ut.push(this)):(this.mf=-1,this.b.tt.push(this))}function h(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.ta=[];this.Ug=null;this.Qv=b[1];this.gc=!0}function k(){this.Tq=[];this.reset(null)}var p=[];g.prototype.toString=function(){return this.name};g.prototype.gp=function(a,c,b){switch(a[0]){case 0:a=
new $b(this,c,a);if(a.xc)for(b.push(a),b=0,c=a.Ra.length;b<c;b++)a.Ra[b].trigger&&this.ip(a,b);else a.pp()?this.ip(a,0):b.push(a);break;case 1:a=new Rb(this,c,a);b.push(a);break;case 2:a=new ac(this,c,a),b.push(a)}};g.prototype.Ia=function(){var a,c;a=0;for(c=this.oe.length;a<c;a++)this.oe[a].Ia(a<c-1&&this.oe[a+1].Wi)};g.prototype.kn=function(){Q(this.Pk);Q(this.sk);this.Wn(this);Q(this.sk)};g.prototype.Wn=function(a){var c,b,d,f,k=a.Pk,h=a.sk,e=this.ep.qc();c=0;for(b=e.length;c<b;++c)d=e[c],f=d.Ug,
!d.gc||a===f||-1<h.indexOf(f)||(h.push(f),f.Wn(a),k.push(f))};g.prototype.Ma=function(a){this.b.az||(this.pl=!0,a||(this.b.Il=!0));var c,b;c=0;for(b=this.oe.length;c<b;c++){var d=this.oe[c];d.Ma();this.b.Fk(d.ta);this.b.qe&&this.b.mb()}a||(this.b.Il=!1)};g.prototype.ip=function(a,c){a.xc||this.b.ek.push(a);var b,d,f=a.Ra[c],k;f.type?k=f.type.name:k="system";var h=(b=f.Ho)?this.Io:this.cr;h[k]||(h[k]=[]);k=h[k];h=f.ib;if(b){if(f.W.length&&(f=f.W[0],1===f.type&&2===f.ld.type)){f=f.ld.value.toLowerCase();
b=0;for(d=k.length;b<d;b++)if(k[b].method==h){b=k[b].Jg;b[f]?b[f].push([a,c]):b[f]=[[a,c]];return}b={};b[f]=[[a,c]];k.push({method:h,Jg:b})}}else{b=0;for(d=k.length;b<d;b++)if(k[b].method==h){k[b].Jg.push([a,c]);return}Y&&h===Y.prototype.g.Ef?k.unshift({method:h,Jg:[[a,c]]}):k.push({method:h,Jg:[[a,c]]})}};Hb=g;t.prototype.Ni=function(){return this.da?this.type.e.length:this.e.length};t.prototype.Yb=function(){return this.da?this.type.e:this.e};t.prototype.zh=function(a){a&&(a.b.jb().hb.xc?(this.da&&
(Q(this.e),S(this.Y,a.type.e),this.da=!1),a=this.Y.indexOf(a),-1!==a&&(this.e.push(this.Y[a]),this.Y.splice(a,1))):(this.da=!1,Q(this.e),this.e[0]=a))};ob=t;window._c2hh_="06E7A5C65FC50E288A0F9EB0DCAC64DA2151783F";v.prototype.Ia=function(a){var c,b=this.parent;if(this.group)for(this.ck=!0;b;){if(!b.group){this.ck=!1;break}b=b.parent}this.bn=!this.pp()&&(!this.parent||this.parent.group&&this.parent.ck);this.cp=!!a;this.Me=this.ta.slice(0);for(b=this.parent;b;){a=0;for(c=b.ta.length;a<c;a++)this.qt(b.ta[a]);
b=b.parent}this.ta=m(this.ta);this.Me=m(this.Me);a=0;for(c=this.Ra.length;a<c;a++)this.Ra[a].Ia();a=0;for(c=this.Kc.length;a<c;a++)this.Kc[a].Ia();a=0;for(c=this.Ec.length;a<c;a++)this.Ec[a].Ia(a<c-1&&this.Ec[a+1].Wi)};v.prototype.Oj=function(a){if(this.$e!==!!a){this.$e=!!a;var c;a=0;for(c=this.ni.length;a<c;++a)this.ni[a].ir();0<c&&this.b.ga.Xe&&this.b.ga.Xe.kn()}};v.prototype.Xn=function(a){r(a,this.ta)};v.prototype.qt=function(a){r(a,this.Me)};v.prototype.Pj=function(){this.Qm=!0;this.parent&&
this.parent.Pj()};v.prototype.pp=function(){return this.Ra.length?this.Ra[0].trigger:!1};v.prototype.Ma=function(){var a,c,b=!1,d=this.b,f=this.b.jb();f.hb=this;var k=this.Ra;this.Wi||(f.Wk=!1);if(this.xc){0===k.length&&(b=!0);f.Qa=0;for(a=k.length;f.Qa<a;f.Qa++)c=k[f.Qa],c.trigger||(c=c.Ma())&&(b=!0);(f.hf=b)&&this.Kj()}else{f.Qa=0;for(a=k.length;f.Qa<a;f.Qa++)if(c=k[f.Qa].Ma(),!c){f.hf=!1;this.bn&&d.qe&&d.mb();return}f.hf=!0;this.Kj()}this.uu(f)};v.prototype.uu=function(a){a.hf&&this.cp&&(a.Wk=
!0);this.bn&&this.b.qe&&this.b.mb()};v.prototype.hx=function(a){this.b.jb().hb=this;this.Ra[a].Ma()&&(this.Kj(),this.b.jb().hf=!0)};v.prototype.Kj=function(){var a=this.b.jb(),c;a.Tb=0;for(c=this.Kc.length;a.Tb<c;a.Tb++)if(this.Kc[a.Tb].Ma())return;this.Cq()};v.prototype.ax=function(){var a=this.b.jb(),c;for(c=this.Kc.length;a.Tb<c;a.Tb++)if(this.Kc[a.Tb].Ma())return;this.Cq()};v.prototype.Cq=function(){if(this.Ec.length){var a,c,b,d,f=this.Ec.length-1;this.b.Bj(this);if(this.Qm)for(a=0,c=this.Ec.length;a<
c;a++)b=this.Ec[a],(d=!this.ck||!this.group&&a<f)&&this.b.Aj(b.ta),b.Ma(),d?this.b.rf(b.ta):this.b.Fk(b.ta);else for(a=0,c=this.Ec.length;a<c;a++)this.Ec[a].Ma();this.b.yj()}};v.prototype.ix=function(){var a=this.b.jb();a.hb=this;var c=!1,b;a.Qa=0;for(b=this.Ra.length;a.Qa<b;a.Qa++)if(this.Ra[a.Qa].Ma())c=!0;else if(!this.xc)return!1;return this.xc?c:!0};v.prototype.Aq=function(){this.b.Kg++;var a=this.b.jb().Qa,c=this.b.Bj(this);if(!this.xc)for(c.Qa=a+1,a=this.Ra.length;c.Qa<a;c.Qa++)if(!this.Ra[c.Qa].Ma()){this.b.yj();
return}this.Kj();this.b.yj()};v.prototype.$v=function(a){var c=a.index;if(0===c)return!0;for(--c;0<=c;--c)if(this.Ra[c].type===a.type)return!1;return!0};$b=v;b.prototype.Ia=function(){var a,c,b;a=0;for(c=this.W.length;a<c;a++)b=this.W[a],b.Ia(),b.Hc&&(this.vg=!0)};b.prototype.kx=function(){return!0};b.prototype.Gm=function(){var a,c;a=0;for(c=this.W.length;a<c;a++)this.Ga[a]=this.W[a].get();return Sa(this.ib.apply(this.b.Bd,this.Ga),this.Pi)};b.prototype.jx=function(){var a,c;a=0;for(c=this.W.length;a<
c;a++)this.Ga[a]=this.W[a].get();a=this.ib.apply(this.Re?this.Re:this.type,this.Ga);this.type.fe();return a};b.prototype.Fm=function(){var a,c,b,d,f,k,h,e,p=this.type,q=p.ca(),g=this.hc.xc&&!this.trigger;c=0;var r=p.Bb,m=p.G,n=p.md,t=this.Oc,v=-1<t,z=this.vg,L=this.W,x=this.Ga,y=this.Pi,F=this.ib,I;if(z)for(c=0,f=L.length;c<f;++c)k=L[c],k.Hc||(x[c]=k.get(0));else for(c=0,f=L.length;c<f;++c)x[c]=L[c].get(0);if(q.da){Q(q.e);Q(q.Y);I=p.e;a=0;for(d=I.length;a<d;++a){e=I[a];if(z)for(c=0,f=L.length;c<f;++c)k=
L[c],k.Hc&&(x[c]=k.get(a));v?(c=0,m&&(c=e.type.Mf[n]),c=F.apply(e.K[t+c],x)):c=F.apply(e,x);(h=Sa(c,y))?q.e.push(e):g&&q.Y.push(e)}p.finish&&p.finish(!0);q.da=!1;p.fe();return q.Ni()}b=0;I=(h=g&&!this.hc.$v(this))?q.Y:q.e;var G=!1;a=0;for(d=I.length;a<d;++a){e=I[a];if(z)for(c=0,f=L.length;c<f;++c)k=L[c],k.Hc&&(x[c]=k.get(a));v?(c=0,m&&(c=e.type.Mf[n]),c=F.apply(e.K[t+c],x)):c=F.apply(e,x);if(Sa(c,y))if(G=!0,h){if(q.e.push(e),r)for(c=0,f=e.siblings.length;c<f;c++)k=e.siblings[c],k.type.ca().e.push(k)}else{I[b]=
e;if(r)for(c=0,f=e.siblings.length;c<f;c++)k=e.siblings[c],k.type.ca().e[b]=k;b++}else if(h){I[b]=e;if(r)for(c=0,f=e.siblings.length;c<f;c++)k=e.siblings[c],k.type.ca().Y[b]=k;b++}else if(g&&(q.Y.push(e),r))for(c=0,f=e.siblings.length;c<f;c++)k=e.siblings[c],k.type.ca().Y.push(k)}Ea(I,b);if(r)for(m=p.Vb,a=0,d=m.length;a<d;a++)e=m[a].ca(),h?Ea(e.Y,b):Ea(e.e,b);b=G;if(h&&!G)for(a=0,d=q.e.length;a<d;a++){e=q.e[a];if(z)for(c=0,f=L.length;c<f;c++)k=L[c],k.Hc&&(x[c]=k.get(a));c=v?F.apply(e.K[t],x):F.apply(e,
x);if(Sa(c,y)){G=!0;break}}p.finish&&p.finish(b||g);return g?G:q.Ni()};Vb=b;f.prototype.Ia=function(){var a,c,b;a=0;for(c=this.W.length;a<c;a++)b=this.W[a],b.Ia(),b.Hc&&(this.vg=!0)};f.prototype.Gm=function(){var a=this.b,c,b,d=this.W,f=this.Ga;c=0;for(b=d.length;c<b;++c)f[c]=d[c].get();return this.ib.apply(a.Bd,f)};f.prototype.Fm=function(){var a=this.type,c=this.Oc,b=a.md,d=this.vg,f=this.W,k=this.Ga,h=this.ib,e=a.ca().Yb(),a=a.G,p=-1<c,q,g,r,m,n,t;if(d)for(g=0,m=f.length;g<m;++g)n=f[g],n.Hc||(k[g]=
n.get(0));else for(g=0,m=f.length;g<m;++g)k[g]=f[g].get(0);q=0;for(r=e.length;q<r;++q){t=e[q];if(d)for(g=0,m=f.length;g<m;++g)n=f[g],n.Hc&&(k[g]=n.get(q));p?(g=0,a&&(g=t.type.Mf[b]),h.apply(t.K[c+g],k)):h.apply(t,k)}return!1};Wb=f;var z=[],q=-1;a.prototype.Ia=function(){var a,c;if(11===this.type)this.Ye=this.b.So(this.Uh,this.hc.parent);else if(13===this.type)for(a=0,c=this.vf.length;a<c;a++)this.vf[a].Ia();this.ld&&this.ld.Ia()};a.prototype.mw=function(a){this.Hc||!a||a.na.Vj||(this.Hc=!0)};a.prototype.Jq=
function(){this.Hc=!0};a.prototype.Bv=function(a){this.Wd=a||0;a=d();this.ld.get(a);q--;return a.data};a.prototype.Cv=function(a){this.Wd=a||0;a=d();this.ld.get(a);q--;return w(a.data)?a.data:""};a.prototype.Iv=function(){return this.object};a.prototype.zv=function(){return this.uo};a.prototype.Gv=function(a){this.Wd=a||0;a=d();this.ld.get(a);q--;return a.ab()?this.b.Qf(a.data):this.b.Ji(a.data)};a.prototype.Hv=function(){return this.Ua};a.prototype.Fv=function(){return this.key};a.prototype.Ev=function(){return this.index};
a.prototype.Dv=function(a){a=a||0;var c=this.yc.type,b=null,b=c.ca(),d=b.Yb();if(d.length)b=d[a%d.length].type;else if(b.Y.length)b=b.Y[a%b.Y.length].type;else if(c.e.length)b=c.e[a%c.e.length].type;else return 0;return this.index+b.Ng[c.md]};a.prototype.Av=function(){return this.Ye};a.prototype.yv=function(){return this.Ko};a.prototype.Jv=function(){var a,c;a=0;for(c=this.vf.length;a<c;a++)this.Th[a]=this.vf[a].get();return this.Th};Xb=a;c.prototype.Ia=function(){this.ta=m(this.ta)};c.prototype.ox=
function(a){var c=this.b.Ro();this.parent&&!this.ah&&c?(this.mf>=c.length&&(c.length=this.mf+1),c[this.mf]=a):this.data=a};c.prototype.xv=function(){var a=this.b.Ro();return!this.parent||this.ah||!a||this.Ui?this.data:this.mf>=a.length||"undefined"===typeof a[this.mf]?this.tl:a[this.mf]};c.prototype.Ma=function(){!this.parent||this.ah||this.Ui||this.ox(this.tl)};Rb=c;h.prototype.toString=function(){return"include:"+this.Ug.toString()};h.prototype.Ia=function(){this.Ug=this.b.Yk[this.Qv];this.sheet.ep.add(this);
this.ta=m(this.ta);for(var a=this.parent;a;)a.group&&a.ni.push(this),a=a.parent;this.ir()};h.prototype.Ma=function(){this.parent&&this.b.Ch(this.b.p);this.Ug.pl||this.Ug.Ma(!0);this.parent&&this.b.rf(this.b.p)};h.prototype.ir=function(){for(var a=this.parent;a;){if(a.group&&!a.$e){this.gc=!1;return}a=a.parent}this.gc=!0};ac=h;k.prototype.reset=function(a){this.hb=a;this.Tb=this.Qa=0;Q(this.Tq);this.Wk=this.hf=!1};k.prototype.bw=function(){return this.hb.Qm?!0:this.Qa<this.hb.Ra.length-1?!!this.hb.ta.length:
!1};Qb=k})();
(function(){function e(e,b){this.yc=e;this.b=e.b;this.type=b[0];this.get=[this.Mu,this.Iu,this.Vu,this.Yu,this.xu,this.Wu,this.Qu,this.Fu,this.Pu,this.Uu,this.yu,this.Tu,this.Gu,this.Ru,this.Nu,this.Ou,this.Ju,this.Ku,this.Eu,this.Xu,this.Su,this.Lu,this.Du,this.Hu][this.type];var f=null;this.Sd=this.W=this.Ga=this.ib=this.bk=this.second=this.first=this.value=null;this.Oc=-1;this.Tc=null;this.or=-1;this.Ye=this.Uh=null;this.jg=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Zb(e,b[1]);break;case 18:this.first=new Zb(e,b[1]);this.second=new Zb(e,b[2]);this.bk=new Zb(e,b[3]);break;case 19:this.ib=this.b.ae(b[1]);this.ib!==X.prototype.T.random&&this.ib!==X.prototype.T.It||this.yc.Jq();this.Ga=[];this.W=[];3===b.length?(f=b[2],this.Ga.length=f.length+1):this.Ga.length=1;break;case 20:this.Sd=this.b.p[b[1]];this.Oc=-1;this.ib=this.b.ae(b[2]);this.jg=b[3];dc.Function&&this.ib===dc.Function.prototype.T.Tx&&this.yc.Jq();b[4]?this.Tc=new Zb(e,b[4]):this.Tc=null;this.Ga=[];
this.W=[];6===b.length?(f=b[5],this.Ga.length=f.length+1):this.Ga.length=1;break;case 21:this.Sd=this.b.p[b[1]];this.jg=b[2];b[3]?this.Tc=new Zb(e,b[3]):this.Tc=null;this.or=b[4];break;case 22:this.Sd=this.b.p[b[1]];this.Sd.Gi(b[2]);this.Oc=this.Sd.el(b[2]);this.ib=this.b.ae(b[3]);this.jg=b[4];b[5]?this.Tc=new Zb(e,b[5]):this.Tc=null;this.Ga=[];this.W=[];7===b.length?(f=b[6],this.Ga.length=f.length+1):this.Ga.length=1;break;case 23:this.Uh=b[1],this.Ye=null}this.yc.mw(this.Sd);4<=this.type&&17>=this.type&&
(this.first=new Zb(e,b[1]),this.second=new Zb(e,b[2]));if(f){var d,a;d=0;for(a=f.length;d<a;d++)this.W.push(new Zb(e,f[d]))}}function n(){++v;t.length===v&&t.push(new Yb);return t[v]}function m(e,b,f){var d,a;d=0;for(a=e.length;d<a;++d)e[d].get(f),b[d+1]=f.data}function g(e,b){this.type=e||bc.Cf;this.data=b||0;this.pf=null;this.type==bc.Cf&&(this.data=Math.floor(this.data))}e.prototype.Ia=function(){23===this.type&&(this.Ye=this.yc.b.So(this.Uh,this.yc.hc.parent));this.first&&this.first.Ia();this.second&&
this.second.Ia();this.bk&&this.bk.Ia();this.Tc&&this.Tc.Ia();if(this.W){var e,b;e=0;for(b=this.W.length;e<b;e++)this.W[e].Ia()}};var t=[],v=-1;e.prototype.Xu=function(e){var b=this.W,f=this.Ga;f[0]=e;e=n();m(b,f,e);--v;this.ib.apply(this.b.Bd,f)};e.prototype.Su=function(e){var b=this.Sd,f=this.Ga,d=this.W,a=this.Tc,c=this.ib,h=this.yc.Wd,k=b.ca(),p=k.Yb();if(!p.length)if(k.Y.length)p=k.Y;else{this.jg?e.tb(""):e.oa(0);return}f[0]=e;e.pf=b;e=n();m(d,f,e);a&&(a.get(e),e.ab()&&(h=e.data,p=b.e));--v;b=
p.length;if(h>=b||h<=-b)h%=b;0>h&&(h+=b);c.apply(p[h],f)};e.prototype.Du=function(e){var b=this.Sd,f=this.Ga,d=this.W,a=this.Tc,c=this.Oc,h=this.ib,k=this.yc.Wd,p=b.ca(),g=p.Yb();if(!g.length)if(p.Y.length)g=p.Y;else{this.jg?e.tb(""):e.oa(0);return}f[0]=e;e.pf=b;e=n();m(d,f,e);a&&(a.get(e),e.ab()&&(k=e.data,g=b.e));--v;d=g.length;if(k>=d||k<=-d)k%=d;0>k&&(k+=d);k=g[k];g=0;b.G&&(g=k.type.Mf[b.md]);h.apply(k.K[c+g],f)};e.prototype.Lu=function(e){var b=this.Tc,f=this.Sd,d=this.or,a=this.yc.Wd,c=f.ca(),
h=c.Yb();if(!h.length)if(c.Y.length)h=c.Y;else{this.jg?e.tb(""):e.oa(0);return}if(b){c=n();b.get(c);if(c.ab()){a=c.data;h=f.e;0!==h.length&&(a%=h.length,0>a&&(a+=h.length));a=f.il(a);f=a.qa[d];w(f)?e.tb(f):e.C(f);--v;return}--v}b=h.length;if(a>=b||a<=-b)a%=b;0>a&&(a+=b);a=h[a];h=0;f.G&&(h=a.type.Ng[f.md]);f=a.qa[d+h];w(f)?e.tb(f):e.C(f)};e.prototype.Mu=function(e){e.type=bc.Cf;e.data=this.value};e.prototype.Iu=function(e){e.type=bc.Bf;e.data=this.value};e.prototype.Vu=function(e){e.type=bc.String;
e.data=this.value};e.prototype.Yu=function(e){this.first.get(e);e.ab()&&(e.data=-e.data)};e.prototype.xu=function(e){this.first.get(e);var b=n();this.second.get(b);e.ab()&&b.ab()&&(e.data+=b.data,b.Vf()&&e.eg());--v};e.prototype.Wu=function(e){this.first.get(e);var b=n();this.second.get(b);e.ab()&&b.ab()&&(e.data-=b.data,b.Vf()&&e.eg());--v};e.prototype.Qu=function(e){this.first.get(e);var b=n();this.second.get(b);e.ab()&&b.ab()&&(e.data*=b.data,b.Vf()&&e.eg());--v};e.prototype.Fu=function(e){this.first.get(e);
var b=n();this.second.get(b);e.ab()&&b.ab()&&(e.data/=b.data,e.eg());--v};e.prototype.Pu=function(e){this.first.get(e);var b=n();this.second.get(b);e.ab()&&b.ab()&&(e.data%=b.data,b.Vf()&&e.eg());--v};e.prototype.Uu=function(e){this.first.get(e);var b=n();this.second.get(b);e.ab()&&b.ab()&&(e.data=Math.pow(e.data,b.data),b.Vf()&&e.eg());--v};e.prototype.yu=function(e){this.first.get(e);var b=n();this.second.get(b);b.Xf()||e.Xf()?this.Au(e,b):this.zu(e,b);--v};e.prototype.Au=function(e,b){e.Xf()&&
b.Xf()?this.Cu(e,b):this.Bu(e,b)};e.prototype.Cu=function(e,b){e.data+=b.data};e.prototype.Bu=function(e,b){e.Xf()?e.data+=(Math.round(1E10*b.data)/1E10).toString():e.tb(e.data.toString()+b.data)};e.prototype.zu=function(e,b){e.oa(e.data&&b.data?1:0)};e.prototype.Tu=function(e){this.first.get(e);var b=n();this.second.get(b);e.ab()&&b.ab()&&(e.data||b.data?e.oa(1):e.oa(0));--v};e.prototype.Eu=function(e){this.first.get(e);e.data?this.second.get(e):this.bk.get(e)};e.prototype.Gu=function(e){this.first.get(e);
var b=n();this.second.get(b);e.oa(e.data===b.data?1:0);--v};e.prototype.Ru=function(e){this.first.get(e);var b=n();this.second.get(b);e.oa(e.data!==b.data?1:0);--v};e.prototype.Nu=function(e){this.first.get(e);var b=n();this.second.get(b);e.oa(e.data<b.data?1:0);--v};e.prototype.Ou=function(e){this.first.get(e);var b=n();this.second.get(b);e.oa(e.data<=b.data?1:0);--v};e.prototype.Ju=function(e){this.first.get(e);var b=n();this.second.get(b);e.oa(e.data>b.data?1:0);--v};e.prototype.Ku=function(e){this.first.get(e);
var b=n();this.second.get(b);e.oa(e.data>=b.data?1:0);--v};e.prototype.Hu=function(e){var b=this.Ye.xv();ha(b)?e.C(b):e.tb(b)};Zb=e;g.prototype.Vf=function(){return this.type===bc.Bf};g.prototype.ab=function(){return this.type===bc.Cf||this.type===bc.Bf};g.prototype.Xf=function(){return this.type===bc.String};g.prototype.eg=function(){this.Vf()||(this.Xf()&&(this.data=parseFloat(this.data)),this.type=bc.Bf)};g.prototype.oa=function(e){this.type=bc.Cf;this.data=Math.floor(e)};g.prototype.C=function(e){this.type=
bc.Bf;this.data=e};g.prototype.tb=function(e){this.type=bc.String;this.data=e};g.prototype.qx=function(e){ha(e)?(this.type=bc.Bf,this.data=e):w(e)?(this.type=bc.String,this.data=e.toString()):(this.type=bc.Cf,this.data=0)};Yb=g;bc={Cf:0,Bf:1,String:2}})();function X(e){this.b=e;this.Rb=[]}
X.prototype.Na=function(){var e={},n,m,g,t,v,r,b,f;e.waits=[];var d=e.waits,a;n=0;for(m=this.Rb.length;n<m;n++){r=this.Rb[n];a={t:r.time,st:r.Qq,s:r.Pm,ev:r.Kf.R,sm:[],sols:{}};r.Kf.Kc[r.Tb]&&(a.act=r.Kf.Kc[r.Tb].R);g=0;for(t=r.ta.length;g<t;g++)a.sm.push(r.ta[g].R);for(v in r.Cb)if(r.Cb.hasOwnProperty(v)){b=this.b.p[parseInt(v,10)];f={sa:r.Cb[v].Lj,insts:[]};g=0;for(t=r.Cb[v].Nd.length;g<t;g++)f.insts.push(r.Cb[v].Nd[g].uid);a.sols[b.R.toString()]=f}d.push(a)}return e};
X.prototype.bb=function(e){e=e.waits;var n,m,g,t,v,r,b,f,d,a,c;Q(this.Rb);n=0;for(m=e.length;n<m;n++)if(r=e[n],f=this.b.fo[r.ev.toString()]){d=-1;g=0;for(t=f.Kc.length;g<t;g++)if(f.Kc[g].R===r.act){d=g;break}if(-1!==d){b={Cb:{},ta:[],Sk:!1};b.time=r.t;b.Qq=r.st||"";b.Pm=!!r.s;b.Kf=f;b.Tb=d;g=0;for(t=r.sm.length;g<t;g++)(f=this.b.Ze(r.sm[g]))&&b.ta.push(f);for(v in r.sols)if(r.sols.hasOwnProperty(v)&&(f=this.b.Ze(parseInt(v,10)))){d=r.sols[v];a={Lj:d.sa,Nd:[]};g=0;for(t=d.insts.length;g<t;g++)(c=this.b.jl(d.insts[g]))&&
a.Nd.push(c);b.Cb[f.index.toString()]=a}this.Rb.push(b)}}};
(function(){function e(){}function n(){}function m(){}var g=X.prototype;e.prototype.An=function(){return!0};e.prototype.os=function(){return!0};e.prototype.Ar=function(b,d,a){return cc(b,d,a)};var t=[],v=-1;e.prototype.Fr=function(b){var d=b.ca();v++;t.length===v&&t.push([]);var a=t[v];S(a,d.Yb());var c=this.b.jb(),h=c.hb,k=c.bw(),c=this.b.Ww(),e,g,q,l,u,m,n=b.Bb;if(k)for(k=0,e=a.length;k<e&&!c.Um;k++){this.b.Aj(h.ta);l=a[k];d=b.ca();d.da=!1;Q(d.e);d.e[0]=l;if(n)for(g=0,q=l.siblings.length;g<q;g++)u=
l.siblings[g],m=u.type.ca(),m.da=!1,Q(m.e),m.e[0]=u;c.index=k;h.Aq();this.b.rf(h.ta)}else for(d.da=!1,Q(d.e),k=0,e=a.length;k<e&&!c.Um;k++){l=a[k];d.e[0]=l;if(n)for(g=0,q=l.siblings.length;g<q;g++)u=l.siblings[g],m=u.type.ca(),m.da=!1,Q(m.e),m.e[0]=u;c.index=k;h.Aq()}Q(a);this.b.Kw();v--;return!1};e.prototype.gt=function(){var b=this.b.Ii().I;"undefined"===typeof b.TriggerOnce_lastTick&&(b.TriggerOnce_lastTick=-1);var d=b.TriggerOnce_lastTick,a=this.b.Gc;b.TriggerOnce_lastTick=a;return this.b.Vl||
d!==a-1};e.prototype.Kr=function(b){return(b=this.b.Tf[b.toLowerCase()])&&b.$e};e.prototype.un=function(){var b=this.b.jb();return b.Wk?!1:!b.hf};e.prototype.Bn=function(){return!0};e.prototype.Zr=function(){return!0};e.prototype.pk=function(){return!0};e.prototype.Gn=function(){return!0};e.prototype.qs=function(){return!0};e.prototype.Zh=function(){return!0};e.prototype.rr=function(b,d,a){return Pa(V(b),V(a))<=V(d)};e.prototype.Jr=function(b,d){return Ra(V(b),V(d))};e.prototype.Ir=function(b,d,a){b=
Na(b);d=Na(d);a=Na(a);return Ra(a,d)?Ra(b,d)&&!Ra(b,a):!(!Ra(b,d)&&Ra(b,a))};g.g=new e;n.prototype.Dr=function(b,d,a,c){if(d&&b&&(d=this.b.Kk(b,d,a,c))){this.b.Vc++;var h;this.b.trigger(Object.getPrototypeOf(b.na).g.Df,d);if(d.Bb)for(a=0,c=d.siblings.length;a<c;a++)h=d.siblings[a],this.b.trigger(Object.getPrototypeOf(h.type.na).g.Df,h);this.b.Vc--;b=b.ca();b.da=!1;Q(b.e);b.e[0]=d;if(d.Bb)for(a=0,c=d.siblings.length;a<c;a++)h=d.siblings[a],b=h.type.ca(),b.da=!1,Q(b.e),b.e[0]=h}};n.prototype.Ts=function(b,
d){b&&(d=Ia(d/100,0,1),b.opacity!==d&&(b.opacity=d,this.b.Z=!0))};n.prototype.Qs=function(b,d){var a=this.b.Tf[b.toLowerCase()];if(a)switch(d){case 0:a.Oj(!1);break;case 1:a.Oj(!0);break;case 2:a.Oj(!a.$e)}};var r=[],b=[];n.prototype.it=function(f){if(!(0>f)){var d,a,c,h=this.b.jb(),k;r.length?k=r.pop():k={Cb:{},ta:[]};k.Sk=!1;k.time=this.b.$b.X+f;k.Qq="";k.Pm=!1;k.Kf=h.hb;k.Tb=h.Tb+1;f=0;for(d=this.b.p.length;f<d;f++)c=this.b.p[f],a=c.ca(),a.da&&-1===h.hb.ta.indexOf(c)||(k.ta.push(c),c=void 0,b.length?
c=b.pop():c={Nd:[]},c.Lj=!1,c.Lj=a.da,S(c.Nd,a.e),k.Cb[f.toString()]=c);this.Rb.push(k);return!0}};g.B=new n;m.prototype["int"]=function(b,d){w(d)?(b.oa(parseInt(d,10)),isNaN(b.data)&&(b.data=0)):b.oa(d)};m.prototype["float"]=function(b,d){w(d)?(b.C(parseFloat(d)),isNaN(b.data)&&(b.data=0)):b.C(d)};m.prototype.random=function(b,d,a){void 0===a?b.C(Math.random()*d):b.C(Math.random()*(a-d)+d)};m.prototype.sqrt=function(b,d){b.C(Math.sqrt(d))};m.prototype.abs=function(b,d){b.C(Math.abs(d))};m.prototype.round=
function(b,d){b.oa(Math.round(d))};m.prototype.floor=function(b,d){b.oa(Math.floor(d))};m.prototype.ceil=function(b,d){b.oa(Math.ceil(d))};m.prototype.sin=function(b,d){b.C(Math.sin(V(d)))};m.prototype.cos=function(b,d){b.C(Math.cos(V(d)))};m.prototype.tan=function(b,d){b.C(Math.tan(V(d)))};m.prototype.asin=function(b,d){b.C(Ja(Math.asin(d)))};m.prototype.acos=function(b,d){b.C(Ja(Math.acos(d)))};m.prototype.atan=function(b,d){b.C(Ja(Math.atan(d)))};m.prototype.exp=function(b,d){b.C(Math.exp(d))};
m.prototype.log10=function(b,d){b.C(Math.log(d)/Math.LN10)};m.prototype.max=function(b){var d=arguments[1];"number"!==typeof d&&(d=0);var a,c,h;a=2;for(c=arguments.length;a<c;a++)h=arguments[a],"number"===typeof h&&d<h&&(d=h);b.C(d)};m.prototype.min=function(b){var d=arguments[1];"number"!==typeof d&&(d=0);var a,c,h;a=2;for(c=arguments.length;a<c;a++)h=arguments[a],"number"===typeof h&&d>h&&(d=h);b.C(d)};m.prototype.Jf=function(b){b.C(this.b.Jf)};m.prototype.ng=function(b){b.C(this.b.ng)};m.prototype.time=
function(b){b.C(this.b.$b.X)};m.prototype.Gc=function(b){b.oa(this.b.Gc)};m.prototype.qj=function(b){b.oa(this.b.qj)};m.prototype.cl=function(b){b.oa(this.b.cl)};m.prototype.Tt=function(b,d,a,c,h){b.C(W(d,a,c,h))};m.prototype.j=function(b,d,a,c,h){b.C(Ja(Oa(d,a,c,h)))};m.prototype.rw=function(b){b.tb("\n")};m.prototype.left=function(b,d,a){b.tb(w(d)?d.substr(0,a):"")};m.prototype.right=function(b,d,a){b.tb(w(d)?d.substr(d.length-a):"")};m.prototype.replace=function(b,d,a,c){w(d)&&w(a)&&w(c)?b.tb(d.replace(new RegExp(cb(a),
"gi"),c)):b.tb(w(d)?d:"")};m.prototype.trim=function(b,d){b.tb(w(d)?d.trim():"")};m.prototype.It=function(b){var d=D(Math.random()*(arguments.length-1));b.qx(arguments[d+1])};m.prototype.bx=function(b,d,a,c){b.oa(ua(d,a,c))};m.prototype.Ik=function(b){b.C(this.b.Ik/1E3)};m.prototype.Kx=function(b,d){var a=this.b.Wo(d);b.C(a?a.ea:0)};m.prototype.Jx=function(b,d){var a=this.b.Wo(d);b.C(a?a.ia:0)};m.prototype.hj=function(b){b.C(this.b.hj)};m.prototype.Sv=function(b){b.C(Infinity)};m.prototype.tx=function(b,
d,a,c){a=a|0;b.oa((d|0)&~(1<<a)|(0!==c?1:0)<<a)};m.prototype.Kv=function(b,d,a){b.oa((d|0)&1<<(a|0)?1:0)};g.T=new m;g.gx=function(){var f,d,a,c,h,k,e=this.b.jb();f=0;for(a=this.Rb.length;f<a;f++){c=this.Rb[f];if(-1===c.time){if(!c.Pm)continue}else if(c.time>this.b.$b.X)continue;e.hb=c.Kf;e.Tb=c.Tb;e.Qa=0;for(d in c.Cb)c.Cb.hasOwnProperty(d)&&(h=this.b.p[parseInt(d,10)].ca(),k=c.Cb[d],h.da=k.Lj,S(h.e,k.Nd),h=k,Q(h.Nd),b.push(h));c.Kf.ax();this.b.Fk(c.ta);c.Sk=!0}d=f=0;for(a=this.Rb.length;f<a;f++)c=
this.Rb[f],this.Rb[d]=c,c.Sk?(Wa(c.Cb),Q(c.ta),r.push(c)):d++;Ea(this.Rb,d)}})();
(function(){nb=function(e,m){var g=e[1],t=e[3],v=e[4],r=e[5],b=e[6],f=e[7],d=e[8];m.g||(m.g={});m.B||(m.B={});m.T||(m.T={});var a=m.g,c=m.B,h=m.T;t&&(a.Wx=function(a,c){return cc(this.x,a,c)},a.Xx=function(a,c){return cc(this.y,a,c)},a.by=function(){var a=this.k;this.U();var c=this.N;return!(c.right<a.ea||c.bottom<a.ja||c.left>a.ma||c.top>a.ia)},a.cy=function(){this.U();var a=this.N,c=this.b.ga;return 0>a.right||0>a.bottom||a.left>c.width||a.top>c.height},a.ny=function(a,c,b){var d=this.ca(),f=d.Yb();
if(!f.length)return!1;var h=f[0],e=h,g=W(h.x,h.y,c,b),m,n,t;m=1;for(n=f.length;m<n;m++)if(h=f[m],t=W(h.x,h.y,c,b),0===a&&t<g||1===a&&t>g)g=t,e=h;d.zh(e);return!0},c.Fy=function(a){this.x!==a&&(this.x=a,this.H())},c.Gy=function(a){this.y!==a&&(this.y=a,this.H())},c.On=function(a,c){if(this.x!==a||this.y!==c)this.x=a,this.y=c,this.H()},c.Pn=function(a,c){var b=a.sv(this);if(b){var d;b.hl?(d=b.hl(c,!0),b=b.hl(c,!1)):(d=b.x,b=b.y);if(this.x!==d||this.y!==b)this.x=d,this.y=b,this.H()}},c.hy=function(a){0!==
a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.H())},c.Rr=function(a,c){0!==c&&(this.x+=Math.cos(V(a))*c,this.y+=Math.sin(V(a))*c,this.H())},h.Rn=function(a){a.C(this.x)},h.Sn=function(a){a.C(this.y)},h.Jf=function(a){a.C(this.b.Pf(this))});v&&(a.Vx=function(a,c){return cc(this.width,a,c)},a.Br=function(a,c){return cc(this.height,a,c)},c.Xs=function(a){this.width!==a&&(this.width=a,this.H())},c.Rs=function(a){this.height!==a&&(this.height=a,this.H())},c.Dy=function(a,c){if(this.width!==
a||this.height!==c)this.width=a,this.height=c,this.H()},h.Ky=function(a){a.C(this.width)},h.Hr=function(a){a.C(this.height)},h.Qx=function(a){this.U();a.C(this.N.left)},h.Sx=function(a){this.U();a.C(this.N.top)},h.Rx=function(a){this.U();a.C(this.N.right)},h.Px=function(a){this.U();a.C(this.N.bottom)});r&&(a.rr=function(a,c){return Pa(this.j,V(c))<=V(a)},a.Jr=function(a){return Ra(this.j,V(a))},a.Ir=function(a,c){var b=Na(a),d=Na(c),f=La(this.j);return Ra(d,b)?Ra(f,b)&&!Ra(f,d):!(!Ra(f,b)&&Ra(f,d))},
c.yy=function(a){a=V(Ka(a));isNaN(a)||this.j===a||(this.j=a,this.H())},c.uy=function(a){0===a||isNaN(a)||(this.j+=V(a),this.j=La(this.j),this.H())},c.vy=function(a){0===a||isNaN(a)||(this.j-=V(a),this.j=La(this.j),this.H())},c.wy=function(a,c){var b=Qa(this.j,V(c),V(a));isNaN(b)||this.j===b||(this.j=b,this.H())},c.xy=function(a,c,b){a=Qa(this.j,Math.atan2(b-this.y,c-this.x),V(a));isNaN(a)||this.j===a||(this.j=a,this.H())},c.Ey=function(a,c){var b=Math.atan2(c-this.y,a-this.x);isNaN(b)||this.j===b||
(this.j=b,this.H())},h.Ox=function(a){a.C(Ma(this.j))});g||(a.Cr=function(a,c,b){return cc(this.qa[a],c,b)},a.$x=function(a){return this.qa[a]},a.oy=function(a,c){var b=this.ca(),d=b.Yb();if(!d.length)return!1;var f=d[0],h=f,e=f.qa[c],g,m,n;g=1;for(m=d.length;g<m;g++)if(f=d[g],n=f.qa[c],0===a&&n<e||1===a&&n>e)e=n,h=f;b.zh(h);return!0},a.my=function(a){var c,b,d,f,h;if(this.b.Ii().Pi){h=this.ca();if(h.da)for(h.da=!1,Q(h.e),Q(h.Y),d=this.e,c=0,b=d.length;c<b;c++)f=d[c],f.uid===a?h.Y.push(f):h.e.push(f);
else{d=c=0;for(b=h.e.length;c<b;c++)f=h.e[c],h.e[d]=f,f.uid===a?h.Y.push(f):d++;Ea(h.e,d)}this.fe();return!!h.e.length}f=this.b.jl(a);if(!f)return!1;h=this.ca();if(!h.da&&-1===h.e.indexOf(f))return!1;if(this.G)for(a=f.type.ya,c=0,b=a.length;c<b;c++){if(a[c]===this)return h.zh(f),this.fe(),!0}else if(f.type===this)return h.zh(f),this.fe(),!0;return!1},a.Df=function(){return!0},a.as=function(){return!0},c.Ss=function(a,c){var b=this.qa;ha(b[a])?b[a]=ha(c)?c:parseFloat(c):w(b[a])&&(b[a]=w(c)?c:c.toString())},
c.Nx=function(a,c){var b=this.qa;ha(b[a])?b[a]=ha(c)?b[a]+c:b[a]+parseFloat(c):w(b[a])&&(b[a]=w(c)?b[a]+c:b[a]+c.toString())},c.Hy=function(a,c){var b=this.qa;ha(b[a])&&(b[a]=ha(c)?b[a]-c:b[a]-parseFloat(c))},c.zy=function(a,c){this.qa[a]=c?1:0},c.Iy=function(a){this.qa[a]=1-this.qa[a]},c.Er=function(){this.b.Jc(this)},c.Qr||(c.Qr=function(a){var c,b;try{c=JSON.parse(a)}catch(d){return}this.b.fj(this,c,!0);this.Ed&&this.Ed();if(this.K)for(a=0,c=this.K.length;a<c;++a)b=this.K[a],b.Ed&&b.Ed()}),h.Yx=
function(a){var c=a.pf.e.length,b,d,f;b=0;for(d=this.b.Rc.length;b<d;b++)f=this.b.Rc[b],a.pf.G?0<=f.type.ya.indexOf(a.pf)&&c++:f.type===a.pf&&c++;a.oa(c)},h.ty=function(a){a.oa(a.pf.ca().Yb().length)},h.Jy=function(a){a.oa(this.uid)},h.Zx=function(a){a.oa(this.Qg())},h.tr||(h.tr=function(a){a.tb(JSON.stringify(this.b.Hm(this,!0)))}));b&&(a.ey=function(){return this.visible},c.Qn=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.Z=!0)},a.Ux=function(a,c){return cc(jb(100*this.opacity),a,c)},
c.Cy=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.Z=!0)},h.Opacity=function(a){a.C(jb(100*this.opacity))});f&&(a.ay=function(a){return a?this.k===a:!1},a.qy=function(a){var c=this.ca(),b=c.Yb();if(!b.length)return!1;var d=b[0],f=d,h,e;h=1;for(e=b.length;h<e;h++)if(d=b[h],0===a){if(d.k.index>f.k.index||d.k.index===f.k.index&&d.nd()>f.nd())f=d}else if(d.k.index<f.k.index||d.k.index===f.k.index&&d.nd()<f.nd())f=d;c.zh(f);return!0},c.Sr=function(){var a=this.k,c=a.e;
c.length&&c[c.length-1]===this||(a.ig(this,!1),a.xg(this,!1),this.b.Z=!0)},c.iy=function(){var a=this.k,c=a.e;c.length&&c[0]===this||(a.ig(this,!1),a.Pw(this),this.b.Z=!0)},c.jy=function(a){a&&a!=this.k&&(this.k.ig(this,!0),this.k=a,a.xg(this,!0),this.b.Z=!0)},c.lt=function(a,c){var b=0===a;if(c){var d=c.To(this);d&&d.uid!==this.uid&&(this.k.index!==d.k.index&&(this.k.ig(this,!0),this.k=d.k,d.k.xg(this,!0)),this.k.ow(this,d,b),this.b.Z=!0)}},h.gy=function(a){a.oa(this.k.bq)},h.fy=function(a){a.tb(this.k.name)},
h.Ly=function(a){a.oa(this.nd())});d&&(c.Ay=function(a,c){if(this.b.n){var b=this.type.gl(c);if(!(0>b)){var d=1===a;this.be[b]!==d&&(this.be[b]=d,this.cd(),this.b.Z=!0)}}},c.By=function(a,c,b){if(this.b.n){var d=this.type.gl(a);0>d||(a=this.type.O[d],d=this.Ea[d],c=Math.floor(c),0>c||c>=d.length||(1===this.b.n.wv(a.Oa,c)&&(b/=100),d[c]!==b&&(d[c]=b,a.gc&&(this.b.Z=!0))))}})};Ib=function(){this.Ak=this.vk=!0;this.type.$h=!0;this.b.Z=!0;var e,m,g=this.wk;e=0;for(m=g.length;e<m;++e)g[e](this);this.k.pc&&
this.U()};Jb=function(e){e&&this.wk.push(e)};Lb=function(){if(this.vk){var e=this.N,m=this.Pa;e.set(this.x,this.y,this.x+this.width,this.y+this.height);e.offset(-this.Ib*this.width,-this.Jb*this.height);this.j?(e.offset(-this.x,-this.y),m.Lq(e,this.j),m.offset(this.x,this.y),m.ho(e)):m.Ad(e);e.normalize();this.vk=!1;this.Fx()}};var e=new J(0,0,0,0);Mb=function(){if(this.k.pc){var n=this.k.lb,m=this.N;e.set(n.Db(m.left),n.Eb(m.top),n.Db(m.right),n.Eb(m.bottom));this.Nb.Ig(e)||(this.Nb.right<this.Nb.left?
n.update(this,null,e):n.update(this,this.Nb,e),this.Nb.Cg(e),this.k.ad=!0)}};Nb=function(){if(this.Ak&&this.Qc){this.U();var n=this.type.mi,m=this.N;e.set(n.Db(m.left),n.Eb(m.top),n.Db(m.right),n.Eb(m.bottom));this.ie.Ig(e)||(this.ie.right<this.ie.left?n.update(this,null,e):n.update(this,this.ie,e),this.ie.Cg(e),this.Ak=!1)}};Kb=function(e,m){return this.N.Za(e,m)&&this.Pa.Za(e,m)?this.Cd?this.dz(e,m):this.D&&!this.D.od()?(this.D.jd(this.width,this.height,this.j),this.D.Za(e-this.x,m-this.y)):!0:
!1};Eb=function(){this.type.gk();return this.cf};Ob=function(){this.k.nn();return this.dd};Pb=function(){Q(this.ka);var e,m,g,t=!0;e=0;for(m=this.be.length;e<m;e++)this.be[e]&&(g=this.type.O[e],this.ka.push(g),g.Zc||(t=!1));this.nr=!!this.ka.length;this.Vd=t};Fb=function(){return"Inst"+this.uq};qb=function(e){if(e&&e.Bb&&e.type!=this){var m,g,t;m=0;for(g=e.siblings.length;m<g;m++)if(t=e.siblings[m],t.type==this)return t}e=this.ca().Yb();return e.length?e[0]:null};rb=function(e){var m=this.ca().Yb();
return m.length?m[e.Qg()%m.length]:null};pb=function(){if(this.mg&&!this.G){var e,m;e=0;for(m=this.e.length;e<m;e++)this.e[e].cf=e;var g=e,t=this.b.Rc;e=0;for(m=t.length;e<m;++e)t[e].type===this&&(t[e].cf=g++);this.mg=!1}};Cb=function(e){if(e<this.e.length)return this.e[e];e-=this.e.length;var m=this.b.Rc,g,t;g=0;for(t=m.length;g<t;++g)if(m[g].type===this){if(0===e)return m[g];--e}return null};sb=function(){return this.Xd[this.kd]};tb=function(){this.kd++;this.kd===this.Xd.length?this.Xd.push(new ob(this)):
(this.Xd[this.kd].da=!0,Q(this.Xd[this.kd].Y))};ub=function(){this.kd++;this.kd===this.Xd.length&&this.Xd.push(new ob(this));var e=this.Xd[this.kd],m=this.Xd[this.kd-1];m.da?e.da=!0:(e.da=!1,S(e.e,m.e));Q(e.Y)};xb=function(){this.kd--};yb=function(e){var m,g,t,v,r,b=0;if(!this.G)for(m=0,g=this.ya.length;m<g;m++)for(r=this.ya[m],t=0,v=r.Ca.length;t<v;t++){if(e===r.Ca[t].name)return this.I.lastBehIndex=b,r.Ca[t];b++}m=0;for(g=this.Ca.length;m<g;m++){if(e===this.Ca[m].name)return this.I.lastBehIndex=
b,this.Ca[m];b++}return null};zb=function(e){return this.Gi(e)?this.I.lastBehIndex:-1};Ab=function(e){var m,g;m=0;for(g=this.O.length;m<g;m++)if(this.O[m].name===e)return m;return-1};Bb=function(){if(this.Bb&&!this.G){var e,m,g,t,v,r,b;this.gk();r=this.ca();var f=r.da,d=(e=this.b.jb())&&e.hb&&e.hb.xc;e=0;for(m=this.Vb.length;e<m;e++)if(v=this.Vb[e],v!==this&&(v.gk(),b=v.ca(),b.da=f,!f)){Q(b.e);g=0;for(t=r.e.length;g<t;++g)b.e[g]=v.il(r.e[g].cf);if(d)for(Q(b.Y),g=0,t=r.Y.length;g<t;++g)b.Y[g]=v.il(r.Y[g].cf)}}};
Db=function(){return"Type"+this.R};cc=function(e,m,g){if("undefined"===typeof e||"undefined"===typeof g)return!1;switch(m){case 0:return e===g;case 1:return e!==g;case 2:return e<g;case 3:return e<=g;case 4:return e>g;case 5:return e>=g;default:return!1}}})();var lc={};function pc(e){this.b=e}
(function(){function e(){t&&v&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(function(b){r.Bw(b)})}function n(){}var m=pc.prototype;m.ba=function(b){this.na=b;this.b=b.b};var g=m.ba.prototype;g.J=function(){};var t=!1,v=!1;document.addEventListener("DOMContentLoaded",function(){if(window.C2_RegisterSW&&navigator.serviceWorker){var b=document.createElement("script");b.onload=function(){t=!0;e()};b.src="offlineClient.js";document.head.appendChild(b)}});var r=null;g.gq=function(){v=
!0;e()};m.Q=function(b){this.type=b;this.b=b.b};g=m.Q.prototype;g.J=function(){var b=this;window.addEventListener("resize",function(){b.b.trigger(pc.prototype.g.As,b)});r=this;"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){b.b.trigger(pc.prototype.g.us,b)}),window.addEventListener("offline",function(){b.b.trigger(pc.prototype.g.rs,b)}));this.b.Od||(document.addEventListener("appMobi.device.update.available",function(){b.b.trigger(pc.prototype.g.qk,b)}),document.addEventListener("backbutton",
function(){b.b.trigger(pc.prototype.g.Yh,b)}),document.addEventListener("menubutton",function(){b.b.trigger(pc.prototype.g.Cn,b)}),document.addEventListener("searchbutton",function(){b.b.trigger(pc.prototype.g.Cs,b)}),document.addEventListener("tizenhwkey",function(f){var d;switch(f.keyName){case "back":d=b.b.trigger(pc.prototype.g.Yh,b);!d&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(d=b.b.trigger(pc.prototype.g.Cn,b))||f.preventDefault()}}));this.b.Kl&&
"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(f){b.b.trigger(pc.prototype.g.Yh,b)&&(f.handled=!0)}):this.b.np&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!b.b.trigger(pc.prototype.g.Yh,b)});this.b.Yn(function(f){f?b.b.trigger(pc.prototype.g.vs,b):b.b.trigger(pc.prototype.g.ws,b)})};g.Bw=function(b){b=b.data.type;"downloading-update"===b?this.b.trigger(pc.prototype.g.Js,this):"update-ready"===
b||"update-pending"===b?this.b.trigger(pc.prototype.g.qk,this):"offline-ready"===b&&this.b.trigger(pc.prototype.g.ts,this)};n.prototype.us=function(){return!0};n.prototype.rs=function(){return!0};n.prototype.qk=function(){return!0};n.prototype.ws=function(){return!0};n.prototype.vs=function(){return!0};n.prototype.As=function(){return!0};n.prototype.Yh=function(){return!0};n.prototype.Cn=function(){return!0};n.prototype.Cs=function(){return!0};n.prototype.Js=function(){return!0};n.prototype.qk=function(){return!0};
n.prototype.ts=function(){return!0};m.g=new n;m.B=new function(){};m.T=new function(){}})();function qc(e){this.b=e}
(function(){function e(){}var n=qc.prototype;n.ba=function(e){this.na=e;this.b=e.b};n.ba.prototype.J=function(){};n.Q=function(e){this.type=e;this.b=e.b;this.Yf=Array(256);this.Sh=Array(256);this.Zd=0};var m=n.Q.prototype;m.J=function(){var e=this;this.b.Sa||(jQuery(document).keydown(function(g){e.mm(g)}),jQuery(document).keyup(function(g){e.nm(g)}))};var g=[32,33,34,35,36,37,38,39,40,44];m.mm=function(e){var m=!1;window!=window.top&&-1<g.indexOf(e.which)&&(e.preventDefault(),m=!0,e.stopPropagation());
if(this.Yf[e.which])this.Sh[e.which]&&!m&&e.preventDefault();else{this.Yf[e.which]=!0;this.Zd=e.which;this.b.vc=!0;this.b.trigger(qc.prototype.g.Wr,this);var n=this.b.trigger(qc.prototype.g.ls,this),b=this.b.trigger(qc.prototype.g.ns,this);this.b.vc=!1;if(n||b)this.Sh[e.which]=!0,m||e.preventDefault()}};m.nm=function(e){this.Yf[e.which]=!1;this.Zd=e.which;this.b.vc=!0;this.b.trigger(qc.prototype.g.wn,this);var g=this.b.trigger(qc.prototype.g.zn,this),m=this.b.trigger(qc.prototype.g.yn,this);this.b.vc=
!1;if(g||m||this.Sh[e.which])this.Sh[e.which]=!0,e.preventDefault()};m.qf=function(){var e;for(e=0;256>e;++e)if(this.Yf[e]){this.Yf[e]=!1;this.Zd=e;this.b.trigger(qc.prototype.g.wn,this);var g=this.b.trigger(qc.prototype.g.zn,this),m=this.b.trigger(qc.prototype.g.yn,this);if(g||m)this.Sh[e]=!0}};m.Na=function(){return{triggerKey:this.Zd}};m.bb=function(e){this.Zd=e.triggerKey};e.prototype.Nr=function(e){return this.Yf[e]};e.prototype.ls=function(e){return e===this.Zd};e.prototype.Wr=function(){return!0};
e.prototype.wn=function(){return!0};e.prototype.zn=function(e){return e===this.Zd};e.prototype.ns=function(e){return e===this.Zd};e.prototype.yn=function(e){return e===this.Zd};n.g=new e;n.B=new function(){};n.T=new function(){}})();function Z(e){this.b=e}
(function(){function e(a){this.i=a;this.history=[]}function n(a){this.vw=a;this.j=this.y=this.x=this.timestamp=0;this.xe=[]}function m(a,b,d,f){a=b-a;if(0===a)return 0;b=la(a);if(b<=la(d/10)||1>b||1E3<=b)return a;var e=b/50;f&&(e=ma(e,1));f=la(d/5);10<=b&&(e=b/10,f=la(d/2));d=ma(e,f);d>b&&(d=b);return 0<a?d:-d}function g(){}function t(){}function v(){}var r=Z.prototype;r.ba=function(a){this.na=a;this.b=a.b};r.ba.prototype.J=function(){};r.Q=function(a){this.type=a;this.b=a.b};var b=r.Q.prototype,
f=!1;b.J=function(){this.q=null;(f=window.C2Multiplayer_IsSupported())&&"undefined"!==typeof window.C2Multiplayer&&(this.q=new window.C2Multiplayer);this.qw=this.Xp=this.Yp=this.pw=this.hw=this.wj=this.yh=this.Pq="";this.fk={};this.Wg={};this.ud={};this.ug=this.cx=this.iv=null;this.Oi=[];this.zf=[];this.sd={};var a=this;f&&(this.q.onserverlist=function(){a.b.trigger(Z.prototype.g.Ds,a)},this.q.onsignallingerror=function(){a.b.trigger(Z.prototype.g.In,a)},this.q.onsignallingclose=function(){a.b.trigger(Z.prototype.g.Es,
a);a.Pq=""},this.q.onsignallingwelcome=function(){a.b.trigger(Z.prototype.g.Hn,a)},this.q.onsignallinglogin=function(){a.b.trigger(Z.prototype.g.Kn,a)},this.q.onsignallingjoin=function(b){a.Wg={};a.ud={};a.zf.length=0;a.Oi.length=0;a.sd={};a.b.trigger(Z.prototype.g.Jn,a);a.b.ff&&b&&a.ug.postMessage("start")},this.q.onsignallingleave=function(){a.b.trigger(Z.prototype.g.Gs,a)},this.q.onsignallingkicked=function(){a.b.trigger(Z.prototype.g.Fs,a)},this.q.onbeforeclientupdate=function(){a.b.trigger(Z.prototype.g.$r,
a)},this.q.onpeeropen=function(b){a.yh=b.id;a.wj=b.alias;a.b.trigger(Z.prototype.g.Fn,a)},this.q.onpeerclose=function(b,d){a.yh=b.id;a.wj=b.alias;a.hw=d||"unknown";var f=a.Po(b);if(f){var e=a.fk[f.type];e&&e.removeObjectNid(b.nid);a.b.Jc(f)}a.ud.hasOwnProperty(b.id)&&delete a.ud[b.id];a.b.trigger(Z.prototype.g.ys,a)},this.q.onpeermessage=function(b,d){a.Yp=d.t;a.Xp=d.f?d.f:b.id;a.qw=a.q.getAliasFromId(a.Xp);a.pw=d.m;a.b.trigger(Z.prototype.g.Xr,a);a.b.trigger(Z.prototype.g.zs,a)},this.q.onsignallinginstancelist=
function(b){a.iv=b;a.b.trigger(Z.prototype.g.hs,a)},this.q.onsignallingroomlist=function(b){a.cx=b;a.b.trigger(Z.prototype.g.Bs,a)},this.q.ongetobjectcount=function(a){return a.e.length},this.q.ongetobjectvalue=function(b,d,f){if(!f)return b.e[d].uid;b=b.e[d];switch(f.tag){case "x":return b.x;case "y":return b.y;case "a":return b.j;case "iv":if(f.clientvaluetag&&(d=a.Wg[b.uid])&&a.q.me!==d&&!d.wasRemoved&&d.hasClientState(f.clientvaluetag))return d.getInterpClientState(f.clientvaluetag);f=b.qa[f.userdata];
return"number"===typeof f?f:0;default:return 0}},this.q.oninstancedestroyed=function(b,d,f){var e=b.userdata;b=e.xl;e.Ok||(e.Ok={});e.Ok[d]=f;b&&b.hasOwnProperty(d)&&((f=b[d])&&a.b.Jc(f),delete b[d])},this.b.pt(function(b){var d,f=b.uid;a.Wg.hasOwnProperty(f)&&delete a.Wg[f];for(d in a.ud)if(a.ud.hasOwnProperty(d)&&a.ud[d]===b){delete a.ud[d];break}a.sd.hasOwnProperty(f)&&delete a.sd[f];d=a.Oi.indexOf(b);-1<d&&a.Oi.splice(d,1);d=a.zf.indexOf(b);-1<d&&a.zf.splice(d,1);a.q.removeObjectId(f)}),this.ug=
new Worker("waker.js"),this.ug.addEventListener("message",function(b){"tick"===b.data&&a.b.ff&&a.b.xb(!0)},!1),this.ug.postMessage(""));this.b.Yn(function(b){f&&a.q.isHost()&&(b?a.ug.postMessage("start"):a.ug.postMessage("stop"))});this.b.Sw(this)};b.Po=function(a){a=a.id;return this.ud.hasOwnProperty(a)?this.ud[a]:null};b.aw=function(a){return 0<=this.Oi.indexOf(a)};b.Rw=function(){if(f){this.q.tick(this.b.ne);this.Bx();var a,b,d;if(this.q.isInRoom()&&!this.q.isHost())for(a=0,b=this.q.registeredObjects.length;a<
b;++a)d=this.q.registeredObjects[a],this.Dx(d)}};var d=[];b.Dx=function(a){a.tick();var b=a.obj,f=a.getCount(),e=a.netvalues,g=a.userdata;g.xl||(g.xl={});var q=g.xl,g=g.Ok,l=a.simTime,m,n,v,r,t,K,N,A=e.length;for(m in q)q.hasOwnProperty(m)&&(r=q[m],this.b.jl(r.uid)||delete q[m]);if(g)for(m in g)g.hasOwnProperty(m)&&g[m]<l-3E3&&delete g[m];for(m=0;m<f;++m)if(n=a.getNetInstAt(m),v=n.nid,g&&g[v]>=l-3E3)d.push(n),q.hasOwnProperty(v)&&(this.b.Jc(q[v]),delete q[v]);else{if(q.hasOwnProperty(v))r=q[v],N=
!1;else{if(r=this.q.getPeerByNid(v))this.yh=r.id,this.wj=r.alias;else{if(a.hasOverriddenNids)continue;this.wj=this.yh=""}r=this.b.Kk(b,this.b.ga.P[b.zo],-1E3,-1E3);q[v]=r;N=!0}if(n.isTimedOut(l))d.push(n),q.hasOwnProperty(v)&&delete q[v],this.b.Jc(r);else{if(this.aw(r))this.Lt(r,n,e,l);else for(K=0;K<A;++K)switch(v=n.getInterp(l,K),t=e[K],t.tag){case "x":r.x=v;r.H();break;case "y":r.y=v;r.H();break;case "a":r.j=v;r.H();break;case "iv":t=t.userdata;if(t>r.qa.length||"number"!==typeof r.qa[t])break;
r.qa[t]=v}N&&this.b.trigger(Object.getPrototypeOf(b.na).g.Df,r)}}m=0;for(f=d.length;m<f;++m)a.removeNetInstance(d[m]);d.length=0};b.Bx=function(){var a=this.q.getHostInputArrivalTime(),b,d;b=0;for(d=this.zf.length;b<d;++b)this.Cx(this.zf[b],a)};e.prototype.Vo=function(a){if(2>this.history.length)return 0;var b=this.history[this.history.length-2],d=this.history[this.history.length-1];switch(a){case "x":return d.x-b.x;case "y":return d.y-b.y;case "a":return d.j-b.j;case "iv":return d.xe[void 0]-b.xe[void 0]}return 0};
e.prototype.Uo=function(a,b,d,f){var e,g,l,m=null,n=null;e=0;for(g=this.history.length;e<g;++e)if(l=this.history[e],l.timestamp<d)m=l;else{e+1<this.history.length&&(n=this.history[e+1]);break}if(m){e=0;switch(a){case "x":e=m.x;break;case "y":e=m.y;break;case "a":e=m.j;break;case "iv":e=m.xe[b]}if(!n)return e;g=e;switch(a){case "x":g=n.x;break;case "y":g=n.y;break;case "a":g=n.j;break;case "iv":g=n.xe[b]}return window.interpNetValue(f,e,g,Ta(m.timestamp,n.timestamp,d),!1)}};e.prototype.zt=function(a,
b,d){var f,e,g;f=0;for(e=this.history.length;f<e;++f)switch(g=this.history[f],a){case "x":g.x+=d;break;case "y":g.y+=d;break;case "a":g.j+=d;break;case "iv":g.xe[b]+=d}};var a=[];b.Cx=function(b,d){this.sd.hasOwnProperty(b.uid)||(this.sd[b.uid]=new e(b));var f=this.sd[b.uid],g;a.length?(g=a.pop(),g.vw=f):g=new n(f);g.timestamp=d;g.x=b.x;g.y=b.y;g.j=b.j;S(g.xe,b.qa);for(f.history.push(g);0<f.history.length&&f.history[0].timestamp<=d-2E3;)g=f.history.shift(),g.xe.length=0,1E3>a.length&&a.push(g)};b.Lt=
function(a,b,d,f){if(this.sd.hasOwnProperty(a.uid)){var e=this.sd[a.uid],g,l,u,n,v,r,t,K=d.length,N=W(0,0,e.Vo("x"),e.Vo("y")),A=!!a.I.isPlatformBehavior;for(g=0;g<K;++g)if(v=d[g],r=v.tag,t=v.userdata,n=v.interp,l=b.getLatestUpdate())if(u=l.data[g],n=e.Uo(r,t,l.timestamp,n),"undefined"!==typeof n){l=0;switch(r){case "x":l=m(n,u,N,A);0!==l&&(a.x+=l,a.H());break;case "y":l=m(n,u,N,A);0!==l&&(a.y+=l,a.H());break;case "a":l=Ua(n,u,.5)-n;0!==l&&(a.j+=l,a.H());break;case "iv":u=t;if(u>a.qa.length||"number"!==
typeof a.qa[u])break;v.clientvaluetag||(a.qa[u]=b.getInterp(f,g))}0!==l&&e.zt(r,t,l)}}};b.ru=function(){};b.td=function(){};b.Na=function(){return{}};b.bb=function(){};g.prototype.Ds=function(){return!0};g.prototype.In=function(){return!0};g.prototype.Hn=function(){return!0};g.prototype.Es=function(){return!0};g.prototype.Kn=function(){return!0};g.prototype.Jn=function(){return!0};g.prototype.Gs=function(){return!0};g.prototype.Fs=function(){return!0};g.prototype.Fn=function(){return!0};g.prototype.ys=
function(){return!0};g.prototype.Lr=function(){return f&&this.q.isHost()};g.prototype.Or=function(){return f};g.prototype.zs=function(a){return this.Yp===a};g.prototype.Xr=function(){return!0};g.prototype.$r=function(){return!0};g.prototype.hs=function(){return!0};g.prototype.Bs=function(){return!0};r.g=new g;t.prototype.Zs=function(a){f&&!this.q.isConnected()&&(this.Pq=a,this.q.signallingConnect(a))};t.prototype.$s=function(a){f&&this.q.isConnected&&!this.q.isLoggedIn()&&this.q.signallingLogin(a)};
t.prototype.Ys=function(a,b,d,e,g){f&&this.q.isLoggedIn()&&!this.q.isInRoom()&&this.q.signallingAutoJoinGameRoom(a,b,d,e,0===g)};b.Do=function(a,b,d,e){f&&(e=this.q.registerObject(a,a.R,e),1===b?(e.addValue(this.q.INTERP_LINEAR,d,"x"),e.addValue(this.q.INTERP_LINEAR,d,"y")):2===b?e.addValue(this.q.INTERP_ANGULAR,d,"a"):3===b&&(e.addValue(this.q.INTERP_LINEAR,d,"x"),e.addValue(this.q.INTERP_LINEAR,d,"y"),e.addValue(this.q.INTERP_ANGULAR,d,"a")),this.fk[a]=e)};t.prototype.dt=function(a,b,d,e){if(f){var g,
q;if(a.G)for(g=0,q=a.qd.length;g<q;++g)this.Do(a.qd[g],b,d,e);else this.Do(a,b,d,e)}};b.Eo=function(a,b,d,e,g){if(f&&(a=this.fk[a])){var q=this.q.INTERP_NONE;1===e?q=this.q.INTERP_LINEAR:2===e&&(q=this.q.INTERP_ANGULAR);a.addValue(q,d,"iv",b,g)}};t.prototype.et=function(a,b,d,e,g){if(f){var q,l,m;if(a.G)for(q=0,l=a.qd.length;q<l;++q)m=a.qd[q],this.Eo(m,b+m.Ng[a.md],d,e,g);else this.Eo(a,b,d,e,g)}};t.prototype.ur=function(a,b){if(f){var d=a.To();if(d){var e=this.fk[a];if(e){var g=this.q.getPeerById(b);
g&&(this.q.isHost()&&(e.overrideNid(d.uid,g.nid),-1===this.zf.indexOf(d)&&this.zf.push(d)),this.Wg[d.uid]=g,this.ud[g.id]=d)}}}};t.prototype.Ps=function(a,b){f&&this.q.setClientState(a,b)};t.prototype.qr=function(a,b,d){f&&this.q.addClientInputValue(a,b,d)};r.B=new t;v.prototype.Tr=function(a){a.tb(f?this.q.getMyID():"")};v.prototype.Ls=function(a){a.tb(this.yh)};v.prototype.Ms=function(a,b,d){f?(b=this.q.getPeerById(b),a.C(b?b.getInterpClientState(d):0)):a.C(0)};b.Ag=function(a,b,d,e){if(!f||!this.q.isHost())return 0;
var g=this.q.getPeerById(a);if(!g)return 0;var q=this.Po(g);if(!q)return 0;a=0;switch(d){case "x":a=q.x;break;case "y":a=q.y;break;case "a":a=q.j}b=this.q.getPeerById(b);if(!b||b===g||this.q.me===b)return a;b=2*(b.latency+this.q.clientDelay);q=q.uid;if(!this.sd.hasOwnProperty(q))return a;e=this.sd[q].Uo(d,0,Xa()-b,e);return"undefined"===typeof e?a:e};r.T=new v})();function Y(e){this.b=e}
(function(){function e(){if(0===this.Nk.length){var b=document.createElement("canvas");b.width=this.width;b.height=this.height;var a=b.getContext("2d");this.lg?a.drawImage(this.aa,this.fg,this.gg,this.width,this.height,0,0,this.width,this.height):a.drawImage(this.aa,0,0,this.width,this.height);this.Nk=b.toDataURL("image/png")}return this.Nk}function n(){}function m(){}var g=Y.prototype;g.ba=function(b){this.na=b;this.b=b.b};var t=g.ba.prototype;t.J=function(){if(!this.G){var b,a,c,f,k,g,m,q,l;this.Lc=
[];this.Tg=!1;b=0;for(a=this.Ub.length;b<a;b++){k=this.Ub[b];m={};m.name=k[0];m.speed=k[1];m.loop=k[2];m.Dm=k[3];m.Em=k[4];m.oq=k[5];m.R=k[6];m.frames=[];c=0;for(f=k[7].length;c<f;c++)g=k[7][c],q={},q.Xm=g[0],q.Ym=g[1],q.fg=g[2],q.gg=g[3],q.width=g[4],q.height=g[5],q.duration=g[6],q.Ib=g[7],q.Jb=g[8],q.rl=g[9],q.xj=g[10],q.pq=g[11],q.lg=0!==q.width,q.Nk="",q.Qy=e,l={left:0,top:0,right:1,bottom:1},q.Om=l,q.S=null,(l=this.b.gv(g[0]))?q.aa=l:(q.aa=new Image,q.aa.Mt=g[0],q.aa.Jk=g[1],q.aa.Et=null,this.b.rn(q.aa,
g[0])),m.frames.push(q),this.Lc.push(q);this.Ub[b]=m}}};t.kr=function(){var b,a,c;b=0;for(a=this.e.length;b<a;b++)c=this.e[b],c.pi=c.fb.S};t.xh=function(){if(!this.G){var b,a,c;b=0;for(a=this.Lc.length;b<a;++b)c=this.Lc[b],c.aa.Et=null,c.S=null;this.Tg=!1;this.kr()}};t.sj=function(){if(!this.G&&this.e.length){var b,a,c;b=0;for(a=this.Lc.length;b<a;++b)c=this.Lc[b],c.S=this.b.n.gj(c.aa,!1,this.b.wa,c.pq);this.kr()}};t.Yl=function(){if(!this.G&&!this.Tg&&this.b.n){var b,a,c;b=0;for(a=this.Lc.length;b<
a;++b)c=this.Lc[b],c.S=this.b.n.gj(c.aa,!1,this.b.wa,c.pq);this.Tg=!0}};t.jn=function(){if(!this.G&&!this.e.length&&this.Tg){var b,a,c;b=0;for(a=this.Lc.length;b<a;++b)c=this.Lc[b],this.b.n.deleteTexture(c.S),c.S=null;this.Tg=!1}};var v=[];t.um=function(b){var a,c,f;Q(v);a=0;for(c=this.Lc.length;a<c;++a)f=this.Lc[a].aa,-1===v.indexOf(f)&&(b.drawImage(f,0,0),v.push(f))};g.Q=function(b){this.type=b;this.b=b.b;b=this.type.Ub[0].frames[0].xj;this.ec?this.D.Hh(b):this.D=new db(b)};var r=g.Q.prototype;
r.J=function(){this.visible=0===this.u[0];this.sl=this.Jl=!1;this.Qc=0!==this.u[3];this.ua=this.Oo(this.u[1])||this.type.Ub[0];this.F=this.u[2];0>this.F&&(this.F=0);this.F>=this.ua.frames.length&&(this.F=this.ua.frames.length-1);var b=this.ua.frames[this.F];this.D.Hh(b.xj);this.Ib=b.Ib;this.Jb=b.Jb;this.Hf=this.ua.speed;this.le=this.ua.Em;1===this.type.Ub.length&&1===this.type.Ub[0].frames.length||0===this.Hf||(this.b.$m(this),this.Jl=!0);this.ec?this.gd.reset():this.gd=new bb;this.Md=this.gd.X;this.Qe=
!0;this.Fd=0;this.Pe=!0;this.li=this.ao="";this.ro=0;this.Dk=-1;this.type.Yl();var a,c,f,e,g,m,q,b=0;for(a=this.type.Ub.length;b<a;b++)for(e=this.type.Ub[b],c=0,f=e.frames.length;c<f;c++)g=e.frames[c],0===g.width&&(g.width=g.aa.width,g.height=g.aa.height),g.lg&&(q=g.aa,m=g.Om,m.left=g.fg/q.width,m.top=g.gg/q.height,m.right=(g.fg+g.width)/q.width,m.bottom=(g.gg+g.height)/q.height,0===g.fg&&0===g.gg&&g.width===q.width&&g.height===q.height&&(g.lg=!1));this.fb=this.ua.frames[this.F];this.pi=this.fb.S};
r.Na=function(){var b={a:this.ua.R,f:this.F,cas:this.Hf,fs:this.Md,ar:this.Fd,at:this.gd.X,rt:this.le};this.Qe||(b.ap=this.Qe);this.Pe||(b.af=this.Pe);return b};r.bb=function(b){var a=this.kv(b.a);a&&(this.ua=a);this.F=b.f;0>this.F&&(this.F=0);this.F>=this.ua.frames.length&&(this.F=this.ua.frames.length-1);this.Hf=b.cas;this.Md=b.fs;this.Fd=b.ar;this.gd.reset();this.gd.X=b.at;this.Qe=b.hasOwnProperty("ap")?b.ap:!0;this.Pe=b.hasOwnProperty("af")?b.af:!0;b.hasOwnProperty("rt")?this.le=b.rt:this.le=
this.ua.Em;this.fb=this.ua.frames[this.F];this.pi=this.fb.S;this.D.Hh(this.fb.xj);this.Ib=this.fb.Ib;this.Jb=this.fb.Jb};r.uk=function(b){this.F=b?0:this.ua.frames.length-1;this.Qe=!1;this.ao=this.ua.name;this.sl=!0;this.b.trigger(Y.prototype.g.Vr,this);this.b.trigger(Y.prototype.g.Ur,this);this.sl=!1;this.Fd=0};r.Ag=function(){return this.gd.X};r.xb=function(){this.gd.add(this.b.Pf(this));this.li.length&&this.Ao();0<=this.Dk&&this.Vt();var b=this.gd.X,a=this.ua,c=a.frames[this.F],f=c.duration/this.Hf;
this.Qe&&b>=this.Md+f&&(this.Pe?this.F++:this.F--,this.Md+=f,this.F>=a.frames.length&&(a.oq?(this.Pe=!1,this.F=a.frames.length-2):a.loop?this.F=this.le:(this.Fd++,this.Fd>=a.Dm?this.uk(!1):this.F=this.le)),0>this.F&&(a.oq?(this.F=1,this.Pe=!0,a.loop||(this.Fd++,this.Fd>=a.Dm&&this.uk(!0))):a.loop?this.F=this.le:(this.Fd++,this.Fd>=a.Dm?this.uk(!0):this.F=this.le)),0>this.F?this.F=0:this.F>=a.frames.length&&(this.F=a.frames.length-1),b>this.Md+a.frames[this.F].duration/this.Hf&&(this.Md=b),b=a.frames[this.F],
this.Ef(c,b),this.b.Z=!0)};r.Oo=function(b){var a,c,f;a=0;for(c=this.type.Ub.length;a<c;a++)if(f=this.type.Ub[a],kb(f.name,b))return f;return null};r.kv=function(b){var a,c,f;a=0;for(c=this.type.Ub.length;a<c;a++)if(f=this.type.Ub[a],f.R===b)return f;return null};r.Ao=function(){var b=this.ua.frames[this.F],a=this.Oo(this.li);this.li="";!a||kb(a.name,this.ua.name)&&this.Qe||(this.ua=a,this.Hf=a.speed,this.le=a.Em,0>this.F&&(this.F=0),this.F>=this.ua.frames.length&&(this.F=this.ua.frames.length-1),
1===this.ro&&(this.F=0),this.Qe=!0,this.Md=this.gd.X,this.Pe=!0,this.Ef(b,this.ua.frames[this.F]),this.b.Z=!0)};r.Vt=function(){var b=this.ua.frames[this.F],a=this.F;this.F=D(this.Dk);0>this.F&&(this.F=0);this.F>=this.ua.frames.length&&(this.F=this.ua.frames.length-1);a!==this.F&&(this.Ef(b,this.ua.frames[this.F]),this.Md=this.gd.X,this.b.Z=!0);this.Dk=-1};r.Ef=function(b,a){var c=b.width,f=b.height,e=a.width,g=a.height;c!=e&&(this.width*=e/c);f!=g&&(this.height*=g/f);this.Ib=a.Ib;this.Jb=a.Jb;this.D.Hh(a.xj);
this.H();this.fb=a;this.pi=a.S;c=0;for(f=this.K.length;c<f;c++)e=this.K[c],e.Cw&&e.Cw(b,a);this.b.trigger(Y.prototype.g.Ef,this)};r.Sc=function(b){b.globalAlpha=this.opacity;var a=this.fb,c=a.lg,f=a.aa,e=this.x,g=this.y,m=this.width,q=this.height;if(0===this.j&&0<=m&&0<=q)e-=this.Ib*m,g-=this.Jb*q,this.b.Xc&&(e=Math.round(e),g=Math.round(g)),c?b.drawImage(f,a.fg,a.gg,a.width,a.height,e,g,m,q):b.drawImage(f,e,g,m,q);else{this.b.Xc&&(e=Math.round(e),g=Math.round(g));b.save();var l=0<m?1:-1,u=0<q?1:
-1;b.translate(e,g);1===l&&1===u||b.scale(l,u);b.rotate(this.j*l*u);e=0-this.Ib*la(m);g=0-this.Jb*la(q);c?b.drawImage(f,a.fg,a.gg,a.width,a.height,e,g,la(m),la(q)):b.drawImage(f,e,g,la(m),la(q));b.restore()}};r.Ve=function(b){this.Gb(b)};r.Gb=function(b){b.Wa(this.pi);b.Le(this.opacity);var a=this.fb,c=this.Pa;if(this.b.Xc){var f=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;a.lg?b.wd(c.Xa+f,c.Ya+e,c.yb+f,c.zb+e,c.qb+f,c.rb+e,c.ob+f,c.pb+e,a.Om):b.sf(c.Xa+f,c.Ya+e,c.yb+f,c.zb+e,c.qb+f,c.rb+
e,c.ob+f,c.pb+e)}else a.lg?b.wd(c.Xa,c.Ya,c.yb,c.zb,c.qb,c.rb,c.ob,c.pb,a.Om):b.sf(c.Xa,c.Ya,c.yb,c.zb,c.qb,c.rb,c.ob,c.pb)};r.pv=function(b){var a=this.fb,c,f;c=0;for(f=a.rl.length;c<f;c++)if(kb(b,a.rl[c][0]))return c;return-1};r.hl=function(b,a){var c=this.fb,f=c.rl,e;w(b)?e=this.pv(b):e=b-1;e=D(e);if(0>e||e>=f.length)return a?this.x:this.y;var g=(f[e][1]-c.Ib)*this.width,f=f[e][2],f=(f-c.Jb)*this.height,c=Math.cos(this.j);e=Math.sin(this.j);var m=g*c-f*e,f=f*c+g*e,g=m+this.x,f=f+this.y;return a?
g:f};var b=new ca,f=!1;new J(0,0,0,0);t.finish=function(d){if(f){if(d){var a=this.b.jb().hb.xc;d=null.ca();var c=b.qc(),e,g;if(d.da){d.da=!1;Q(d.e);e=0;for(g=c.length;e<g;++e)d.e[e]=c[e];if(a)for(Q(d.Y),e=0,g=null.e.length;e<g;++e)c=null.e[e],b.contains(c)||d.Y.push(c)}else if(a)for(a=d.e.length,e=0,g=c.length;e<g;++e)d.e[a+e]=c[e],Ha(d.Y,c[e]);else S(d.e,c);null.fe()}b.clear();f=!1}};n.prototype.Ur=function(b){return kb(this.ao,b)};n.prototype.Vr=function(){return!0};n.prototype.Ef=function(){return!0};
g.g=new n;m.prototype.Os=function(b,a){this.li=b;this.ro=a;this.Jl||(this.b.$m(this),this.Jl=!0);this.sl||this.Ao()};m.prototype.Vs=function(b){b=la(this.width)*(0===b?-1:1);this.width!==b&&(this.width=b,this.H())};g.B=new m;g.T=new function(){}})();function rc(e){this.b=e}
(function(){function e(){return b.length?b.pop():{}}function n(f){var d,a;d=0;for(a=f.length;d<a;d++)b.push(f[d]);Q(f)}function m(b){return b.length&&" "===b.charAt(b.length-1)?b.substring(0,b.length-1):b}function g(){}var t=rc.prototype;t.J=function(){t.B.Xs=function(b){this.width!==b&&(this.width=b,this.xf=!0,this.H())}};t.ba=function(b){this.na=b;this.b=b.b};var v=t.ba.prototype;v.J=function(){};v.xh=function(){if(!this.G){var b,d,a;b=0;for(d=this.e.length;b<d;b++)a=this.e[b],a.rd=null,a.of=null,
a.ac=null}};t.Q=function(b){this.type=b;this.b=b.b;this.ec?Q(this.Be):this.Be=[];this.xf=!0};v=t.Q.prototype;v.J=function(){this.text=this.u[0];this.visible=0===this.u[1];this.font=this.u[2];this.color=this.u[3];this.Mi=this.u[4];this.ik=this.u[5];this.sn=0===this.u[7];this.Ul=this.bj=this.width;this.aj=this.height;this.Xl=this.u[8];this.Di=this.Lf="";this.Wq=this.Xq=this.Bh=0;this.Fw();this.ac=this.of=this.rd=null;this.$p=!1;this.eh=this.b.Gc;this.ec?this.Je.set(0,0,1,1):this.Je=new J(0,0,1,1);this.b.n&&
this.b.$m(this)};v.Fw=function(){var b=this.font.split(" "),d;for(d=0;d<b.length;d++)if("pt"===b[d].substr(b[d].length-2,2)){this.Bh=parseInt(b[d].substr(0,b[d].length-2));this.xm=Math.ceil(this.Bh/72*96)+4;0<d&&(this.Di=b[d-1]);this.Lf=b[d+1];for(d+=2;d<b.length;d++)this.Lf+=" "+b[d];break}};v.Na=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Mi,va:this.ik,wr:this.sn,lho:this.Xl,fn:this.Lf,fs:this.Di,ps:this.Bh,pxh:this.xm,tw:this.Xq,th:this.Wq,lrt:this.eh}};v.bb=function(b){this.text=
b.t;this.font=b.f;this.color=b.c;this.Mi=b.ha;this.ik=b.va;this.sn=b.wr;this.Xl=b.lho;this.Lf=b.fn;this.Di=b.fs;this.Bh=b.ps;this.xm=b.pxh;this.Xq=b.tw;this.Wq=b.th;this.eh=b.lrt;this.xf=!0;this.Ul=this.bj=this.width;this.aj=this.height};v.xb=function(){if(this.b.n&&this.ac&&300<=this.b.Gc-this.eh){var b=this.k;this.U();var d=this.N;if(d.right<b.ea||d.bottom<b.ja||d.left>b.ma||d.top>b.ia)this.b.n.deleteTexture(this.ac),this.rd=this.of=this.ac=null}};v.td=function(){this.rd=this.of=null;this.b.n&&
this.ac&&this.b.n.deleteTexture(this.ac);this.ac=null};v.Ag=function(){this.font=this.Di+" "+this.Bh.toString()+"pt "+this.Lf;this.xf=!0;this.b.Z=!0};v.Sc=function(b,d){b.font=this.font;b.textBaseline="top";b.fillStyle=this.color;b.globalAlpha=d?1:this.opacity;var a=1;d&&(a=Math.abs(this.k.Zb()),b.save(),b.scale(a,a));if(this.xf||this.width!==this.Ul)this.type.na.jt(this.text,this.Be,b,this.width,this.sn),this.xf=!1,this.Ul=this.width;this.U();var a=d?0:this.Pa.Xa,c=d?0:this.Pa.Ya;this.b.Xc&&(a=a+
.5|0,c=c+.5|0);0===this.j||d||(b.save(),b.translate(a,c),b.rotate(this.j),c=a=0);var e=c+this.height,g=this.xm,g=g+this.Xl,m,n;1===this.ik?c+=Math.max(this.height/2-this.Be.length*g/2,0):2===this.ik&&(c+=Math.max(this.height-this.Be.length*g-2,0));for(n=0;n<this.Be.length&&!(m=a,1===this.Mi?m=a+(this.width-this.Be[n].width)/2:2===this.Mi&&(m=a+(this.width-this.Be[n].width)),b.fillText(this.Be[n].text,m,c),c+=g,c>=e-g);n++);(0!==this.j||d)&&b.restore();this.eh=this.b.Gc};v.Gb=function(b){if(!(1>this.width||
1>this.height)){var d=this.xf||this.$p;this.$p=!1;var a=this.k.Zb(),c=this.k.Xb(),e=this.Je,g=a*this.width,m=a*this.height,n=Math.ceil(g),q=Math.ceil(m),l=Math.abs(n),u=Math.abs(q),v=this.b.M/2,r=this.b.L/2;this.of||(this.rd=document.createElement("canvas"),this.rd.width=l,this.rd.height=u,this.bj=l,this.aj=u,d=!0,this.of=this.rd.getContext("2d"));if(l!==this.bj||u!==this.aj)this.rd.width=l,this.rd.height=u,this.ac&&(b.deleteTexture(this.ac),this.ac=null),d=!0;d&&(this.of.clearRect(0,0,l,u),this.Sc(this.of,
!0),this.ac||(this.ac=b.Fb(l,u,this.b.wa,this.b.ve)),b.qn(this.rd,this.ac,this.b.ve));this.bj=l;this.aj=u;b.Wa(this.ac);b.Le(this.opacity);b.Bc();b.translate(-v,-r);b.oc();var t=this.Pa,d=this.k.za(t.Xa,t.Ya,!0,!0),l=this.k.za(t.Xa,t.Ya,!1,!0),u=this.k.za(t.yb,t.zb,!0,!0),v=this.k.za(t.yb,t.zb,!1,!0),r=this.k.za(t.qb,t.rb,!0,!0),ka=this.k.za(t.qb,t.rb,!1,!0),K=this.k.za(t.ob,t.pb,!0,!0),t=this.k.za(t.ob,t.pb,!1,!0);if(this.b.Xc||0===this.j&&0===c)var N=(d+.5|0)-d,A=(l+.5|0)-l,d=d+N,l=l+A,u=u+N,v=
v+A,r=r+N,ka=ka+A,K=K+N,t=t+A;0===this.j&&0===c?(u=d+n,v=l,r=u,ka=l+q,K=d,t=ka,e.right=1,e.bottom=1):(e.right=g/n,e.bottom=m/q);b.wd(d,l,u,v,r,ka,K,t,e);b.Bc();b.scale(a,a);b.Jj(-this.k.Xb());b.translate((this.k.ea+this.k.ma)/-2,(this.k.ja+this.k.ia)/-2);b.oc();this.eh=this.b.Gc}};var r=[];t.ft=function(b){Q(r);for(var d="",a,c=0;c<b.length;)if(a=b.charAt(c),"\n"===a)d.length&&(r.push(d),d=""),r.push("\n"),++c;else if(" "===a||"\t"===a||"-"===a){do d+=b.charAt(c),c++;while(c<b.length&&(" "===b.charAt(c)||
"\t"===b.charAt(c)));r.push(d);d=""}else c<b.length&&(d+=a,c++);d.length&&r.push(d)};var b=[];t.jt=function(b,d,a,c,h){if(b&&b.length)if(2>=c)n(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var g=a.measureText(b).width;if(g<=c){n(d);d.push(e());d[0].text=b;d[0].width=g;return}}this.kt(b,d,a,c,h)}else n(d)};t.kt=function(f,d,a,c,h){h&&(this.ft(f),f=r);var g="",p,n,q,l=0;for(q=0;q<f.length;q++)"\n"===f[q]?(l>=d.length&&d.push(e()),g=m(g),n=d[l],n.text=g,n.width=a.measureText(g).width,l++,g=""):(p=
g,g+=f[q],n=a.measureText(g).width,n>=c&&(l>=d.length&&d.push(e()),p=m(p),n=d[l],n.text=p,n.width=a.measureText(p).width,l++,g=f[q],h||" "!==g||(g="")));g.length&&(l>=d.length&&d.push(e()),g=m(g),n=d[l],n.text=g,n.width=a.measureText(g).width,l++);for(q=l;q<d.length;q++)b.push(d[q]);d.length=l};t.g=new function(){};g.prototype.sr=function(b){ha(b)&&(b=Math.round(1E10*b)/1E10);if(b=b.toString())this.text+=b,this.xf=!0,this.b.Z=!0};t.B=new g;t.T=new function(){}})();function sc(e){this.b=e}
(function(){var e=sc.prototype;e.ba=function(e){this.na=e;this.b=e.b};var n=e.ba.prototype;n.J=function(){this.G||(this.aa=new Image,this.aa.Jk=this.Ym,this.b.rn(this.aa,this.Xm),this.S=this.pattern=null)};n.xh=function(){this.G||(this.S=null)};n.sj=function(){if(!this.G&&this.e.length){this.S||(this.S=this.b.n.gj(this.aa,!0,this.b.wa,this.Zm));var e,g;e=0;for(g=this.e.length;e<g;e++)this.e[e].S=this.S}};n.Yl=function(){this.G||this.S||!this.b.n||(this.S=this.b.n.gj(this.aa,!0,this.b.wa,this.Zm))};
n.jn=function(){this.G||this.e.length||!this.S||(this.b.n.deleteTexture(this.S),this.S=null)};n.um=function(e){e.drawImage(this.aa,0,0)};e.Q=function(e){this.type=e;this.b=e.b};n=e.Q.prototype;n.J=function(){this.visible=0===this.u[0];this.Je=new J(0,0,0,0);this.dp=!1;this.aa=this.type.aa;this.b.n?(this.type.Yl(),this.S=this.type.S):(this.type.pattern||(this.type.pattern=this.b.xa.createPattern(this.type.aa,"repeat")),this.pattern=this.type.pattern)};n.Ed=function(){this.dp=!1;this.aa=this.type.aa};
n.td=function(){this.b.n&&this.dp&&this.S&&(this.b.n.deleteTexture(this.S),this.S=null)};n.Sc=function(e){e.globalAlpha=this.opacity;e.save();e.fillStyle=this.pattern;var g=this.x,n=this.y;this.b.Xc&&(g=Math.round(g),n=Math.round(n));var v=-(this.Ib*this.width),r=-(this.Jb*this.height),b=v%this.aa.width,f=r%this.aa.height;0>b&&(b+=this.aa.width);0>f&&(f+=this.aa.height);e.translate(g,n);e.rotate(this.j);e.translate(b,f);e.fillRect(v-b,r-f,this.width,this.height);e.restore()};n.Ve=function(e){this.Gb(e)};
n.Gb=function(e){e.Wa(this.S);e.Le(this.opacity);var g=this.Je;g.right=this.width/this.aa.width;g.bottom=this.height/this.aa.height;var n=this.Pa;if(this.b.Xc){var v=Math.round(this.x)-this.x,r=Math.round(this.y)-this.y;e.wd(n.Xa+v,n.Ya+r,n.yb+v,n.zb+r,n.qb+v,n.rb+r,n.ob+v,n.pb+r,g)}else e.wd(n.Xa,n.Ya,n.yb,n.zb,n.qb,n.rb,n.ob,n.pb,g)};e.g=new function(){};e.B=new function(){};e.T=new function(){}})();function tc(e){this.b=e}
(function(){function e(b){d=b.x;a=b.y;c=b.z}function n(a,b,c,d){var f;f=h.length?h.pop():new m;f.init(a,b,c,d);return f}function m(){this.Lh=this.id=this.y=this.x=this.Yj=this.Xj=this.Sl=this.time=this.Tm=0;this.Qh=this.dk=!1}function g(a){return a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents||a.originalEvent&&a.originalEvent.sourceCapabilities&&a.originalEvent.sourceCapabilities.firesTouchEvents}function t(){}function v(){}var r=tc.prototype;r.ba=function(a){this.na=a;this.b=a.b};r.ba.prototype.J=
function(){};r.Q=function(a){this.type=a;this.b=a.b;this.touches=[];this.fm=!1};var b=r.Q.prototype,f={left:0,top:0};b.Og=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var d=0,a=0,c=0,h=[];m.prototype.init=function(a,b,c,d){var f=Xa();this.Tm=this.Sl=this.time=f;this.Xj=a;this.Yj=b;this.x=a;this.y=b;this.pressure=this.height=this.width=0;this.id=c;this.Lh=d;this.Qh=this.dk=!1};m.prototype.update=function(a,b,c,d,f,e){this.Sl=this.time;this.time=
a;this.x=b;this.y=c;this.width=d;this.height=f;this.pressure=e;!this.Qh&&15<=W(this.Xj,this.Yj,this.x,this.y)&&(this.Qh=!0)};m.prototype.lw=function(a,b){!this.dk&&500<=Xa()-this.Tm&&!this.Qh&&15>W(this.Xj,this.Yj,this.x,this.y)&&(this.dk=!0,a.Dd=this.Lh,a.og=this.id,a.Sf=b,a.b.trigger(tc.prototype.g.js,a),a.Hd=this.x,a.Id=this.y,a.b.trigger(tc.prototype.g.ks,a),a.Sf=0)};var k=-1E3,p=-1E3,z=-1E4;m.prototype.Tp=function(a,b){if(!this.dk){var c=Xa();333>=c-this.Tm&&!this.Qh&&15>W(this.Xj,this.Yj,this.x,
this.y)&&(a.Dd=this.Lh,a.og=this.id,a.Sf=b,666>=c-z&&25>W(k,p,this.x,this.y)?(a.b.trigger(tc.prototype.g.bs,a),a.Hd=this.x,a.Id=this.y,a.b.trigger(tc.prototype.g.ds,a),p=k=-1E3,z=-1E4):(a.b.trigger(tc.prototype.g.Hs,a),a.Hd=this.x,a.Id=this.y,a.b.trigger(tc.prototype.g.Is,a),k=this.x,p=this.y,z=c),a.Sf=0)}};b.J=function(){this.cw=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Sf=this.og=this.Dd=this.Id=this.Hd=this.Vn=this.Un=this.Tn=this.ot=this.nt=this.mt=this.vj=this.uj=
this.tj=0;this.Hx=0!==this.u[0];var a=0<this.b.Hb?document:this.b.canvas,b=document;this.b.Od?b=a=window.Canvas:this.b.tc&&(b=a=window);var c=this;"undefined"!==typeof PointerEvent?(a.addEventListener("pointerdown",function(a){c.iq(a)},!1),a.addEventListener("pointermove",function(a){c.hq(a)},!1),b.addEventListener("pointerup",function(a){c.rj(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.rj(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},
!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.iq(a)},!1),a.addEventListener("MSPointerMove",function(a){c.hq(a)},!1),b.addEventListener("MSPointerUp",function(a){c.rj(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.rj(a,
!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.kq(a)},!1),a.addEventListener("touchmove",function(a){c.jq(a)},!1),b.addEventListener("touchend",function(a){c.om(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.om(a,!0)},!1));if(this.cw){var d=function(a){a=a.reading;c.Tn=a.accelerationX;c.Un=a.accelerationY;
c.Vn=a.accelerationZ},f=function(a){a=a.reading;c.tj=a.yawDegrees;c.uj=a.pitchDegrees;c.vj=a.rollDegrees},h=Windows.Devices.Sensors.Accelerometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",d));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?
(h&&h.removeEventListener("readingchanged",d),g&&g.removeEventListener("readingchanged",f)):(h&&h.addEventListener("readingchanged",d),g&&g.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",function(a){c.tj=a.alpha||0;c.uj=a.beta||0;c.vj=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.mt=a.accelerationIncludingGravity.x||0,c.nt=a.accelerationIncludingGravity.y||0,c.ot=a.accelerationIncludingGravity.z||
0);a.acceleration&&(c.Tn=a.acceleration.x||0,c.Un=a.acceleration.y||0,c.Vn=a.acceleration.z||0)},!1);this.Hx&&!this.b.Sa&&(jQuery(document).mousemove(function(a){c.zw(a)}),jQuery(document).mousedown(function(a){c.yw(a)}),jQuery(document).mouseup(function(a){c.Aw(a)}));!this.b.Xi&&this.b.uc&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(e,null,{frequency:40});this.b.Yq(this)};b.hq=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&
"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Og(a.pointerId),c=Xa();if(0<=b){var d=this.b.Sa?f:jQuery(this.b.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top,a.width||0,a.height||0,a.pressure||0)}}};b.iq=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&lb(a)&&a.preventDefault();var b=this.b.Sa?f:jQuery(this.b.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top;Xa();this.Dd=this.touches.length;
this.og=a.pointerId;this.touches.push(n(c,b,a.pointerId,this.Dd));this.b.vc=!0;this.b.trigger(tc.prototype.g.En,this);this.b.trigger(tc.prototype.g.Nn,this);this.Hd=c;this.Id=b;this.b.trigger(tc.prototype.g.Mn,this);this.b.vc=!1}};b.rj=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&lb(a)&&a.preventDefault();var c=this.Og(a.pointerId);this.Dd=0<=c?this.touches[c].Lh:-1;this.og=0<=c?this.touches[c].id:-1;this.b.vc=!0;this.b.trigger(tc.prototype.g.Dn,
this);this.b.trigger(tc.prototype.g.Ln,this);0<=c&&(b||this.touches[c].Tp(this,c),100>h.length&&h.push(this.touches[c]),this.touches.splice(c,1));this.b.vc=!1}};b.jq=function(a){a.preventDefault&&a.preventDefault();var b=Xa(),c,d,e,h;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],h=this.Og(e.identifier),0<=h){var g=this.b.Sa?f:jQuery(this.b.canvas).offset();h=this.touches[h];2>b-h.time||h.update(b,e.pageX-g.left,e.pageY-g.top,2*(e.Zy||e.hz||e.Uy||e.Xy||0),2*(e.$y||e.iz||e.Vy||
e.Yy||0),e.Oy||e.gz||e.Ty||e.Wy||0)}};b.kq=function(a){a.preventDefault&&lb(a)&&a.preventDefault();var b=this.b.Sa?f:jQuery(this.b.canvas).offset();Xa();this.b.vc=!0;var c,d,e,h;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],h=this.Og(e.identifier),-1===h){h=e.pageX-b.left;var g=e.pageY-b.top;this.Dd=this.touches.length;this.og=e.identifier;this.touches.push(n(h,g,e.identifier,this.Dd));this.b.trigger(tc.prototype.g.En,this);this.b.trigger(tc.prototype.g.Nn,this);this.Hd=h;this.Id=
g;this.b.trigger(tc.prototype.g.Mn,this)}this.b.vc=!1};b.om=function(a,b){a.preventDefault&&lb(a)&&a.preventDefault();this.b.vc=!0;var c,d,f;c=0;for(d=a.changedTouches.length;c<d;c++)f=a.changedTouches[c],f=this.Og(f.identifier),0<=f&&(this.Dd=this.touches[f].Lh,this.og=this.touches[f].id,this.b.trigger(tc.prototype.g.Dn,this),this.b.trigger(tc.prototype.g.Ln,this),b||this.touches[f].Tp(this,f),100>h.length&&h.push(this.touches[f]),this.touches.splice(f,1));this.b.vc=!1};b.Ag=function(){return this.b.uc&&
0===this.tj&&0!==c?90*c:this.tj};b.ru=function(){return this.b.uc&&0===this.uj&&0!==a?90*a:this.uj};b.Py=function(){return this.b.uc&&0===this.vj&&0!==d?90*d:this.vj};b.yw=function(a){g(a)||(this.kq({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),this.fm=!0)};b.zw=function(a){this.fm&&!g(a)&&this.jq({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};b.Aw=function(a){a.preventDefault&&this.b.$o&&!this.b.ve&&a.preventDefault();this.b.$o=!0;g(a)||(this.om({changedTouches:[{pageX:a.pageX,
pageY:a.pageY,identifier:0}]}),this.fm=!1)};b.yf=function(){var a,b,c,d=Xa();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.Sl=d),c.lw(this,a)};t.prototype.Nn=function(){return!0};t.prototype.Ln=function(){return!0};t.prototype.Mr=function(){return this.touches.length};t.prototype.Mn=function(a){return a?this.b.$j(a,this.Hd,this.Id):!1};t.prototype.En=function(a){a=Math.floor(a);return a===this.Dd};t.prototype.Dn=function(a){a=Math.floor(a);return a===this.Dd};t.prototype.js=
function(){return!0};t.prototype.Hs=function(){return!0};t.prototype.bs=function(){return!0};t.prototype.ks=function(a){return a?this.b.$j(a,this.Hd,this.Id):!1};t.prototype.Is=function(a){return a?this.b.$j(a,this.Hd,this.Id):!1};t.prototype.ds=function(a){return a?this.b.$j(a,this.Hd,this.Id):!1};r.g=new t;v.prototype.Rn=function(a,b){var c=this.Sf;if(0>c||c>=this.touches.length)a.C(0);else{var d,f,e,h,g;ga(b)?(d=this.b.Qf(0),f=d.scale,e=d.ed,h=d.zc,g=d.j,d.scale=1,d.ed=1,d.zc=1,d.j=0,a.C(d.Ab(this.touches[c].x,
this.touches[c].y,!0)),d.scale=f,d.ed=e,d.zc=h,d.j=g):(d=ha(b)?this.b.Qf(b):this.b.Ji(b))?a.C(d.Ab(this.touches[c].x,this.touches[c].y,!0)):a.C(0)}};v.prototype.Sn=function(a,b){var c=this.Sf;if(0>c||c>=this.touches.length)a.C(0);else{var d,f,e,h,g;ga(b)?(d=this.b.Qf(0),f=d.scale,e=d.ed,h=d.Ac,g=d.j,d.scale=1,d.ed=1,d.Ac=1,d.j=0,a.C(d.Ab(this.touches[c].x,this.touches[c].y,!1)),d.scale=f,d.ed=e,d.Ac=h,d.j=g):(d=ha(b)?this.b.Qf(b):this.b.Ji(b))?a.C(d.Ab(this.touches[c].x,this.touches[c].y,!1)):a.C(0)}};
r.T=new v})();function uc(e){this.b=e}
(function(){function e(a){a%=h.length;0>a&&(a+=h.length);return a}function n(){var a,b,c,d;a=0;for(b=h.length;a<b;++a)c=h[a],(d=h[e(a-1)])&&!c&&(p=a),!d&&c&&(q=a)}function m(){}var g=uc.prototype;g.ba=function(a){this.na=a;this.b=a.b};var t=g.ba.prototype,v=!1,r=null,b=null;t.J=function(){this.G||v||(v=!0,r=new Image,r.Jk=15E3,this.b.rn(r,"penumbra.png"))};t.xh=function(){if(!this.G){this.cc=this.S=null;var a,b,c;a=0;for(b=this.e.length;a<b;++a)c=this.e[a],c.S=null,c.cc=null}};t.sj=function(){if(!this.G){var a,
b;a=0;for(b=this.e.length;a<b;++a)this.e[a].Lk()}};g.Q=function(a){this.type=a;this.b=a.b};t=g.Q.prototype;t.J=function(){if(!b){var a=r.width,c=r.height,d=document.createElement("canvas");d.width=a;d.height=c;d=d.getContext("2d");d.clearRect(0,0,a,c);d.drawImage(r,0,0,a,c);b=d.getImageData(0,0,a,c).data}this.ze=this.x;this.Ae=this.y;this.zp=this.u[0];this.Kb=1E3;this.bg=this.u[1];this.po=this.u[2];this.tag=this.u[3];this.gh=this.hh=this.ih=0;this.sp=this.x;this.tp=this.y;this.cc=this.S=null;this.b.n?
this.Lk():this.bg=0;this.b.Yq(this)};t.qo=function(a){return 1===this.po?kb(this.tag,a):2===this.po?!kb(this.tag,a):!0};t.yf=function(){if(this.sp!==this.x||this.tp!==this.y)this.ze=this.x,this.Ae=this.y;var a=this.k,b=(a.ea+a.ma)/2,c=(a.ja+a.ia)/2,d=a.ma-a.ea+this.Kb,f=a.ia-a.ja+this.Kb;if(b!==this.x||c!==this.y||d!==this.width||f!==this.height)this.x=b,this.y=c,this.width=d,this.height=f,this.H();this.sp=this.x;this.tp=this.y;this.Kb=1.5*W(a.ea,a.ja,a.ma,a.ia)};t.td=function(){this.b.n&&(this.S&&
(this.b.n.deleteTexture(this.S),this.S=null),this.cc&&(this.b.n.deleteTexture(this.cc),this.cc=null))};t.Na=function(){return{}};t.bb=function(){};var f=[],d=[];t.Zo=function(){this.b.Lm&&(this.b.Li(this.k,this.b.Lm.gm,this.N,f),Ya(f))};var a=[],c=0,h=[],k=[],p=-1,z=-1,q=-1,l=-1,u=0,U=0,C=[],sa=0,ka=0,K=0,N=0,A=0,M=0,T=0,O=0,H=new db([]);t.Sc=function(a){this.Zo();a.save();a.fillStyle="rgba("+this.ih+","+this.hh+","+this.gh+","+this.opacity+")";var b,c,e,g,k,l,m,p,n,q;b=0;for(c=f.length;b<c;++b)if(e=
f[b],e.I.shadowcasterEnabled&&this.qo(e.I.shadowcasterTag))if(e.U(),m=e.I.shadowcasterHeight,e.Cd){e.Hi(this.N,d);p=e.x;n=e.y;e=0;for(g=d.length;e<g;++e){k=d[e];q=k.Dj;k.Yc?(k=k.Yc,l=q.left,q=q.top):(H.Ad(q,0,0),k=H,q=l=0);this.ki(k,p+l,n+q,m,!1);a.beginPath();a.moveTo(C[0],C[1]);k=2;for(l=C.length;k<l;k+=2)a.lineTo(C[k],C[k+1]);a.closePath();a.fill();Q(h);Q(C)}Q(d)}else{e.D&&!e.D.od()?(e.D.jd(e.width,e.height,e.j),k=e.D):(H.Ud(e.Pa,e.x,e.y,e.width,e.height),k=H);this.ki(k,e.x,e.y,m,Sa(0>e.width,
0>e.height));a.beginPath();a.moveTo(C[0],C[1]);e=2;for(g=C.length;e<g;e+=2)a.lineTo(C[e],C[e+1]);a.closePath();a.fill();Q(h);Q(C)}a.restore();Q(f)};t.tv=function(b,d,e,f){c=b.nc;Q(a);var h,g=b.Ja;U=u=0;var k;for(k=0;k<c;++k)h=2*k,b=g[h]+d,h=g[h+1]+e,f?(a.unshift(h),a.unshift(b)):(a.push(b),a.push(h)),u+=b,U+=h;u/=c;U/=c};t.ki=function(b,d,e,f,g){this.tv(b,d,e,g);var m;Q(h);Q(k);Q(C);l=z=q=p=-1;e=this.ze;g=this.Ae;if(0<this.bg)this.yk(-this.bg),n(),S(k,h),z=p,l=q,Q(h),q=p=-1,this.yk(this.bg),n(),-1!==
p&&-1!==q&&-1!==z&&-1!==l&&this.Gt();else for(this.yk(0),n(),b=0;b<c;++b)m=2*b,d=a[m],m=a[m+1],this.Ft(b,e,g,d,m,f)};t.Ft=function(a,b,c,d,f,g){var k;k=h[e(a-1)];var l=a===p,m=a===q;h[a]||k?(a=Oa(b,c,d,f),k=W(b,c,d,f),g=this.Ht(b,c,d,f,g),b+=Math.cos(a)*(k+g),c+=Math.sin(a)*(k+g)):(b=d,c=f);m&&(C.push(d),C.push(f));C.push(b);C.push(c);l&&(C.push(d),C.push(f))};t.yk=function(b){var d=this.ze,e=this.Ae,f=d,g=e,k,l,m,p,q;for(k=0;k<c;++k)l=2*k,m=k+1,m=m===c?0:2*m,p=a[l],l=a[l+1],q=a[m],m=a[m+1],0!==b&&
(g=Oa(d,e,u,U)-Math.PI/2,f=d+Math.cos(g)*b,g=e+Math.sin(g)*b),h.push(Pa(Oa(p,l,f,g),Oa(p,l,q,m)-Math.PI/2)>=Math.PI/2)};var B=0,E=0;t.Gt=function(){for(var b=z,d,e,f;b=b%c,d=2*b,e=a[d],f=a[d+1],C.push(e),C.push(f),b!==q;++b);var g=this.bg,h=Oa(this.ze,this.Ae,u,U),b=this.ze+Math.cos(h-Math.PI/2)*g,k=this.Ae+Math.sin(h-Math.PI/2)*g,h=Oa(b,k,e,f),l=W(b,k,e,f),b=b+Math.cos(h)*(l+this.Kb),k=k+Math.sin(h)*(l+this.Kb);d=2*z;var m=a[d];d=a[d+1];var h=Oa(this.ze,this.Ae,u,U),p=this.ze+Math.cos(h+Math.PI/
2)*g,n=this.Ae+Math.sin(h+Math.PI/2)*g,h=Oa(p,n,m,d),l=W(p,n,m,d),g=p+Math.cos(h)*(l+this.Kb),h=n+Math.sin(h)*(l+this.Kb);A=e;M=f;sa=m;ka=d;var v,r,t,l=b-e,p=k-f;v=g-m;r=h-d;t=-v*p+l*r;0===t?e=!1:(n=(-p*(e-m)+l*(f-d))/t,t=-v*p+l*r,0===t?e=!1:(m=(v*(f-d)-r*(e-m))/t,0<=n&&1>=n&&0<=m&&1>=m?(B=e+m*l,E=f+m*p,e=!0):e=!1));e?(C.push(B),C.push(E),T=B,O=E,K=B,N=E):(C.push(b),C.push(k),C.push(g),C.push(h),T=b,O=k,K=g,N=h)};t.Ht=function(a,b,c,d,e){if(e>=this.zp)return this.Kb;if(0>=e)return 0;a=W(a,b,c,d);
a=Math.atan(a/(this.zp-e));e=e*Math.tan(a);e>=this.Kb&&(e=this.Kb);0>e&&(e=0);return e};t.Gb=function(a){a.Le(this.opacity);this.Zo();var b,c,e,g,k,m,n,v,r,t;b=0;for(c=f.length;b<c;++b)if(e=f[b],e.I.shadowcasterEnabled&&this.qo(e.I.shadowcasterTag))if(e.U(),k=e.I.shadowcasterHeight,e.Cd){e.Hi(this.N,d);n=e.x;v=e.y;e=0;for(g=d.length;e<g;++e)m=d[e],r=m.Dj,m.Yc?(m=m.Yc,t=r.left,r=r.top):(H.Ad(r,0,0),m=H,r=t=0),this.ki(m,n+t,v+r,k,!1),6>C.length||(a.Wa(this.S),a.vo(C),-1<p&&-1<z&&(a.Wa(this.cc),this.wi(a,
!0)),-1<q&&-1<l&&(a.Wa(this.cc),this.wi(a,!1)),Q(h),Q(C));Q(d)}else e.D&&!e.D.od()?(e.D.jd(e.width,e.height,e.j),m=e.D):(H.Ud(e.Pa,e.x,e.y,e.width,e.height),m=H),this.ki(m,e.x,e.y,k,Sa(0>e.width,0>e.height)),6>C.length||(a.Wa(this.S),a.vo(C),-1<p&&-1<z&&(a.Wa(this.cc),this.wi(a,!0)),-1<q&&-1<l&&(a.Wa(this.cc),this.wi(a,!1)),Q(h),Q(C));Q(f)};t.wi=function(b,c){var d=this.ze,e=this.Ae,f,h,g,k,m,n;c?(g=sa,k=ka,m=K,n=N):(g=A,k=M,m=T,n=O);var v=this.bg,r=Oa(d,e,u,U),t=Math.PI/2;c&&(t=-t);d+=Math.cos(r+
t)*v;e+=Math.sin(r+t)*v;v=!1;if(c){if(v=p!==z)f=a[2*p],h=a[2*p+1]}else if(v=q!==l)f=a[2*l],h=a[2*l+1];var r=v?Oa(f,h,g,k):Oa(d,e,g,k),t=g+Math.cos(r)*this.Kb,B=k+Math.sin(r)*this.Kb,C,E,H,vb=H=0,wb=1;v&&(H=Oa(d,e,f,h),C=f+Math.cos(H)*this.Kb,E=h+Math.sin(H)*this.Kb,d=Oa(g,k,m,n),H=Pa(r,H)/Pa(d,H),r=W(f,h,g,k),r=r/(r+this.Kb),d=Oa(0,1,H,0),e=W(0,1,H,0),vb+=Math.cos(d)*r*e,wb+=Math.sin(d)*r*e);b.wq(g,k,m,n,t,B,t,B,vb,wb,1,H,H);v&&b.wq(f,h,t,B,C,E,C,E,0,1,H,0,0)};t.Lk=function(){this.b.n&&(this.S&&(this.b.n.deleteTexture(this.S),
this.S=null),this.cc&&(this.b.n.deleteTexture(this.cc),this.cc=null),this.Nt(),this.Qt())};t.Nt=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.ih+","+this.hh+","+this.gh+")";b.fillRect(0,0,16,16);this.S=this.b.n.Fb(16,16,!1,!1,!0);this.b.n.qn(a,this.S)};t.Qt=function(){var a=r.width,c=r.height,d=this.ih,e=this.hh,f=this.gh,h=b,g=document.createElement("canvas");g.width=a;g.height=c;var k=g.getContext("2d"),l=k.createImageData(a,
c),m=l.data,p,n;p=0;for(n=m.length;p<n;p+=4)m[p]=d,m[p+1]=e,m[p+2]=f,m[p+3]=h[p+3];k.putImageData(l,0,0);this.cc=this.b.n.Fb(a,c,this.b.wa,!1,!1);this.b.n.qn(g,this.cc)};g.g=new function(){};m.prototype.Us=function(a){var b=va(a),c=ya(a);a=za(a);if(this.ih!==b||this.hh!==c||this.gh!==a)this.ih=b,this.hh=c,this.gh=a,this.Lk(),this.b.Z=!0};g.B=new m;g.T=new function(){}})();function vc(e){this.b=e}
(function(){function e(){}var n=vc.prototype;n.ba=function(e){this.behavior=e;this.b=e.b};n.ba.prototype.J=function(){};n.Q=function(e,m){this.type=e;this.behavior=e.behavior;this.i=m;this.b=e.b};var m=n.Q.prototype;m.J=function(){this.Zn=this.u[0];this.$n=this.u[1];this.yt=this.u[2];this.xt=this.u[3];this.i.U();this.kk=this.i.N.left;this.nk=this.i.N.top;this.lk=this.b.Ba-this.i.N.left;this.mk=this.b.Aa-this.i.N.top;this.Ej=this.b.Ba-this.i.N.right;this.gi=this.b.Aa-this.i.N.bottom;this.enabled=0!==
this.u[4]};m.Na=function(){return{xleft:this.kk,ytop:this.nk,xright:this.lk,ybottom:this.mk,rdiff:this.Ej,bdiff:this.gi,enabled:this.enabled}};m.bb=function(e){this.kk=e.xleft;this.nk=e.ytop;this.lk=e.xright;this.mk=e.ybottom;this.Ej=e.rdiff;this.gi=e.bdiff;this.enabled=e.enabled};m.xb=function(){if(this.enabled){var e,m=this.i.k,n=this.i,r=this.i.N;0===this.Zn?(n.U(),e=m.ea+this.kk-r.left,0!==e&&(n.x+=e,n.H())):1===this.Zn&&(n.U(),e=m.ma-this.lk-r.left,0!==e&&(n.x+=e,n.H()));0===this.$n?(n.U(),e=
m.ja+this.nk-r.top,0!==e&&(n.y+=e,n.H())):1===this.$n&&(n.U(),e=m.ia-this.mk-r.top,0!==e&&(n.y+=e,n.H()));1===this.yt&&(n.U(),e=m.ma-this.Ej-r.right,0!==e&&(n.width+=e,0>n.width&&(n.width=0),n.H()));1===this.xt&&(n.U(),e=m.ia-this.gi-r.bottom,0!==e&&(n.height+=e,0>n.height&&(n.height=0),n.H()))}};n.g=new function(){};e.prototype.Ff=function(e){this.enabled&&0===e?this.enabled=!1:this.enabled||0===e||(this.i.U(),this.kk=this.i.N.left,this.nk=this.i.N.top,this.lk=this.b.Ba-this.i.N.left,this.mk=this.b.Aa-
this.i.N.top,this.Ej=this.b.Ba-this.i.N.right,this.gi=this.b.Aa-this.i.N.bottom,this.enabled=!0)};n.B=new e;n.T=new function(){}})();function wc(e){this.b=e}
(function(){function e(){}function n(){}function m(){}var g=wc.prototype;g.ba=function(e){this.behavior=e;this.b=e.b};g.ba.prototype.J=function(){};g.Q=function(e,g){this.type=e;this.behavior=e.behavior;this.i=g;this.b=e.b;this.Tj=this.Sj=this.Rj=this.Uj=this.ql=this.Fh=this.fh=this.Hg=this.Rh=!1;this.Rl=this.Ql=this.Pl=this.Tl=-1;this.la=this.fa=0};var t=g.Q.prototype;t.J=function(){this.rh=this.u[0];this.Sb=this.u[1];this.Wb=this.u[2];this.Uk=this.u[3];this.tk=this.u[4];this.Rt=1===this.u[5];this.enabled=
0!==this.u[6];this.Rt&&!this.b.Sa&&(jQuery(document).keydown(function(e){return function(g){e.mm(g)}}(this)),jQuery(document).keyup(function(e){return function(g){e.nm(g)}}(this)))};t.Na=function(){return{dx:this.fa,dy:this.la,enabled:this.enabled,maxspeed:this.rh,acc:this.Sb,dec:this.Wb,ignoreInput:this.ql}};t.bb=function(e){this.fa=e.dx;this.la=e.dy;this.enabled=e.enabled;this.rh=e.maxspeed;this.Sb=e.acc;this.Wb=e.dec;this.ql=e.ignoreInput;this.Tj=this.Sj=this.Rj=this.Uj=this.Fh=this.fh=this.Hg=
this.Rh=!1;this.Rl=this.Ql=this.Pl=this.Tl=-1};t.mm=function(e){var g=this.b.Gc;switch(e.which){case 37:e.preventDefault();this.Ql<g&&(this.fh=!0);break;case 38:e.preventDefault();this.Tl<g&&(this.Rh=!0);break;case 39:e.preventDefault();this.Rl<g&&(this.Fh=!0);break;case 40:e.preventDefault(),this.Pl<g&&(this.Hg=!0)}};t.nm=function(e){var g=this.b.Gc;switch(e.which){case 37:e.preventDefault();this.fh=!1;this.Ql=g;break;case 38:e.preventDefault();this.Rh=!1;this.Tl=g;break;case 39:e.preventDefault();
this.Fh=!1;this.Rl=g;break;case 40:e.preventDefault(),this.Hg=!1,this.Pl=g}};t.qf=function(){this.Fh=this.fh=this.Hg=this.Rh=!1};t.xb=function(){var e=this.b.Pf(this.i),g=this.fh||this.Sj,b=this.Fh||this.Tj,f=this.Rh||this.Uj,d=this.Hg||this.Rj;this.Rj=this.Uj=this.Tj=this.Sj=!1;if(this.enabled){var a=this.b.wf(this.i);if(a&&(this.b.Fj(this.i,a),!this.b.Xw(this.i)))return;this.ql&&(d=f=b=g=!1);0===this.Uk?b=g=!1:1===this.Uk&&(d=f=!1);2===this.Uk&&(f||d)&&(b=g=!1);g==b&&(0>this.fa?(this.fa+=this.Wb*
e,0<this.fa&&(this.fa=0)):0<this.fa&&(this.fa-=this.Wb*e,0>this.fa&&(this.fa=0)));f==d&&(0>this.la?(this.la+=this.Wb*e,0<this.la&&(this.la=0)):0<this.la&&(this.la-=this.Wb*e,0>this.la&&(this.la=0)));g&&!b&&(this.fa=0<this.fa?this.fa-(this.Sb+this.Wb)*e:this.fa-this.Sb*e);b&&!g&&(this.fa=0>this.fa?this.fa+(this.Sb+this.Wb)*e:this.fa+this.Sb*e);f&&!d&&(this.la=0<this.la?this.la-(this.Sb+this.Wb)*e:this.la-this.Sb*e);d&&!f&&(this.la=0>this.la?this.la+(this.Sb+this.Wb)*e:this.la+this.Sb*e);if(0!==this.fa||
0!==this.la){Math.sqrt(this.fa*this.fa+this.la*this.la)>this.rh&&(a=Math.atan2(this.la,this.fa),this.fa=this.rh*Math.cos(a),this.la=this.rh*Math.sin(a));b=this.i.x;f=this.i.y;g=this.i.j;this.i.x+=this.fa*e;this.i.H();if(a=this.b.wf(this.i))this.b.vq(this.i,0>this.fa?1:-1,0,Math.abs(Math.floor(this.fa*e)))||(this.i.x=b),this.fa=0,this.i.H(),this.b.Fj(this.i,a);this.i.y+=this.la*e;this.i.H();if(a=this.b.wf(this.i))this.b.vq(this.i,0,0>this.la?1:-1,Math.abs(Math.floor(this.la*e)))||(this.i.y=f),this.la=
0,this.i.H(),this.b.Fj(this.i,a);e=jb(this.fa);a=jb(this.la);0===e&&0===a||!this.i.type.na.ew||(1===this.tk?this.i.j=Na(90*Math.round(Ja(Math.atan2(a,e))/90)):2===this.tk?this.i.j=Na(45*Math.round(Ja(Math.atan2(a,e))/45)):3===this.tk&&(this.i.j=Math.atan2(a,e)));this.i.H();this.i.j!=g&&(a=this.b.wf(this.i))&&(this.i.j=g,this.i.H(),this.b.Fj(this.i,a))}}};e.prototype.vn=function(){return 1E-10<Math.sqrt(this.fa*this.fa+this.la*this.la)};g.g=new e;n.prototype.bt=function(e){switch(e){case 0:this.Sj=
!0;break;case 1:this.Tj=!0;break;case 2:this.Uj=!0;break;case 3:this.Rj=!0}};n.prototype.Ff=function(e){this.enabled=1===e};g.B=new n;m.prototype.ht=function(e){e.C(this.fa)};g.T=new m})();function xc(e){this.b=e}
(function(){function e(){}function n(){}var m=xc.prototype;m.ba=function(e){this.behavior=e;this.b=e.b};m.ba.prototype.J=function(){};m.Q=function(e,g){this.type=e;this.behavior=e.behavior;this.i=g;this.b=e.b};var g=m.Q.prototype;g.J=function(){this.rk=1===this.u[0];this.Iq=!1;this.Lg=this.u[1];this.sg=this.u[2];this.yi=this.u[3];this.St=this.u[4];this.fc=this.rk?0:3;this.ec?this.Dc.reset():this.Dc=new bb;this.Fe=this.i.opacity?this.i.opacity:1;this.rk&&(0===this.Lg?(this.fc=1,0===this.sg&&(this.fc=
2)):(this.i.opacity=0,this.b.Z=!0))};g.Na=function(){return{fit:this.Lg,wt:this.sg,fot:this.yi,s:this.fc,st:this.Dc.X,mo:this.Fe}};g.bb=function(e){this.Lg=e.fit;this.sg=e.wt;this.yi=e.fot;this.fc=e.s;this.Dc.reset();this.Dc.X=e.st;this.Fe=e.mo};g.xb=function(){this.Dc.add(this.b.Pf(this.i));0===this.fc&&(this.i.opacity=this.Dc.X/this.Lg*this.Fe,this.b.Z=!0,this.i.opacity>=this.Fe&&(this.i.opacity=this.Fe,this.fc=1,this.Dc.reset(),this.b.trigger(xc.prototype.g.es,this.i)));1===this.fc&&this.Dc.X>=
this.sg&&(this.fc=2,this.Dc.reset(),this.b.trigger(xc.prototype.g.Ks,this.i));2===this.fc&&0!==this.yi&&(this.i.opacity=this.Fe-this.Dc.X/this.yi*this.Fe,this.b.Z=!0,0>this.i.opacity&&(this.i.opacity=0,this.fc=3,this.Dc.reset(),this.b.trigger(xc.prototype.g.xn,this.i),1===this.St&&this.b.Jc(this.i)))};g.Co=function(){this.fc=0;this.Dc.reset();0===this.Lg?(this.fc=1,0===this.sg&&(this.fc=2)):(this.i.opacity=0,this.b.Z=!0)};e.prototype.xn=function(){return!0};e.prototype.es=function(){return!0};e.prototype.Ks=
function(){return!0};m.g=new e;n.prototype.ct=function(){this.rk||this.Iq||(this.Fe=this.i.opacity?this.i.opacity:1,this.Iq=!0);3===this.fc&&this.Co()};n.prototype.Ns=function(){this.Co()};n.prototype.Ws=function(e){0>e&&(e=0);this.sg=e};m.B=new n;m.T=new function(){}})();function yc(e){this.b=e}
(function(){function e(){}var n=yc.prototype;n.ba=function(b){this.behavior=b;this.b=b.b};var m=n.ba.prototype;m.J=function(){this.mc=[]};m.dv=function(b){var e,d,a;e=0;for(d=b.K.length;e<d;++e)if(a=b.K[e],a instanceof yc.prototype.Q&&a.type===this)return a;return null};n.Q=function(b,e){this.type=b;this.behavior=b.behavior;this.i=e;this.b=b.b};m=n.Q.prototype;m.J=function(){this.sw=this.u[0];this.zm=this.u[1];this.Hk=V(this.u[2]);this.mr=0!==this.u[3]};m.td=function(){};m.Na=function(){var b={r:this.zm,
c:this.Hk,t:[]},e,d;e=0;for(d=this.type.mc.length;e<d;e++)b.t.push(this.type.mc[e].R);return b};m.bb=function(b){this.zm=b.r;this.Hk=b.c;Q(this.type.mc);var e,d,a;e=0;for(d=b.t.length;e<d;e++)(a=this.b.Ze(b.t[e]))&&this.type.mc.push(a)};m.xb=function(){};var g=[],t=new J(0,0,0,0);m.Pv=function(b,e){var d=this.i.x,a=this.i.y,c=this.i.j;0>this.i.width&&(c+=Math.PI);if(W(d,a,b,e)>this.zm||Pa(c,Oa(d,a,b,e))>this.Hk/2)return!1;var h,k;t.set(d,a,b,e);t.normalize();if(0===this.sw)for(this.mr?this.b.ml(this.i.k,
t,g):(c=this.b.Rm)&&Fa(g,c.sh.qc()),c=0,h=g.length;c<h;++c){if(k=g[c],k.I.solidEnabled&&k!==this.i&&this.b.Uq(d,a,b,e,k))return Q(g),!1}else{if(this.mr)this.b.Li(this.i.k,this.type.mc,t,g);else for(c=0,h=this.type.mc.length;c<h;++c)Fa(g,this.type.mc[c].e);c=0;for(h=g.length;c<h;++c)if(k=g[c],k!==this.i&&this.b.Uq(d,a,b,e,k))return Q(g),!1}Q(g);return!0};var v=new ca,r=new ca;e.prototype.Gr=function(b){if(!b)return!1;var e,d,a,c,h,g,m,n,q=this.b.mv().ca();b=b.ca();var l=q.Yb(),t=b.Yb();q.da&&Q(q.Y);
b.da&&Q(b.Y);var U=this.b.Ii().Pi;e=0;for(a=l.length;e<a;++e){h=l[e];n=!1;g=this.dv(h);d=0;for(c=t.length;d<c;++d)m=t[d],h!==m&&Sa(g.Pv(m.x,m.y),U)&&(n=!0,r.add(m));n&&v.add(h)}e=v.qc();d=r.qc();q.da=!1;b.da=!1;S(q.e,e);S(b.e,d);v.clear();r.clear();return q.Ni()};n.g=new e;n.B=new function(){};n.T=new function(){}})();function zc(e){this.b=e}
(function(){function e(){}function n(){}var m={},g=zc.prototype;g.hg=function(){var b,e;for(b in m)m.hasOwnProperty(b)&&(e=m[b],e.He.unsetReady(),e.Eh=!0)};g.ba=function(b){this.behavior=b;this.b=b.b};g.ba.prototype.J=function(){this.mc=[];this.je=[]};g.Q=function(b,e){this.type=b;this.behavior=b.behavior;this.i=e;this.b=b.b};var t=g.Q.prototype;t.J=function(){this.Da=this.u[0];3>this.Da&&(this.Da=3);this.Pc=this.u[1];this.uw=this.u[2];this.pd=this.u[3];this.Sb=this.u[4];this.Wb=this.u[5];this.bi=
V(this.u[6]);this.Hj=0!==this.u[7];this.vi=0!==this.u[8];this.enabled=0!==this.u[9];this.Sg=this.Ci=this.oj=this.Uf=!1;this.Lb=0;this.Zi=this.fd=this.i.j;this.Dh=this.yd=this.xd=this.Ka=0;this.Ge=Math.ceil(this.b.ga.width/this.Da);this.nf=Math.ceil(this.b.ga.height/this.Da);this.Fa=[];this.Gg=!1;this.Rk=this.Qk=0;this.Ri=this.Vi=!1;this.no=this.lo=0;this.Lo=!0;var b=this;this.ec||(this.Hw=function(){b.Vi||(b.Ri=!1,b.Kt(),b.Sg=0<b.Fa.length,b.Lb=0,b.b.trigger(zc.prototype.g.xs,b.i),b.Vk())},this.Gw=
function(){b.Vi||(b.Ri=!1,b.to(),b.Sg=!1,b.Uf=!1,b.Lb=0,b.b.trigger(zc.prototype.g.gs,b.i),b.Vk())})};t.td=function(){this.Vi=!0;this.Gg=!1};t.Na=function(){var b={cs:this.Da,cb:this.Pc,ms:this.pd,acc:this.Sb,dec:this.Wb,av:this.bi,re:this.Hj,de:this.vi,im:this.Uf,mfs:this.oj,ftmwm:this.Ci,hp:this.Sg,mn:this.Lb,a:this.fd,lka:this.Zi,s:this.Ka,rx:this.xd,ry:this.yd,ra:this.Dh,myhc:this.Ge,myvc:this.nf,path:this.Fa,en:this.enabled,fr:this.Lo,obs:[],costs:[]};this.Ri?(b.dfp=!0,b.dpx=this.lo,b.dpy=this.no):
(b.dfp=this.Gg,b.dpx=this.Qk,b.dpy=this.Rk);var e,d;e=0;for(d=this.type.mc.length;e<d;e++)b.obs.push(this.type.mc[e].R);e=0;for(d=this.type.je.length;e<d;e++)b.costs.push({sid:this.type.je[e].cq.R,cost:this.type.je[e].wo});return b};t.bb=function(b){this.Da=b.cs;this.Pc=b.cb;this.pd=b.ms;this.Sb=b.acc;this.Wb=b.dec;this.bi=b.av;this.Hj=b.re;this.vi=b.de;this.Uf=b.im;this.oj=b.mfs;this.Ci=b.ftmwm;this.Sg=b.hp;this.Lb=b.mn;this.fd=b.a;this.Zi=b.lka;this.Ka=b.s;this.xd=b.rx;this.yd=b.ry;this.Dh=b.ra;
this.Ge=b.myhc;this.nf=b.myvc;this.Fa=b.path;this.enabled=b.en;this.Lo=b.fr;this.Gg=b.dfp;this.Qk=b.dpx;this.Rk=b.dpy;Q(this.type.mc);var e=b.obs,d,a,c;d=0;for(a=e.length;d<a;d++)(c=this.b.Ze(e[d]))&&this.type.mc.push(c);Q(this.type.je);b=b.costs;d=0;for(a=b.length;d<a;d++)(c=this.b.Ze(b[d].sid))&&this.type.je.push({cq:c,wo:b[d].cost});this.Rf().He.setDiagonals(this.vi)};t.Ed=function(){this.Rf().Eh=!0};t.xb=function(){if(this.enabled&&this.Uf){this.Hj&&this.i.j!==this.Zi&&(this.fd=this.i.j);var b=
this.b.Pf(this.i),e,d,a,c,h,g=this.i,m=Math.min(.4*this.pd,2*Math.abs(this.i.width)),n=Math.max(1.5*this.Ka,30);this.Lb<this.Fa.length?(c=this.Fa[this.Lb].x,h=this.Fa[this.Lb].y,a=W(this.xd,this.yd,c,h),a<3*n*b&&(this.Lb++,this.xd=c,this.yd=h,this.Lb<this.Fa.length&&(c=this.Fa[this.Lb].x,h=this.Fa[this.Lb].y))):(c=this.Fa[this.Fa.length-1].x,h=this.Fa[this.Fa.length-1].y);this.Dh=Oa(this.xd,this.yd,c,h);a=W(g.x,g.y,this.xd,this.yd);a<m&&this.Lb<this.Fa.length&&(this.Ci?this.Ci=!1:m=n*b,this.xd+=Math.cos(this.Dh)*
m,this.yd+=Math.sin(this.Dh)*m);e=Oa(g.x,g.y,this.xd,this.yd);d=Pa(this.fd,e);m=W(g.x,g.y,this.Fa[this.Fa.length-1].x,this.Fa[this.Fa.length-1].y);n=this.pd*this.pd/(2*this.Wb);1<a&&(this.fd=Qa(this.fd,e,this.bi*b),.5>=Ja(d)?d=this.pd:120<=Ja(d)||this.oj&&0===this.Lb?(d=0,this.oj=!0):(e=d/this.bi,a=W(g.x,g.y,this.xd,this.yd),a=a/(2*Math.sin(d)),d=a*d/e,0>d&&(d=0),d>this.pd&&(d=this.pd)),m<n&&(d=Math.min(d,m/n*this.pd+this.pd/40)),this.Ka+=this.Sb*b,this.Ka>d&&(this.Ka=d));g.x+=Math.cos(this.fd)*this.Ka*
b;g.y+=Math.sin(this.fd)*this.Ka*b;this.Hj&&(this.Zi=g.j=this.fd);g.H();this.Lb===this.Fa.length&&W(g.x,g.y,c,h)<Math.max(3*this.Ka*b,10)&&(this.Sg=this.Uf=!1,this.Ka=this.Lb=0,this.b.trigger(zc.prototype.g.Yr,g))}};t.yf=function(){this.enabled&&(this.jv(),this.Vk())};t.Vk=function(){this.Gg&&!this.Vi&&(this.Gg=!1,this.Yt(this.i.x,this.i.y,this.Qk,this.Rk))};t.Rf=function(){var b=""+this.Da+","+this.Pc;m.hasOwnProperty(b)||(m[b]={He:new window.Pathfinder,cells:null,Eh:!1,tf:[]});return m[b]};t.jv=
function(){var b=this.Rf();if(!b.He.isReady()||b.Eh||b.tf.length){var e,d,a,c,g,k,m,n,q,l;if(!b.He.isReady()||b.Eh){this.Ge=Math.ceil(this.b.ga.width/this.Da);this.nf=Math.ceil(this.b.ga.height/this.Da);e=[];c=e.length=this.Ge;g=this.nf;for(d=0;d<c;++d)for(e[d]=[],e[d].length=g,a=0;a<g;++a)e[d][a]=this.xq(d,a);b.cells=e;b.He.init(this.Ge,this.nf,e,this.vi);b.Eh=!1;Q(b.tf)}else if(b.tf.length){k=0;for(m=b.tf.length;k<m;++k){e=b.tf[k];n=e[0];q=e[1];c=e[2];d=e[3];e=[];c=c-n;g=d-q;e.length=c;for(d=0;d<
c;++d)for(e[d]=[],e[d].length=g,a=0;a<g;++a)l=this.xq(n+d,q+a),e[d][a]=l,b.cells[n+d][q+a]=l;b.He.updateRegion(n,q,c,g,e)}Q(b.tf)}}};t.to=function(){var b,e;b=0;for(e=this.Fa.length;b<e;b++)window.freeResultNode(this.Fa[b]);Q(this.Fa)};t.Kt=function(){var b=this.Rf().He.pathList;this.to();var e,d,a,c;e=0;for(d=b.length;e<d;e++)a=b[e],c=window.allocResultNode(),c.x=(a.x+.5)*this.Da,c.y=(a.y+.5)*this.Da,this.Fa.push(c)};var v=[],r=new J;t.xq=function(b,e){var d,a,c,g,k,m=0;r.left=b*this.Da-this.Pc;
r.top=e*this.Da-this.Pc;r.right=(b+1)*this.Da+this.Pc;r.bottom=(e+1)*this.Da+this.Pc;if(0===this.uw){if(this.b.xx(r))return window.PF_OBSTACLE}else{this.b.Li(this.i.k,this.type.mc,r,v);d=0;for(a=v.length;d<a;++d)if(this.b.Wm(r,v[d]))return Q(v),window.PF_OBSTACLE;v.length=0}d=0;for(a=this.type.je.length;d<a;d++){c=this.type.je[d].cq;k=this.type.je[d].wo;this.b.Qo(this.i.k,c,r,v);c=0;for(g=v.length;c<g;++c)this.b.Wm(r,v[c])&&(m+=k);Q(v)}return m};t.Yt=function(b,e,d,a){var c=this.Rf().He;if(c.isReady()){this.Ri=
!0;this.lo=d;this.no=a;b=Math.floor(b/this.Da);e=Math.floor(e/this.Da);d=Math.floor(d/this.Da);a=Math.floor(a/this.Da);var g,k,m,n,q,l,r;if(c.at(d,a)===window.PF_OBSTACLE){g=1E6;for(n=m=k=0;n<this.Ge;n++)for(q=0;q<this.nf;q++)c.at(n,q)!==window.PF_OBSTACLE&&(l=d-n,r=a-q,l=l*l+r*r,l<g&&(g=l,k=n,m=q));d=k;a=m}c.findPath(b,e,d,a,this.Hw,this.Gw)}};e.prototype.xs=function(){return!0};e.prototype.gs=function(){return!0};e.prototype.vn=function(){return this.Uf};e.prototype.Yr=function(){return!0};g.g=
new e;n.prototype.Ff=function(b){this.enabled=0!==b};t.Ag=function(b,e,d,a){var c=Math.min(b,d)-this.Pc,g=Math.min(e,a)-this.Pc;b=Math.max(b,d)+this.Pc;e=Math.max(e,a)+this.Pc;c=Math.max(Math.floor(c/this.Da),0);g=Math.max(Math.floor(g/this.Da),0);b=Math.min(Math.ceil(b/this.Da),this.Ge);e=Math.min(Math.ceil(e/this.Da),this.nf);c>=b||g>=e||this.Rf().tf.push([c,g,b,e])};g.B=new n;g.T=new function(){}})();function Ac(e){this.b=e}
(function(){var e=Ac.prototype;e.ba=function(e){this.behavior=e;this.b=e.b};e.ba.prototype.J=function(){};e.Q=function(e,g){this.type=e;this.behavior=e.behavior;this.i=g;this.b=e.b};var n=e.Q.prototype;n.J=function(){this.Qb={}};n.td=function(){Wa(this.Qb)};n.Na=function(){var e={},g,n;for(g in this.Qb)this.Qb.hasOwnProperty(g)&&(n=this.Qb[g],e[g]={c:n.current.X,t:n.total.X,d:n.duration,r:n.zq});return e};n.bb=function(e){this.Qb={};for(var g in e)e.hasOwnProperty(g)&&(this.Qb[g]={current:new bb,
total:new bb,duration:e[g].d,zq:e[g].r},this.Qb[g].current.X=e[g].c,this.Qb[g].total.X=e[g].t)};n.xb=function(){var e=this.b.Pf(this.i),g,n;for(g in this.Qb)this.Qb.hasOwnProperty(g)&&(n=this.Qb[g],n.current.add(e),n.total.add(e))};n.yf=function(){var e,g;for(e in this.Qb)this.Qb.hasOwnProperty(e)&&(g=this.Qb[e],g.current.X>=g.duration&&(g.zq?g.current.X-=g.duration:delete this.Qb[e]))};e.g=new function(){};e.B=new function(){};e.T=new function(){}})();
function Bc(e){this.b=e;this.Nm=this.Qj=this.Jh=this.Mm=0}
(function(){function e(){}var n=Bc.prototype;n.ba=function(e){this.behavior=e;this.b=e.b};n.ba.prototype.J=function(){};n.Q=function(e,m){this.type=e;this.behavior=e.behavior;this.i=m;this.b=e.b};var m=n.Q.prototype;m.J=function(){this.enabled=0!==this.u[0]};m.Na=function(){return{smg:this.behavior.Mm,ss:this.behavior.Jh,se:this.behavior.Qj,smd:this.behavior.Nm}};m.bb=function(e){this.behavior.Mm=e.smg;this.behavior.Jh=e.ss;this.behavior.Qj=e.se;this.behavior.Nm=e.smd};m.xb=function(){};m.yf=function(){if(this.enabled){var e=
this.behavior.sh.qc(),m=0,n=0,r,b,f,d=0;r=0;for(b=e.length;r<b;r++){a:{f=e[r];for(var a=void 0,c=void 0,h=void 0,a=0,c=f.K.length;a<c;++a)if(h=f.K[a],h.behavior instanceof Bc){f=h;break a}f=null}f&&f.enabled&&(m+=e[r].x,n+=e[r].y,++d)}e=this.i.k.Ua;b=this.b.$b.X;f=r=0;b>=this.behavior.Jh&&b<this.behavior.Qj&&(r=this.behavior.Mm*Math.min(this.b.ng,1),0===this.behavior.Nm&&(r*=1-(b-this.behavior.Jh)/(this.behavior.Qj-this.behavior.Jh)),b=Math.random()*Math.PI*2,f=Math.random()*r,r=Math.cos(b)*f,f*=
Math.sin(b));e.Jm(m/d+r);e.Km(n/d+f)}};e.prototype.Ff=function(e){this.enabled=0!==e};n.B=new e})();function oc(e){this.b=e;this.gm=[]}
(function(){function e(){}function n(){}function m(){}var g=oc.prototype;g.ba=function(e,g){this.behavior=e;this.b=e.b;-1===this.behavior.gm.indexOf(g)&&this.behavior.gm.push(g)};g.ba.prototype.J=function(){};g.Q=function(e,g){this.type=e;this.behavior=e.behavior;this.i=g;this.b=e.b};var t=g.Q.prototype;t.J=function(){this.i.I.shadowcasterEnabled=0!==this.u[0];this.i.I.shadowcasterHeight=this.u[1];this.i.I.shadowcasterTag=this.u[2]};t.xb=function(){};e.prototype.Br=function(e,g){return cc(this.i.I.shadowcasterHeight,
e,g)};g.g=new e;n.prototype.Ff=function(e){this.i.I.shadowcasterEnabled=!!e};n.prototype.Rs=function(e){this.i.I.shadowcasterHeight!==e&&(this.i.I.shadowcasterHeight=e,this.b.Z=!0)};g.B=new n;m.prototype.Hr=function(e){e.C(this.i.I.shadowcasterHeight)};g.T=new m})();function nc(e){this.b=e}
(function(){function e(){}var n=nc.prototype;n.ba=function(e){this.behavior=e;this.b=e.b};n.ba.prototype.J=function(){};n.Q=function(e,m){this.type=e;this.behavior=e.behavior;this.i=m;this.b=e.b};var m=n.Q.prototype;m.J=function(){this.i.I.solidEnabled=0!==this.u[0]};m.xb=function(){};n.g=new function(){};e.prototype.Ff=function(e){this.i.I.solidEnabled=!!e};n.B=new e})();
function mc(){return[pc,qc,Z,uc,rc,sc,tc,Y,wc,Bc,yc,xc,nc,oc,zc,vc,Ac,Y.prototype.g.Cr,Z.prototype.T.Tr,Bc.prototype.B.Ff,rc.prototype.B.On,X.prototype.T.Kx,X.prototype.T.Jx,tc.prototype.g.Mr,Y.prototype.B.On,X.prototype.g.An,X.prototype.B.Ts,uc.prototype.B.Us,X.prototype.T.bx,Z.prototype.B.dt,Z.prototype.B.qr,Z.prototype.B.et,yc.prototype.g.Gr,Y.prototype.B.Qn,xc.prototype.g.xn,rc.prototype.B.Qn,Y.prototype.B.Os,X.prototype.g.Fr,X.prototype.g.Ar,wc.prototype.T.ht,Y.prototype.B.Ss,Y.prototype.B.Vs,
X.prototype.g.Kr,X.prototype.g.gt,Z.prototype.g.Or,rc.prototype.B.sr,Z.prototype.B.Zs,Z.prototype.g.Hn,Z.prototype.B.$s,X.prototype.T.round,X.prototype.T.random,Z.prototype.g.Kn,Z.prototype.B.Ys,Z.prototype.g.Jn,X.prototype.T.rw,Z.prototype.g.Lr,X.prototype.B.it,Z.prototype.B.ur,Y.prototype.B.Er,X.prototype.B.Qs,Z.prototype.g.In,Z.prototype.g.Fn,X.prototype.B.Dr,Z.prototype.T.Ls,Y.prototype.B.Sr,Z.prototype.T.Ms,X.prototype.T.Kv,wc.prototype.B.bt,xc.prototype.B.Ws,xc.prototype.B.ct,X.prototype.T.Sv,
xc.prototype.B.Ns,uc.prototype.B.Pn,qc.prototype.g.Nr,wc.prototype.g.vn,X.prototype.T.tx,Y.prototype.g.Df,X.prototype.g.un,Z.prototype.B.Ps,Y.prototype.B.lt,Y.prototype.B.Pn,X.prototype.T.Tt,Y.prototype.T.Rn,Y.prototype.T.Sn,Y.prototype.B.Rr,X.prototype.T.j]};
